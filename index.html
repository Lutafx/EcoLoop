<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoLoop - –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –æ—Ç–µ–ª–µ–π | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç—Ö–æ–¥–∞–º–∏</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#10b981">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="/icon-192.png">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Manrope:wght@400;500;600;700;800&family=Space+Grotesk:wght@500;600;700&display=swap');
        
        * {
            font-family: 'Manrope', 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: #0a0a0a;
            color: #e5e5e5;
            overflow-x: hidden;
        }
        
        /* –°—Ç–∞—Ç–∏—á–Ω—ã–π —Ç—ë–º–Ω—ã–π —Ñ–æ–Ω */
        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            background: #0a0a0a;
        }

        /* Canvas —á–∞—Å—Ç–∏—Ü */
        .particles-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        @keyframes shimmer {
            0% { background-position: -1000px 0; }
            100% { background-position: 1000px 0; }
        }
        
        /* –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ç–µ–∫—Å—Ç - Quietude –∑–µ–ª–µ–Ω—ã–π */
        .gradient-text {
            background: linear-gradient(135deg, #8EA99A, #A8C5B5, #8EA99A);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradient-shift 8s ease infinite;
        }
        
        @keyframes gradient-shift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        /* –¢–µ–º–Ω—ã–π glass —ç—Ñ—Ñ–µ–∫—Ç —Å—Ç–∞—Ä—Ç–∞–ø–∞ */
        .glass-effect {
            background: rgba(18, 18, 18, 0.8);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(142, 169, 154, 0.1);
            box-shadow: 
                0 4px 24px 0 rgba(0, 0, 0, 0.5),
                inset 0 1px 0 0 rgba(255, 255, 255, 0.05);
        }
        
        /* –¢–µ–º–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∞—Ä—Ç–∞–ø–∞ */
        .mirror-card {
            position: relative;
            background: #1a1a1a;
            border: 1px solid rgba(142, 169, 154, 0.15);
            border-radius: 20px;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);
        }
        
        .mirror-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.1),
                transparent
            );
            transition: left 0.5s;
        }
        
        .mirror-card:hover::before {
            left: 100%;
        }
        
        .mirror-card::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(16, 185, 129, 0.1) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.4s;
        }
        
        .mirror-card:hover::after {
            opacity: 1;
        }
        
        .mirror-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 30px rgba(142, 169, 154, 0.15);
            border-color: rgba(142, 169, 154, 0.4);
        }
        
        /* –ú–æ–±–∏–ª—å–Ω–∞—è –Ω–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è */
        .mobile-nav {
            display: none;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(142, 169, 154, 0.15);
            padding: 8px 0 max(8px, env(safe-area-inset-bottom));
        }
        @media (max-width: 768px) {
            .mobile-nav { display: flex; justify-content: space-around; align-items: center; }
            body { padding-bottom: 80px; }
        }
        .mobile-nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2px;
            padding: 6px 12px;
            color: #666;
            font-size: 10px;
            font-weight: 500;
            transition: color 0.2s;
            cursor: pointer;
            -webkit-tap-highlight-color: transparent;
        }
        .mobile-nav-item.active { color: #10b981; }
        .mobile-nav-item span { font-size: 20px; }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ */
        @media (max-width: 640px) {
            .hero-title { font-size: 2rem !important; }
            .hero-subtitle { font-size: 0.875rem !important; }
        }

        /* Ripple —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –∫–ª–∏–∫–µ */
        @keyframes ripple-anim {
            0% { transform: scale(0); opacity: 0.5; }
            100% { transform: scale(4); opacity: 0; }
        }
        .ripple-effect { position: relative; overflow: hidden; }
        .ripple-effect .ripple {
            position: absolute;
            border-radius: 50%;
            background: rgba(255,255,255,0.35);
            width: 100px; height: 100px;
            margin-top: -50px; margin-left: -50px;
            animation: ripple-anim 0.6s ease-out;
            pointer-events: none;
        }

        /* –ü—Ä–µ–º–∏—É–º –∫–Ω–æ–ø–∫–∏ */
        .btn-gradient {
            position: relative;
            background: linear-gradient(135deg, #8EA99A, #A8C5B5);
            border: none;
            overflow: hidden;
            transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: none;
            cursor: pointer;
        }
        .btn-gradient:hover {
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 8px 25px rgba(142, 169, 154, 0.35), 0 0 40px rgba(142,169,154,0.12);
        }
        .btn-gradient:active {
            transform: translateY(0) scale(0.97);
            box-shadow: 0 2px 10px rgba(142, 169, 154, 0.2), inset 0 0 12px rgba(255,255,255,0.15);
        }

        /* –ö–Ω–æ–ø–∫–∞ –∫–æ–Ω—Ç—É—Ä–Ω–∞—è */
        .btn-outline {
            background: transparent;
            border: 1px solid rgba(255,255,255,0.15);
            color: #fff;
            cursor: pointer;
            transition: all 0.25s ease;
            position: relative;
            overflow: hidden;
        }
        .btn-outline:hover {
            border-color: rgba(142,169,154,0.5);
            background: rgba(142,169,154,0.06);
            box-shadow: 0 0 20px rgba(142,169,154,0.12);
            transform: translateY(-2px) scale(1.02);
        }
        .btn-outline:active {
            transform: scale(0.97);
            background: rgba(142,169,154,0.12);
        }

        /* –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç –¥–ª—è hero */
        .hero-accent {
            background: linear-gradient(90deg, #8EA99A, #5B8291, #F2C94C, #8EA99A);
            background-size: 300% 100%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: hero-flow 6s ease infinite;
        }
        @keyframes hero-flow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Sticky header */
        .header-sticky {
            position: sticky;
            top: 0;
            z-index: 50;
            transition: all 0.3s ease;
        }
        .header-sticky.scrolled {
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(20px);
            box-shadow: 0 2px 20px rgba(0,0,0,0.5);
        }

        /* Focus glow –Ω–∞ –∏–Ω–ø—É—Ç–∞—Ö */
        input:focus, select:focus, textarea:focus {
            box-shadow: 0 0 0 2px rgba(142,169,154,0.2) !important;
        }

        /* Scroll to top */
        .scroll-top-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 44px;
            height: 44px;
            border-radius: 12px;
            background: rgba(142,169,154,0.15);
            border: 1px solid rgba(142,169,154,0.2);
            color: #8EA99A;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 50;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        .scroll-top-btn:hover {
            background: rgba(142,169,154,0.25);
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(142,169,154,0.15);
        }

        /* Toast */
        @keyframes slideInRight {
            from { transform: translateX(120%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        @keyframes slideOutRight {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(120%); opacity: 0; }
        }
        .toast {
            position: fixed;
            top: 24px;
            right: 24px;
            z-index: 200;
            background: #1a1a1a;
            border: 1px solid rgba(142,169,154,0.2);
            border-radius: 14px;
            padding: 14px 20px;
            animation: slideInRight 0.4s ease;
            box-shadow: 0 8px 30px rgba(0,0,0,0.4);
        }
        .toast.hiding { animation: slideOutRight 0.3s ease forwards; }

        /* –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é */
        .mobile-menu {
            position: fixed;
            inset: 0;
            z-index: 90;
            background: rgba(10,10,10,0.97);
            backdrop-filter: blur(20px);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 32px;
            animation: fadeIn 0.3s ease;
        }

        /* FAQ accordion */
        .faq-item {
            border: 1px solid rgba(255,255,255,0.06);
            border-radius: 16px;
            overflow: hidden;
            transition: all 0.3s ease;
            background: rgba(255,255,255,0.02);
        }
        .faq-item:hover { border-color: rgba(255,255,255,0.12); }
        .faq-item.open { border-color: rgba(142,169,154,0.25); }
        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease, padding 0.3s ease;
        }
        .faq-item.open .faq-answer { max-height: 200px; }

        /* –ö–∞—Ä—Ç–æ—á–∫–∏ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π –ø—Ä–∏ –∫–ª–∏–∫–µ */
        .card-clickable {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .card-clickable:active {
            transform: scale(0.98);
            box-shadow: inset 0 0 20px rgba(142,169,154,0.1);
        }

        /* –ú–æ–¥–∞–ª–∫–∞ Terms */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.7);
            backdrop-filter: blur(4px);
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .modal-content {
            background: #141414;
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            max-width: 600px;
            width: 90%;
            max-height: 85vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        .modal-scroll {
            overflow-y: auto;
            flex: 1;
            padding: 24px;
            max-height: 50vh;
        }
        .modal-scroll::-webkit-scrollbar { width: 4px; }
        .modal-scroll::-webkit-scrollbar-thumb { background: #8EA99A; border-radius: 4px; }
        
        /* –°–≤–µ—Ç—è—â–∏–µ—Å—è –≥—Ä–∞–Ω–∏—Ü—ã —Å—Ç–∞—Ä—Ç–∞–ø–∞ */
        .glow-border {
            position: relative;
            border: 2px solid transparent;
            background: linear-gradient(135deg, #1a1a1a, #121212) padding-box,
                        linear-gradient(135deg, #8EA99A, #5B8291) border-box;
            border-radius: 24px;
            box-shadow: 0 8px 40px rgba(142, 169, 154, 0.15);
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è */
        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ - –¢–µ–º–Ω—ã–π Bento */
        .stat-card {
            position: relative;
            background: #1a1a1a;
            border: 1px solid rgba(91, 130, 145, 0.2);
            border-radius: 16px;
            padding: 28px;
            overflow: hidden;
            transition: all 0.4s ease;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.6);
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, transparent, #8EA99A, #5B8291, transparent);
            animation: shimmer 4s infinite;
        }
        
        .stat-card:hover {
            transform: translateY(-3px);
            border-color: rgba(142, 169, 154, 0.35);
            box-shadow: 0 6px 24px rgba(142, 169, 154, 0.12);
        }
        
        /* –°–∫—Ä–æ–ª–ª–±–∞—Ä */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #0a0a0a;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #8EA99A, #5B8291);
            border-radius: 6px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #8EA99A;
        }
        
        /* –ü–ª–∞–≤–∞—é—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã */
        .float-element {
            animation: float 6s ease-in-out infinite;
        }
        
        /* –ü—É–ª—å—Å–∏—Ä—É—é—â–∏–π —ç—Ñ—Ñ–µ–∫—Ç */
        .pulse-glow {
            animation: pulseGlow 2s ease-in-out infinite;
        }
        
        @keyframes pulseGlow {
            0%, 100% {
                box-shadow: 0 0 30px rgba(142, 169, 154, 0.2);
            }
            50% {
                box-shadow: 0 0 50px rgba(142, 169, 154, 0.4);
            }
        }
        
        /* –ö–Ω–æ–ø–∫–∞ –≤—ã–±–æ—Ä–∞ —Ä–æ–ª–∏ - —Ç–µ–º–Ω–∞—è */
        .role-button {
            position: relative;
            background: #1a1a1a;
            border: 2px solid rgba(142, 169, 154, 0.2);
            border-radius: 20px;
            padding: 36px;
            transition: all 0.4s ease;
            cursor: pointer;
        }
        
        .role-button:hover {
            border-color: #8EA99A;
            box-shadow: 0 8px 28px rgba(142, 169, 154, 0.2);
            transform: translateY(-4px);
        }
        
        .role-button.active {
            border-color: #8EA99A;
            background: linear-gradient(135deg, rgba(142, 169, 154, 0.1), rgba(91, 130, 145, 0.1));
            box-shadow: 0 8px 28px rgba(142, 169, 154, 0.25);
        }
        
        /* –ü–æ–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ */
        .upload-area {
            border: 2px dashed rgba(255,255,255,0.15);
            border-radius: 12px;
            padding: 40px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            background: rgba(255,255,255,0.03);
        }
        
        .upload-area:hover {
            border-color: #8EA99A;
            background: rgba(142, 169, 154, 0.05);
        }
        
        .upload-area.dragover {
            border-color: #8EA99A;
            background: rgba(142, 169, 154, 0.1);
        }

        /* –ü—Ä–µ–º–∏—É–º –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Å–µ–∫—Ü–∏–π */
        .section-label {
            font-family: 'Space Grotesk', 'Manrope', sans-serif;
            font-size: 13px;
            font-weight: 600;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 6px 16px;
            border-radius: 100px;
            border: 1px solid rgba(142,169,154,0.15);
            background: rgba(142,169,154,0.06);
            color: #8EA99A;
            margin-bottom: 20px;
        }
        .section-label::before {
            content: '';
            display: block;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: #8EA99A;
            box-shadow: 0 0 8px rgba(142,169,154,0.5);
        }
        .section-title {
            font-family: 'Space Grotesk', 'Manrope', sans-serif;
            font-weight: 700;
            letter-spacing: -0.02em;
        }

        /* Callback —Ñ–æ—Ä–º–∞ */
        .callback-card {
            background: linear-gradient(135deg, rgba(142,169,154,0.06), rgba(91,130,145,0.04));
            border: 1px solid rgba(142,169,154,0.12);
            border-radius: 24px;
            padding: 48px;
            position: relative;
            overflow: hidden;
        }
        .callback-card::before {
            content: '';
            position: absolute;
            top: -40%;
            right: -20%;
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(142,169,154,0.08) 0%, transparent 70%);
            pointer-events: none;
        }

        /* Animated counter */
        .counter-value {
            font-family: 'Space Grotesk', monospace;
            font-variant-numeric: tabular-nums;
        }

        /* –ü–∞—Ä—Ç–Ω—ë—Ä—ã */
        .partner-badge {
            padding: 12px 28px;
            border-radius: 14px;
            border: 1px solid rgba(255,255,255,0.06);
            background: rgba(255,255,255,0.02);
            font-size: 14px;
            font-weight: 600;
            color: rgba(255,255,255,0.5);
            transition: all 0.3s ease;
        }
        .partner-badge:hover {
            border-color: rgba(142,169,154,0.2);
            color: rgba(255,255,255,0.8);
        }
        
        /* –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ */
        .reveal {
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94), transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        .reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .reveal-delay-1 { transition-delay: 0.1s; }
        .reveal-delay-2 { transition-delay: 0.2s; }
        .reveal-delay-3 { transition-delay: 0.3s; }
        .reveal-delay-4 { transition-delay: 0.4s; }

        html { scroll-behavior: smooth; }

        /* Sunny –∂–µ–ª—Ç–∞—è –∫–Ω–æ–ø–∫–∞-–∞–∫—Ü–µ–Ω—Ç */
        .btn-gold {
            background: linear-gradient(135deg, #F2C94C, #FFD666);
            color: #0a0a0a;
            font-weight: 800;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(242, 201, 76, 0.4);
        }
        
        .btn-gold:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 35px rgba(242, 201, 76, 0.5);
        }

        /* Hover glow –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
        .hover-glow {
            transition: all 0.35s cubic-bezier(0.4,0,0.2,1);
        }
        .hover-glow:hover {
            border-color: rgba(142,169,154,0.25) !important;
            box-shadow: 0 0 30px rgba(142,169,154,0.06), 0 8px 32px rgba(0,0,0,0.15);
            transform: translateY(-3px);
        }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è hover */
        .nav-link {
            position: relative;
            transition: color 0.2s ease;
        }
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, #8EA99A, #5B8291);
            transition: width 0.3s ease;
            border-radius: 1px;
        }
        .nav-link:hover::after {
            width: 100%;
        }

        /* Chart container */
        .chart-container {
            position: relative;
            background: rgba(255,255,255,0.02);
            border: 1px solid rgba(255,255,255,0.06);
            border-radius: 20px;
            padding: 24px;
        }

        /* Admin badge */
        .status-badge {
            font-size: 11px;
            font-weight: 600;
            padding: 4px 10px;
            border-radius: 100px;
            letter-spacing: 0.02em;
        }
        .status-active { background: rgba(52,211,153,0.12); color: #34d399; }
        .status-pending { background: rgba(251,191,36,0.12); color: #fbbf24; }
        .status-rejected { background: rgba(239,68,68,0.12); color: #ef4444; }

        /* Tab buttons */
        .tab-btn {
            padding: 8px 20px;
            border-radius: 10px;
            font-size: 13px;
            font-weight: 600;
            transition: all 0.2s ease;
            color: rgba(255,255,255,0.4);
            background: transparent;
            cursor: pointer;
            border: 1px solid transparent;
        }
        .tab-btn:hover { color: rgba(255,255,255,0.7); }
        .tab-btn.active {
            background: rgba(142,169,154,0.1);
            color: #8EA99A;
            border-color: rgba(142,169,154,0.15);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
        function App() {
            const [currentPage, setCurrentPage] = useState(() => {
                const saved = localStorage.getItem('ecoloop_page');
                return (saved && !['admin'].includes(saved)) ? saved : 'landing';
            });
            const [userRole, setUserRole] = useState(null);
            const [selectedLot, setSelectedLot] = useState(null);
            const [user, setUser] = useState(null);
            const [authLoading, setAuthLoading] = useState(true);

            // –°–ª—É—à–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
            useEffect(() => {
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ redirect –ø–æ—Å–ª–µ Google Auth
                auth.getRedirectResult().then(result => {
                    if (result?.user) {
                        navigate('marketplace');
                    }
                }).catch(e => console.error('Redirect result err:', e));

                const unsub = auth.onAuthStateChanged(async (u) => {
                    setUser(u);
                    setAuthLoading(false);
                    if (u) {
                        // –°–æ—Ö—Ä–∞–Ω—è–µ–º/–æ–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ—Ñ–∏–ª—å –≤ Firestore
                        try {
                            await db.collection('users').doc(u.uid).set({
                                email: u.email,
                                name: u.displayName,
                                photo: u.photoURL,
                                lastLogin: firebase.firestore.FieldValue.serverTimestamp()
                            }, { merge: true });
                        } catch (e) { console.error('User save err:', e); }
                    } else {
                        // –ï—Å–ª–∏ –Ω–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω, –∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç—Ä–µ–±—É–µ—Ç –ª–æ–≥–∏–Ω–∞ ‚Äî –Ω–∞ landing
                        const authPages = ['account', 'hotel-cabinet', 'create-lot', 'payouts'];
                        const saved = localStorage.getItem('ecoloop_page');
                        if (saved && authPages.includes(saved)) {
                            setCurrentPage('landing');
                            localStorage.removeItem('ecoloop_page');
                        }
                    }
                });
                return () => unsub();
            }, []);

            // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è PWA Service Worker
            useEffect(() => {
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.register('/sw.js').catch(() => {});
                }
            }, []);

            const navigate = (page, data = null) => {
                setCurrentPage(page);
                localStorage.setItem('ecoloop_page', page);
                if (data) setSelectedLot(data);
                window.scrollTo(0, 0);
            };

            const selectRole = (role) => {
                setUserRole(role);
                if (role === 'buyer') {
                    if (user) {
                        setCurrentPage('marketplace');
                    } else {
                        setCurrentPage('buyer-register');
                    }
                } else {
                    setCurrentPage('hotel-request');
                }
            };

            const loginWithGoogle = async () => {
                try {
                    const result = await auth.signInWithPopup(googleProvider);
                    if (result.user) {
                        navigate('marketplace');
                    }
                } catch (e) {
                    console.error('Google login err:', e.code, e.message);
                    // –ï—Å–ª–∏ popup –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º redirect
                    if (e.code === 'auth/popup-blocked' || e.code === 'auth/popup-closed-by-user' || e.code === 'auth/cancelled-popup-request') {
                        try {
                            await auth.signInWithRedirect(googleProvider);
                        } catch (e2) {
                            console.error('Redirect login err:', e2);
                            alert('–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Google Auth –≤–∫–ª—é—á—ë–Ω –≤ Firebase Console.');
                        }
                    } else if (e.code === 'auth/unauthorized-domain') {
                        alert('–î–æ–º–µ–Ω –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –≤ Firebase. –î–æ–±–∞–≤—å—Ç–µ ' + window.location.hostname + ' –≤ Firebase Console ‚Üí Authentication ‚Üí Settings ‚Üí Authorized domains');
                    } else {
                        alert('–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞: ' + e.message);
                    }
                }
            };

            const logout = async () => {
                await auth.signOut();
                setUser(null);
                localStorage.removeItem('ecoloop_page');
                setCurrentPage('landing');
            };

            if (authLoading) {
                return React.createElement('div', {
                    className: 'min-h-screen bg-[#0a0a0a] flex items-center justify-center'
                }, React.createElement('div', {
                    className: 'text-emerald-400 text-xl animate-pulse'
                }, 'üåø EcoLoop –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...'));
            }

            return (
                <div>
                    {currentPage === 'role-select' && <RoleSelect selectRole={selectRole} navigate={navigate} />}
                    {currentPage === 'buyer-register' && <BuyerRegister navigate={navigate} loginWithGoogle={loginWithGoogle} user={user} />}
                    {currentPage === 'hotel-request' && <HotelRequestForm navigate={navigate} user={user} loginWithGoogle={loginWithGoogle} />}
                    {currentPage === 'landing' && <Landing navigate={navigate} user={user} logout={logout} />}
                    {currentPage === 'marketplace' && <Marketplace navigate={navigate} user={user} logout={logout} />}
                    {currentPage === 'requests' && <Requests navigate={navigate} />}
                    {currentPage === 'dashboard' && <Dashboard navigate={navigate} user={user} logout={logout} isAdmin={user && ADMIN_EMAILS.includes(user.email)} />}
                    {currentPage === 'create-lot' && <CreateLot navigate={navigate} />}
                    {currentPage === 'create-request' && <CreateRequest navigate={navigate} />}
                    {currentPage === 'lot-detail' && <LotDetail navigate={navigate} lot={selectedLot} user={user} />}
                    {currentPage === 'payouts' && <SellerPayouts navigate={navigate} />}
                    {currentPage === 'admin' && <AdminPanel navigate={navigate} user={user} logout={logout} loginWithGoogle={loginWithGoogle} />}
                    {currentPage === 'buyer-profile' && <BuyerProfile navigate={navigate} user={user} logout={logout} />}
                    {currentPage === 'analytics' && <Analytics navigate={navigate} isAdmin={user && ADMIN_EMAILS.includes(user.email)} />}
                    {currentPage === 'account' && <AccountPage navigate={navigate} user={user} logout={logout} />}
                    {currentPage === 'hotel-cabinet' && <HotelCabinet navigate={navigate} user={user} logout={logout} />}
                    {currentPage === 'support' && <SupportPage navigate={navigate} user={user} />}

                    {/* –ú–æ–±–∏–ª—å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞—Ö */}
                    {!['landing', 'role-select', 'buyer-register', 'hotel-request'].includes(currentPage) && (
                        <div className="mobile-nav">
                            <div className={`mobile-nav-item ${currentPage === 'marketplace' ? 'active' : ''}`} onClick={() => navigate('marketplace')}>
                                <span>üõçÔ∏è</span>–õ–æ—Ç—ã
                            </div>
                            <div className={`mobile-nav-item ${currentPage === 'support' ? 'active' : ''}`} onClick={() => navigate('support')}>
                                <span>üí¨</span>–ü–æ–¥–¥–µ—Ä–∂–∫–∞
                            </div>
                            <div className={`mobile-nav-item ${currentPage === 'dashboard' ? 'active' : ''}`} onClick={() => navigate('dashboard')}>
                                <span>üìä</span>–û–±–∑–æ—Ä
                            </div>
                            <div className={`mobile-nav-item ${currentPage === 'account' ? 'active' : ''}`} onClick={() => navigate(user ? 'account' : 'buyer-register')}>
                                <span>{user ? 'üë§' : 'üîë'}</span>{user ? '–ö–∞–±–∏–Ω–µ—Ç' : '–í–æ–π—Ç–∏'}
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        // –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –ø–æ–∫—É–ø–∞—Ç–µ–ª—è
        function AccountPage({ navigate, user, logout }) {
            const [orders, setOrders] = useState([]);
            const [tab, setTab] = useState('orders');

            useEffect(() => {
                if (user) {
                    db.collection('orders').where('userId', '==', user.uid).orderBy('createdAt', 'desc').limit(20).get()
                        .then(snap => setOrders(snap.docs.map(d => ({ id: d.id, ...d.data() }))))
                        .catch(() => {});
                }
            }, [user]);

            if (!user) return (
                <div className="min-h-screen bg-[#0a0a0a] flex items-center justify-center p-4">
                    <div className="bg-white/5 rounded-2xl p-8 max-w-md w-full text-center">
                        <div className="text-6xl mb-4">üîí</div>
                        <h2 className="text-2xl font-bold text-white mb-4">–í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç</h2>
                        <p className="text-gray-400 mb-6">–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ª–∏—á–Ω–æ–º—É –∫–∞–±–∏–Ω–µ—Ç—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google</p>
                        <button onClick={() => navigate('buyer-register')} className="w-full py-3 bg-emerald-500 hover:bg-emerald-600 text-white rounded-xl font-semibold transition">
                            –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google
                        </button>
                        <button onClick={() => navigate('landing')} className="w-full mt-3 py-3 bg-white/5 hover:bg-white/10 text-gray-300 rounded-xl transition">
                            –ù–∞ –≥–ª–∞–≤–Ω—É—é
                        </button>
                    </div>
                </div>
            );

            return (
                <div className="min-h-screen bg-[#0a0a0a] p-4 md:p-8">
                    <div className="max-w-4xl mx-auto">
                        <div className="flex items-center justify-between mb-6">
                            <button onClick={() => navigate('marketplace')} className="text-gray-400 hover:text-white transition">‚óÄÔ∏è –ù–∞–∑–∞–¥</button>
                            <button onClick={logout} className="text-red-400 hover:text-red-300 text-sm transition">–í—ã–π—Ç–∏</button>
                        </div>
                        <div className="bg-white/5 rounded-2xl p-6 mb-6">
                            <div className="flex items-center gap-4">
                                <img src={user.photoURL || 'https://ui-avatars.com/api/?name=' + user.displayName} alt="" className="w-16 h-16 rounded-full" />
                                <div>
                                    <h2 className="text-xl font-bold text-white">{user.displayName}</h2>
                                    <p className="text-gray-400 text-sm">{user.email}</p>
                                    <span className="inline-block mt-1 px-2 py-0.5 bg-emerald-500/20 text-emerald-400 rounded-full text-xs">–ü–æ–∫—É–ø–∞—Ç–µ–ª—å</span>
                                </div>
                            </div>
                        </div>
                        {/* –ö–Ω–æ–ø–∫–∞ –∫–∞–±–∏–Ω–µ—Ç–∞ –æ—Ç–µ–ª—è */}
                        <button onClick={() => navigate('hotel-cabinet')} className="w-full mb-6 py-3 bg-gradient-to-r from-emerald-500/10 to-teal-500/10 border border-emerald-500/20 text-emerald-400 rounded-xl font-semibold hover:bg-emerald-500/20 transition flex items-center justify-center gap-2">
                            üè® –ö–∞–±–∏–Ω–µ—Ç –æ—Ç–µ–ª—è
                        </button>

                        <div className="flex gap-2 mb-6 overflow-x-auto pb-2">
                            {[['orders', 'üì¶ –ó–∞–∫–∞–∑—ã'], ['favorites', '‚ù§Ô∏è –ò–∑–±—Ä–∞–Ω–Ω–æ–µ'], ['settings', '‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏']].map(([key, label]) => (
                                <button key={key} onClick={() => setTab(key)} className={`px-4 py-2 rounded-xl text-sm font-medium whitespace-nowrap transition ${tab === key ? 'bg-emerald-500 text-white' : 'bg-white/5 text-gray-400 hover:bg-white/10'}`}>{label}</button>
                            ))}
                        </div>
                        {tab === 'orders' && (
                            <div>
                                {orders.length === 0 ? (
                                    <div className="bg-white/5 rounded-2xl p-8 text-center">
                                        <div className="text-4xl mb-3">üì¶</div>
                                        <p className="text-gray-400 mb-4">–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤</p>
                                        <button onClick={() => navigate('marketplace')} className="px-6 py-2 bg-emerald-500 text-white rounded-xl">–ü–µ—Ä–µ–π—Ç–∏ –∫ –ª–æ—Ç–∞–º</button>
                                    </div>
                                ) : orders.map(o => (
                                    <div key={o.id} className="bg-white/5 rounded-xl p-4 mb-3">
                                        <div className="flex justify-between items-center">
                                            <span className="text-white font-medium">{o.lotTitle || '–ó–∞–∫–∞–∑'}</span>
                                            <span className={`px-2 py-0.5 rounded-full text-xs ${o.status === 'completed' ? 'bg-emerald-500/20 text-emerald-400' : 'bg-yellow-500/20 text-yellow-400'}`}>{o.status === 'completed' ? '–ü–æ–ª—É—á–µ–Ω' : '–í –æ–±—Ä–∞–±–æ—Ç–∫–µ'}</span>
                                        </div>
                                        <p className="text-gray-500 text-sm mt-1">{o.createdAt?.toDate?.()?.toLocaleDateString('ru-RU') || ''}</p>
                                    </div>
                                ))}
                            </div>
                        )}
                        {tab === 'favorites' && (
                            <div className="bg-white/5 rounded-2xl p-8 text-center">
                                <div className="text-4xl mb-3">‚ù§Ô∏è</div>
                                <p className="text-gray-400">–ò–∑–±—Ä–∞–Ω–Ω—ã–µ –ª–æ—Ç—ã –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å</p>
                            </div>
                        )}
                        {tab === 'settings' && (
                            <div className="bg-white/5 rounded-2xl p-6 space-y-4">
                                <div>
                                    <label className="text-gray-400 text-sm">–ò–º—è</label>
                                    <p className="text-white">{user.displayName}</p>
                                </div>
                                <div>
                                    <label className="text-gray-400 text-sm">Email</label>
                                    <p className="text-white">{user.email}</p>
                                </div>
                                <div>
                                    <label className="text-gray-400 text-sm">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</label>
                                    <p className="text-emerald-400 text-sm">–í–∫–ª—é—á–µ–Ω—ã (Telegram –±–æ—Ç)</p>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        // –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –æ—Ç–µ–ª—è
        function HotelCabinet({ navigate, user, logout }) {
            const [hotelData, setHotelData] = useState(null);
            const [loading, setLoading] = useState(true);
            const [bindMode, setBindMode] = useState(false);
            const [bindBin, setBindBin] = useState('');
            const [bindError, setBindError] = useState('');
            const [tab, setTab] = useState('overview');
            const [lots, setLots] = useState([]);

            useEffect(() => {
                if (!user) { setLoading(false); return; }
                // –ò—â–µ–º –∑–∞—è–≤–∫—É –æ—Ç–µ–ª—è –ø–æ Google UID –∏–ª–∏ email
                const findHotel = async () => {
                    try {
                        // –°–Ω–∞—á–∞–ª–∞ –ø–æ googleUid
                        let snap = await db.collection('submissions')
                            .where('type', '==', 'hotel')
                            .where('data.googleUid', '==', user.uid)
                            .limit(1).get();
                        
                        if (snap.empty) {
                            // –ü–æ—Ç–æ–º –ø–æ email
                            snap = await db.collection('submissions')
                                .where('type', '==', 'hotel')
                                .where('data.googleEmail', '==', user.email)
                                .limit(1).get();
                        }
                        
                        if (!snap.empty) {
                            const doc = snap.docs[0];
                            setHotelData({ id: doc.id, ...doc.data() });
                            // –ó–∞–≥—Ä—É–∂–∞–µ–º –ª–æ—Ç—ã –æ—Ç–µ–ª—è
                            const lotsSnap = await db.collection('lots')
                                .where('hotelId', '==', doc.id)
                                .orderBy('createdAt', 'desc').limit(20).get()
                                .catch(() => ({ docs: [] }));
                            setLots(lotsSnap.docs.map(d => ({ id: d.id, ...d.data() })));
                        }
                    } catch (err) {
                        console.error('Hotel search error:', err);
                    }
                    setLoading(false);
                };
                findHotel();
            }, [user]);

            // –ü—Ä–∏–≤—è–∑–∫–∞ –ø–æ –ë–ò–ù
            const handleBind = async () => {
                if (bindBin.length !== 12) { setBindError('–ë–ò–ù –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å 12 —Ü–∏—Ñ—Ä'); return; }
                setBindError('');
                try {
                    const snap = await db.collection('submissions')
                        .where('type', '==', 'hotel')
                        .where('data.bin', '==', bindBin)
                        .limit(1).get();
                    
                    if (snap.empty) {
                        setBindError('–ó–∞—è–≤–∫–∞ —Å —Ç–∞–∫–∏–º –ë–ò–ù –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
                        return;
                    }
                    const doc = snap.docs[0];
                    // –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ–º Google –∞–∫–∫–∞—É–Ω—Ç
                    await db.collection('submissions').doc(doc.id).update({
                        'data.googleUid': user.uid,
                        'data.googleEmail': user.email,
                        'data.googleName': user.displayName
                    });
                    setHotelData({ id: doc.id, ...doc.data() });
                    setBindMode(false);
                } catch (err) {
                    setBindError('–û—à–∏–±–∫–∞: ' + err.message);
                }
            };

            if (loading) return (
                <div className="min-h-screen bg-[#0a0a0a] flex items-center justify-center">
                    <div className="text-emerald-400 animate-pulse">üè® –ó–∞–≥—Ä—É–∑–∫–∞...</div>
                </div>
            );

            if (!user) return (
                <div className="min-h-screen bg-[#0a0a0a] flex items-center justify-center p-4">
                    <div className="bg-white/5 rounded-2xl p-8 max-w-md w-full text-center">
                        <div className="text-6xl mb-4">üè®</div>
                        <h2 className="text-2xl font-bold text-white mb-4">–ö–∞–±–∏–Ω–µ—Ç –æ—Ç–µ–ª—è</h2>
                        <p className="text-gray-400 mb-6">–í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ Google —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Å—Ç–∞—Ç—É—Å –≤–∞—à–µ–π –∑–∞—è–≤–∫–∏</p>
                        <button onClick={() => navigate('buyer-register')} className="w-full py-3 bg-emerald-500 hover:bg-emerald-600 text-white rounded-xl font-semibold transition">
                            –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google
                        </button>
                    </div>
                </div>
            );

            // –ù–µ—Ç –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ–π –∑–∞—è–≤–∫–∏
            if (!hotelData) return (
                <div className="min-h-screen bg-[#0a0a0a] p-4 md:p-8">
                    <div className="max-w-lg mx-auto">
                        <button onClick={() => navigate('account')} className="text-gray-400 hover:text-white transition mb-6 inline-block">‚óÄÔ∏è –ù–∞–∑–∞–¥</button>
                        <div className="bg-white/5 rounded-2xl p-8 text-center">
                            <div className="text-6xl mb-4">üè®</div>
                            <h2 className="text-2xl font-bold text-white mb-4">–ö–∞–±–∏–Ω–µ—Ç –æ—Ç–µ–ª—è</h2>
                            <p className="text-gray-400 mb-6">–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ–π –∑–∞—è–≤–∫–∏ –æ—Ç–µ–ª—è.</p>
                            
                            {!bindMode ? (
                                <div className="space-y-3">
                                    <button onClick={() => navigate('hotel-request')} className="w-full py-3 bg-emerald-500 hover:bg-emerald-600 text-white rounded-xl font-semibold transition">
                                        üìù –ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
                                    </button>
                                    <button onClick={() => setBindMode(true)} className="w-full py-3 bg-white/5 hover:bg-white/10 text-gray-300 rounded-xl transition">
                                        üîó –ü—Ä–∏–≤—è–∑–∞—Ç—å –ø–æ –ë–ò–ù
                                    </button>
                                </div>
                            ) : (
                                <div className="text-left">
                                    <label className="block text-sm text-gray-400 mb-2">–í–≤–µ–¥–∏—Ç–µ –ë–ò–ù –∏–∑ –∑–∞—è–≤–∫–∏:</label>
                                    <input 
                                        type="text" 
                                        value={bindBin} 
                                        onChange={(e) => setBindBin(e.target.value.replace(/\D/g, '').slice(0, 12))}
                                        placeholder="123456789012" 
                                        maxLength="12"
                                        className="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-600 focus:outline-none focus:border-emerald-500/50 transition mb-3"
                                    />
                                    {bindError && <p className="text-red-400 text-sm mb-3">{bindError}</p>}
                                    <div className="flex gap-2">
                                        <button onClick={handleBind} className="flex-1 py-3 bg-emerald-500 hover:bg-emerald-600 text-white rounded-xl font-semibold transition">
                                            –ü—Ä–∏–≤—è–∑–∞—Ç—å
                                        </button>
                                        <button onClick={() => { setBindMode(false); setBindError(''); }} className="px-4 py-3 bg-white/5 hover:bg-white/10 text-gray-300 rounded-xl transition">
                                            –û—Ç–º–µ–Ω–∞
                                        </button>
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );

            const status = hotelData.status;
            const d = hotelData.data || {};

            // –ó–∞—è–≤–∫–∞ –Ω–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏
            if (status === 'new') return (
                <div className="min-h-screen bg-[#0a0a0a] p-4 md:p-8">
                    <div className="max-w-lg mx-auto">
                        <button onClick={() => navigate('account')} className="text-gray-400 hover:text-white transition mb-6 inline-block">‚óÄÔ∏è –ù–∞–∑–∞–¥</button>
                        <div className="bg-white/5 rounded-2xl p-8 text-center">
                            <div className="text-6xl mb-4 animate-pulse">‚è≥</div>
                            <h2 className="text-2xl font-bold text-white mb-3">–ó–∞—è–≤–∫–∞ –Ω–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏</h2>
                            <p className="text-gray-400 mb-6">–í–∞—à–∞ –∑–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –∏ –æ–∂–∏–¥–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º. –û–±—ã—á–Ω–æ —ç—Ç–æ –∑–∞–Ω–∏–º–∞–µ—Ç 24-48 —á–∞—Å–æ–≤.</p>
                            <div className="bg-white/5 rounded-xl p-4 text-left mb-6">
                                <div className="text-sm space-y-2">
                                    <div className="flex justify-between"><span className="text-gray-500">–û—Ç–µ–ª—å:</span><span className="text-white">{d.hotelName}</span></div>
                                    <div className="flex justify-between"><span className="text-gray-500">–ò–ü/–¢–û–û:</span><span className="text-white">{d.ipName}</span></div>
                                    <div className="flex justify-between"><span className="text-gray-500">–ë–ò–ù:</span><span className="text-white">{d.bin}</span></div>
                                    <div className="flex justify-between"><span className="text-gray-500">–ö–æ–Ω—Ç–∞–∫—Ç:</span><span className="text-white">{d.contactName}</span></div>
                                    <div className="flex justify-between"><span className="text-gray-500">Email:</span><span className="text-white">{d.email}</span></div>
                                    <div className="flex justify-between"><span className="text-gray-500">–¢–µ–ª–µ—Ñ–æ–Ω:</span><span className="text-white">{d.phone}</span></div>
                                </div>
                            </div>
                            <div className="inline-block px-4 py-2 bg-yellow-500/20 text-yellow-400 rounded-full text-sm font-medium">
                                ‚è≥ –û–∂–∏–¥–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
                            </div>
                        </div>
                    </div>
                </div>
            );

            // –ó–∞—è–≤–∫–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞
            if (status === 'rejected') return (
                <div className="min-h-screen bg-[#0a0a0a] p-4 md:p-8">
                    <div className="max-w-lg mx-auto">
                        <button onClick={() => navigate('account')} className="text-gray-400 hover:text-white transition mb-6 inline-block">‚óÄÔ∏è –ù–∞–∑–∞–¥</button>
                        <div className="bg-white/5 rounded-2xl p-8 text-center">
                            <div className="text-6xl mb-4">‚ùå</div>
                            <h2 className="text-2xl font-bold text-white mb-3">–ó–∞—è–≤–∫–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞</h2>
                            <p className="text-gray-400 mb-6">–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –≤–∞—à–∞ –∑–∞—è–≤–∫–∞ –±—ã–ª–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞. –°–≤—è–∂–∏—Ç–µ—Å—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è.</p>
                            <div className="flex gap-3 justify-center">
                                <button onClick={() => navigate('support')} className="px-6 py-3 bg-emerald-500 hover:bg-emerald-600 text-white rounded-xl font-semibold transition">
                                    üí¨ –ü–æ–¥–¥–µ—Ä–∂–∫–∞
                                </button>
                                <button onClick={() => navigate('hotel-request')} className="px-6 py-3 bg-white/5 hover:bg-white/10 text-gray-300 rounded-xl transition">
                                    üìù –ü–æ–¥–∞—Ç—å –∑–∞–Ω–æ–≤–æ
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            );

            // –ó–∞—è–≤–∫–∞ –æ–¥–æ–±—Ä–µ–Ω–∞ ‚Äî –õ–ò–ß–ù–´–ô –ö–ê–ë–ò–ù–ï–¢ –û–¢–ï–õ–Ø
            return (
                <div className="min-h-screen bg-[#0a0a0a] p-4 md:p-8">
                    <div className="max-w-4xl mx-auto">
                        <div className="flex items-center justify-between mb-6">
                            <button onClick={() => navigate('marketplace')} className="text-gray-400 hover:text-white transition">‚óÄÔ∏è –ù–∞–∑–∞–¥</button>
                            <button onClick={logout} className="text-red-400 hover:text-red-300 text-sm transition">–í—ã–π—Ç–∏</button>
                        </div>

                        {/* –®–∞–ø–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è */}
                        <div className="bg-gradient-to-r from-emerald-500/10 to-teal-500/10 rounded-2xl p-6 mb-6 border border-emerald-500/20">
                            <div className="flex items-center gap-4">
                                <div className="w-16 h-16 rounded-xl bg-emerald-500/20 flex items-center justify-center text-3xl">üè®</div>
                                <div className="flex-1">
                                    <h2 className="text-xl font-bold text-white">{d.hotelName}</h2>
                                    <p className="text-gray-400 text-sm">{d.ipName} ‚Ä¢ –ë–ò–ù: {d.bin}</p>
                                    <div className="flex items-center gap-2 mt-1">
                                        <span className="px-2 py-0.5 bg-emerald-500/20 text-emerald-400 rounded-full text-xs font-medium">‚úÖ –í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω</span>
                                        <span className="text-gray-500 text-xs">{d.contactName} ‚Ä¢ {d.phone}</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* –¢–∞–±—ã */}
                        <div className="flex gap-2 mb-6 overflow-x-auto pb-2">
                            {[['overview', 'üìä –û–±–∑–æ—Ä'], ['lots', 'üì¶ –ú–æ–∏ –ª–æ—Ç—ã'], ['profile', '‚öôÔ∏è –ü—Ä–æ—Ñ–∏–ª—å']].map(([key, label]) => (
                                <button key={key} onClick={() => setTab(key)} className={`px-4 py-2 rounded-xl text-sm font-medium whitespace-nowrap transition ${tab === key ? 'bg-emerald-500 text-white' : 'bg-white/5 text-gray-400 hover:bg-white/10'}`}>{label}</button>
                            ))}
                        </div>

                        {/* –û–±–∑–æ—Ä */}
                        {tab === 'overview' && (
                            <div>
                                <div className="grid grid-cols-2 md:grid-cols-4 gap-3 mb-6">
                                    {[
                                        ['üì¶', '–õ–æ—Ç—ã', lots.length, 'bg-emerald-500/10'],
                                        ['üõí', '–ü—Ä–æ–¥–∞–Ω–æ', lots.filter(l => l.status === 'sold').length, 'bg-blue-500/10'],
                                        ['üí∞', '–î–æ—Ö–æ–¥', lots.reduce((a, l) => a + (l.price || 0), 0).toLocaleString() + '‚Ç∏', 'bg-amber-500/10'],
                                        ['‚ôªÔ∏è', '–°–æ–∫—Ä–∞—â–µ–Ω–æ', lots.reduce((a, l) => a + (l.weight || 0), 0) + '–∫–≥', 'bg-teal-500/10']
                                    ].map(([icon, label, value, bg], i) => (
                                        <div key={i} className={`${bg} rounded-xl p-4 text-center`}>
                                            <div className="text-2xl mb-1">{icon}</div>
                                            <div className="text-white font-bold text-lg">{value}</div>
                                            <div className="text-gray-500 text-xs">{label}</div>
                                        </div>
                                    ))}
                                </div>

                                <button onClick={() => navigate('create-lot')} className="w-full py-4 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-xl font-bold text-lg mb-4 hover:opacity-90 transition">
                                    ‚ûï –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ª–æ—Ç
                                </button>

                                <div className="bg-white/5 rounded-xl p-4">
                                    <h3 className="text-white font-semibold mb-3">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –ª–æ—Ç—ã</h3>
                                    {lots.length === 0 ? (
                                        <p className="text-gray-500 text-center py-4">–ü–æ–∫–∞ –Ω–µ—Ç –ª–æ—Ç–æ–≤. –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π!</p>
                                    ) : lots.slice(0, 5).map(lot => (
                                        <div key={lot.id} className="flex items-center justify-between py-3 border-b border-white/5 last:border-0">
                                            <div>
                                                <p className="text-white text-sm font-medium">{lot.title || '–õ–æ—Ç'}</p>
                                                <p className="text-gray-500 text-xs">{lot.category} ‚Ä¢ {lot.weight || 0}–∫–≥</p>
                                            </div>
                                            <div className="text-right">
                                                <p className="text-emerald-400 font-semibold text-sm">{lot.price?.toLocaleString()}‚Ç∏</p>
                                                <span className={`text-xs px-2 py-0.5 rounded-full ${lot.status === 'active' ? 'bg-emerald-500/20 text-emerald-400' : lot.status === 'sold' ? 'bg-blue-500/20 text-blue-400' : 'bg-gray-500/20 text-gray-400'}`}>
                                                    {lot.status === 'active' ? '–ê–∫—Ç–∏–≤–Ω—ã–π' : lot.status === 'sold' ? '–ü—Ä–æ–¥–∞–Ω' : '–ó–∞–≤–µ—Ä—à—ë–Ω'}
                                                </span>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}

                        {/* –ú–æ–∏ –ª–æ—Ç—ã */}
                        {tab === 'lots' && (
                            <div>
                                <button onClick={() => navigate('create-lot')} className="w-full py-3 bg-emerald-500 hover:bg-emerald-600 text-white rounded-xl font-semibold mb-4 transition">
                                    ‚ûï –°–æ–∑–¥–∞—Ç—å –ª–æ—Ç
                                </button>
                                {lots.length === 0 ? (
                                    <div className="bg-white/5 rounded-2xl p-8 text-center">
                                        <div className="text-4xl mb-3">üì¶</div>
                                        <p className="text-gray-400 mb-4">–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –ª–æ—Ç–æ–≤</p>
                                    </div>
                                ) : lots.map(lot => (
                                    <div key={lot.id} className="bg-white/5 rounded-xl p-4 mb-3">
                                        <div className="flex justify-between items-start">
                                            <div>
                                                <h4 className="text-white font-semibold">{lot.title}</h4>
                                                <p className="text-gray-500 text-sm">{lot.category} ‚Ä¢ {lot.weight || 0}–∫–≥ ‚Ä¢ {lot.description?.substring(0, 80)}</p>
                                                <p className="text-gray-600 text-xs mt-1">{lot.createdAt?.toDate?.()?.toLocaleDateString('ru-RU') || ''}</p>
                                            </div>
                                            <div className="text-right shrink-0 ml-4">
                                                <p className="text-emerald-400 font-bold">{lot.price?.toLocaleString()}‚Ç∏</p>
                                                <span className={`text-xs px-2 py-0.5 rounded-full ${lot.status === 'active' ? 'bg-emerald-500/20 text-emerald-400' : lot.status === 'sold' ? 'bg-blue-500/20 text-blue-400' : 'bg-gray-500/20 text-gray-400'}`}>
                                                    {lot.status === 'active' ? '–ê–∫—Ç–∏–≤–Ω—ã–π' : lot.status === 'sold' ? '–ü—Ä–æ–¥–∞–Ω' : '–ó–∞–≤–µ—Ä—à—ë–Ω'}
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}

                        {/* –ü—Ä–æ—Ñ–∏–ª—å */}
                        {tab === 'profile' && (
                            <div className="bg-white/5 rounded-2xl p-6 space-y-4">
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label className="text-gray-500 text-xs uppercase">–ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ç–µ–ª—è</label>
                                        <p className="text-white font-medium">{d.hotelName}</p>
                                    </div>
                                    <div>
                                        <label className="text-gray-500 text-xs uppercase">–ò–ü/–¢–û–û</label>
                                        <p className="text-white font-medium">{d.ipName}</p>
                                    </div>
                                    <div>
                                        <label className="text-gray-500 text-xs uppercase">–ë–ò–ù</label>
                                        <p className="text-white font-medium">{d.bin}</p>
                                    </div>
                                    <div>
                                        <label className="text-gray-500 text-xs uppercase">–ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ</label>
                                        <p className="text-white font-medium">{d.contactName}</p>
                                    </div>
                                    <div>
                                        <label className="text-gray-500 text-xs uppercase">–î–æ–ª–∂–Ω–æ—Å—Ç—å</label>
                                        <p className="text-white font-medium">{d.position || d.customPosition || '‚Äî'}</p>
                                    </div>
                                    <div>
                                        <label className="text-gray-500 text-xs uppercase">Email</label>
                                        <p className="text-white font-medium">{d.email}</p>
                                    </div>
                                    <div>
                                        <label className="text-gray-500 text-xs uppercase">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                                        <p className="text-white font-medium">{d.phone}</p>
                                    </div>
                                    <div>
                                        <label className="text-gray-500 text-xs uppercase">Google –∞–∫–∫–∞—É–Ω—Ç</label>
                                        <p className="text-white font-medium">{user?.email}</p>
                                    </div>
                                </div>
                                <div className="pt-4 border-t border-white/10">
                                    <p className="text-gray-500 text-sm">–î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Å–≤—è–∂–∏—Ç–µ—Å—å —Å <button onClick={() => navigate('support')} className="text-emerald-400 hover:text-emerald-300 transition">–ø–æ–¥–¥–µ—Ä–∂–∫–æ–π</button></p>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        // Ripple —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –∫–ª–∏–∫–µ
        function addRipple(e) {
            const btn = e.currentTarget;
            const rect = btn.getBoundingClientRect();
            const ripple = document.createElement('span');
            ripple.className = 'ripple';
            ripple.style.left = (e.clientX - rect.left) + 'px';
            ripple.style.top = (e.clientY - rect.top) + 'px';
            btn.appendChild(ripple);
            setTimeout(() => ripple.remove(), 600);
        }

        // Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        function Toast({ message, type = 'success', onClose }) {
            useEffect(() => {
                const t = setTimeout(onClose, 3000);
                return () => clearTimeout(t);
            }, []);
            return (
                <div className="toast">
                    <div className="flex items-center gap-3">
                        <div className={`w-8 h-8 rounded-lg flex items-center justify-center ${type === 'success' ? 'bg-emerald-500/20' : 'bg-red-500/20'}`}>
                            {type === 'success'
                                ? <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#8EA99A" strokeWidth="2"><polyline points="20 6 9 17 4 12"/></svg>
                                : <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ef4444" strokeWidth="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
                            }
                        </div>
                        <span className="text-sm text-white font-medium">{message}</span>
                    </div>
                </div>
            );
        }

        // Scroll to top –∫–Ω–æ–ø–∫–∞
        function ScrollToTop() {
            const [visible, setVisible] = useState(false);
            useEffect(() => {
                const onScroll = () => setVisible(window.scrollY > 400);
                window.addEventListener('scroll', onScroll);
                return () => window.removeEventListener('scroll', onScroll);
            }, []);
            if (!visible) return null;
            return (
                <button className="scroll-top-btn" onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })}>
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="18 15 12 9 6 15"/></svg>
                </button>
            );
        }

        // –ß–∞—Å—Ç–∏—Ü—ã —Ñ–æ–Ω ‚Äî —É–ª—É—á—à–µ–Ω–Ω—ã–µ
        function ParticlesBackground() {
            const canvasRef = useRef(null);
            useEffect(() => {
                const canvas = canvasRef.current;
                if (!canvas) return;
                const ctx = canvas.getContext('2d');
                let animId;
                const resize = () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; };
                resize();
                window.addEventListener('resize', resize);
                const colors = [
                    [142, 169, 154], // quietude green
                    [91, 130, 145],  // mapped blue
                    [142, 169, 154], // green
                    [200, 200, 180], // warm white
                    [242, 201, 76],  // gold (rare)
                ];
                const particles = Array.from({length: 70}, () => {
                    const c = colors[Math.random() < 0.08 ? 4 : Math.floor(Math.random() * 4)];
                    return {
                        x: Math.random() * canvas.width,
                        y: Math.random() * canvas.height,
                        r: Math.random() * 2 + 0.4,
                        dx: (Math.random() - 0.5) * 0.25,
                        dy: (Math.random() - 0.5) * 0.25,
                        o: Math.random() * 0.25 + 0.08,
                        oBase: 0,
                        oSpeed: Math.random() * 0.003 + 0.001,
                        phase: Math.random() * Math.PI * 2,
                        c: c
                    };
                });
                particles.forEach(p => p.oBase = p.o);
                let time = 0;
                const draw = () => {
                    time++;
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    particles.forEach(p => {
                        p.x += p.dx; p.y += p.dy;
                        if (p.x < -10) p.x = canvas.width + 10;
                        if (p.x > canvas.width + 10) p.x = -10;
                        if (p.y < -10) p.y = canvas.height + 10;
                        if (p.y > canvas.height + 10) p.y = -10;
                        p.o = p.oBase + Math.sin(time * p.oSpeed * 2 + p.phase) * 0.08;
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
                        ctx.fillStyle = `rgba(${p.c[0]},${p.c[1]},${p.c[2]},${Math.max(0.02, p.o)})`;
                        ctx.fill();
                        if (p.r > 1.5) {
                            ctx.beginPath();
                            ctx.arc(p.x, p.y, p.r * 3, 0, Math.PI * 2);
                            ctx.fillStyle = `rgba(${p.c[0]},${p.c[1]},${p.c[2]},${p.o * 0.08})`;
                            ctx.fill();
                        }
                    });
                    for (let i = 0; i < particles.length; i++) {
                        for (let j = i + 1; j < particles.length; j++) {
                            const dx = particles[i].x - particles[j].x;
                            const dy = particles[i].y - particles[j].y;
                            const dist = Math.sqrt(dx * dx + dy * dy);
                            if (dist < 130) {
                                ctx.beginPath();
                                ctx.moveTo(particles[i].x, particles[i].y);
                                ctx.lineTo(particles[j].x, particles[j].y);
                                ctx.strokeStyle = `rgba(142,169,154,${0.04 * (1 - dist / 130)})`;
                                ctx.lineWidth = 0.5;
                                ctx.stroke();
                            }
                        }
                    }
                    animId = requestAnimationFrame(draw);
                };
                draw();
                return () => { cancelAnimationFrame(animId); window.removeEventListener('resize', resize); };
            }, []);
            return React.createElement('canvas', { ref: canvasRef, className: 'particles-canvas' });
        }

        // EcoLoop –ª–æ–≥–æ SVG (–ª–∏—Å—Ç —Å –ø–µ—Ç–ª—ë–π)
        function LogoIcon({ size = 20, color = 'white' }) {
            return React.createElement('svg', { width: size, height: size, viewBox: '0 0 24 24', fill: 'none', stroke: color, strokeWidth: '2', strokeLinecap: 'round', strokeLinejoin: 'round' },
                React.createElement('path', { d: 'M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10' }),
                React.createElement('path', { d: 'M12 22c5.52 0 10-4.48 10-10S17.52 2 12 2' }),
                React.createElement('path', { d: 'M8 12c0-2.21 1.79-4 4-4' }),
                React.createElement('path', { d: 'M16 12c0 2.21-1.79 4-4 4' })
            );
        }

        // –ú–æ–¥–∞–ª–∫–∞ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è
        function TermsModal({ onAccept, onClose }) {
            const [scrolledToEnd, setScrolledToEnd] = useState(false);
            const [accepted, setAccepted] = useState(false);
            const scrollRef = useRef(null);

            const handleScroll = () => {
                const el = scrollRef.current;
                if (el && el.scrollTop + el.clientHeight >= el.scrollHeight - 20) {
                    setScrolledToEnd(true);
                }
            };

            return (
                <div className="modal-overlay" onClick={onClose}>
                    <div className="modal-content" onClick={(e) => e.stopPropagation()}>
                        <div className="p-6 border-b border-white/10">
                            <h2 className="text-xl font-bold text-white">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ</h2>
                            <p className="text-sm text-gray-500 mt-1">–ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –¥–æ –∫–æ–Ω—Ü–∞, —á—Ç–æ–±—ã –ø—Ä–∏–Ω—è—Ç—å</p>
                        </div>
                        <div className="modal-scroll" ref={scrollRef} onScroll={handleScroll}>
                            <div className="text-sm text-gray-300 space-y-4 leading-relaxed">
                                <h3 className="text-white font-bold text-base">1. –°—Ç–∞—Ç—É—Å –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã</h3>
                                <p>EcoLoop (–¥–∞–ª–µ–µ ‚Äî –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞) —è–≤–ª—è–µ—Ç—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–º –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–º (–º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–º). –ú—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫—É—é –ø–ª–æ—â–∞–¥–∫—É –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –ü–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏ (–û—Ç–µ–ª—è–º–∏) –∏ –ü–æ–∫—É–ø–∞—Ç–µ–ª—è–º–∏ (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏/–§–µ—Ä–º–µ—Ä–∞–º–∏). –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–º, –ø—Ä–æ–¥–∞–≤—Ü–æ–º –∏–ª–∏ –≤–ª–∞–¥–µ–ª—å—Ü–µ–º —Ç–æ–≤–∞—Ä–æ–≤ (–µ–¥—ã, —Ç–µ–∫—Å—Ç–∏–ª—è, –≤—Ç–æ—Ä—Å—ã—Ä—å—è).</p>

                                <h3 className="text-white font-bold text-base">2. –û—Ç–∫–∞–∑ –æ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤ (Disclaimer)</h3>
                                <p><strong className="text-white">–ö–∞—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤:</strong> –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ —Å–≤–µ–∂–µ—Å—Ç—å, –∫–∞—á–µ—Å—Ç–≤–æ, —Å–æ—Å—Ç–∞–≤ –∏ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ —Å–∞–Ω–∏—Ç–∞—Ä–Ω—ã—Ö –Ω–æ—Ä–º (–°–∞–Ω–ü–∏–ù –†–ö) –ø–∏—â–µ–≤—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –Ω–µ—Å–µ—Ç –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –û—Ç–µ–ª—å, –≤—ã—Å—Ç–∞–≤–∏–≤—à–∏–π –ª–æ—Ç. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –Ω–µ –ø—Ä–æ–≤–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –∫–∞–∂–¥–æ–π –ø–æ—Ä—Ü–∏–∏ –µ–¥—ã.</p>
                                <p><strong className="text-white">–ó–¥–æ—Ä–æ–≤—å–µ –∏ –∞–ª–ª–µ—Ä–≥–∏–∏:</strong> –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±—è–∑–∞–Ω —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å–æ—Å—Ç–∞–≤ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –Ω–µ –Ω–µ—Å–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –∞–ª–ª–µ—Ä–≥–∏—á–µ—Å–∫–∏–µ —Ä–µ–∞–∫—Ü–∏–∏ –∏–ª–∏ –ª—é–±—ã–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –¥–ª—è –∑–¥–æ—Ä–æ–≤—å—è.</p>
                                <p><strong className="text-white">–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ä–∏—Å–∫–∏:</strong> –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –Ω–µ –Ω–µ—Å–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ —É–±—ã—Ç–∫–∏, –≤–æ–∑–Ω–∏–∫—à–∏–µ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Å–±–æ–µ–≤ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö —Å–∏—Å—Ç–µ–º, –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –∏–ª–∏ –¥–µ–π—Å—Ç–≤–∏–π —Ç—Ä–µ—Ç—å–∏—Ö –ª–∏—Ü.</p>

                                <h3 className="text-white font-bold text-base">3. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</h3>
                                <p>–í –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –¥–æ–ø—É—Å—Ç–∏–º–æ–π –∑–∞–∫–æ–Ω–æ–º —Å—Ç–µ–ø–µ–Ω–∏ (—Å–æ–≥–ª–∞—Å–Ω–æ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤—É –†–ö), EcoLoop, –µ–≥–æ –æ—Å–Ω–æ–≤–∞—Ç–µ–ª–∏ –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –Ω–µ –Ω–µ—Å—É—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞:</p>
                                <ul className="list-disc pl-5 space-y-1">
                                    <li>–õ—é–±–æ–π –ø—Ä—è–º–æ–π –∏–ª–∏ –∫–æ—Å–≤–µ–Ω–Ω—ã–π —É—â–µ—Ä–±, –≤–æ–∑–Ω–∏–∫—à–∏–π –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã.</li>
                                    <li>–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ª–æ—Ç–µ (–≤–µ—Å, —Å–æ—Å—Ç–∞–≤), –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π –û—Ç–µ–ª–µ–º, —Ä–µ–∞–ª—å–Ω–æ–º—É —Ç–æ–≤–∞—Ä—É.</li>
                                    <li>–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –û—Ç–µ–ª—è –≤—ã–¥–∞—Ç—å –æ–ø–ª–∞—á–µ–Ω–Ω—ã–π —Ç–æ–≤–∞—Ä (–≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –æ–±—è–∑—É–µ—Ç—Å—è –≤–µ—Ä–Ω—É—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞ –Ω–∞ –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è).</li>
                                </ul>

                                <h3 className="text-white font-bold text-base">4. –û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ —Å—Ç–æ—Ä–æ–Ω</h3>
                                <p><strong className="text-white">–û—Ç–µ–ª—å</strong> –æ–±—è–∑—É–µ—Ç—Å—è –≤—ã—Å—Ç–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –¥–ª—è –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç—ã –≤ —Ä–∞–º–∫–∞—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ —Å—Ä–æ–∫–∞ –≥–æ–¥–Ω–æ—Å—Ç–∏.</p>
                                <p><strong className="text-white">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</strong> –æ–±—è–∑—É–µ—Ç—Å—è –∑–∞–±–∏—Ä–∞—Ç—å —Ç–æ–≤–∞—Ä –≤ —Å—Ç—Ä–æ–≥–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª (—Ç–∞–π–º-—Å–ª–æ—Ç). –ü—Ä–∏ –æ–ø–æ–∑–¥–∞–Ω–∏–∏ —Ç–æ–≤–∞—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å —É—Ç–∏–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –±–µ–∑ –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å—Ä–µ–¥—Å—Ç–≤.</p>

                                <h3 className="text-white font-bold text-base">5. –í–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤</h3>
                                <p>–ï—Å–ª–∏ –ø—Ä–æ–¥—É–∫—Ü–∏—è –æ–∫–∞–∑–∞–ª–∞—Å—å –Ω–µ–Ω–∞–¥–ª–µ–∂–∞—â–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞, –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–ø—Ä–∞–≤–µ –ø–æ–¥–∞—Ç—å –∂–∞–ª–æ–±—É —á–µ—Ä–µ–∑ –ü–ª–∞—Ç—Ñ–æ—Ä–º—É –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤ –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ –∏ –ø—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –Ω–∞—Ä—É—à–µ–Ω–∏—è –≤–µ—Ä–Ω—ë—Ç —Å—Ä–µ–¥—Å—Ç–≤–∞ –Ω–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –±–∞–ª–∞–Ω—Å. –ü—Ä–µ—Ç–µ–Ω–∑–∏–∏ –ø–æ –∫–∞—á–µ—Å—Ç–≤—É –ø—Ä–µ–¥—ä—è–≤–ª—è—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏ –û—Ç–µ–ª—è.</p>

                                <h3 className="text-white font-bold text-base">6. –°–æ–≥–ª–∞—Å–∏–µ —Å —É—Å–ª–æ–≤–∏—è–º–∏</h3>
                                <p>–ù–∞–∂–∏–º–∞—è –∫–Ω–æ–ø–∫—É ¬´–ü—Ä–∏–Ω—è—Ç—å¬ª, –≤—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç–µ, —á—Ç–æ:</p>
                                <ul className="list-disc pl-5 space-y-1">
                                    <li>–í–∞–º –∏—Å–ø–æ–ª–Ω–∏–ª–æ—Å—å 14 –ª–µ—Ç (–∏–ª–∏ –≤—ã –∏–º–µ–µ—Ç–µ —Å–æ–≥–ª–∞—Å–∏–µ —Ä–æ–¥–∏—Ç–µ–ª–µ–π).</li>
                                    <li>–í—ã –ø–æ–Ω–∏–º–∞–µ—Ç–µ, —á—Ç–æ –≤—Å–µ –ø—Ä–µ—Ç–µ–Ω–∑–∏–∏ –ø–æ –∫–∞—á–µ—Å—Ç–≤—É –µ–¥—ã –ø—Ä–µ–¥—ä—è–≤–ª—è—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏ –û—Ç–µ–ª—è, —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≤ —á–µ–∫–µ.</li>
                                    <li>–í—ã —Å–æ–≥–ª–∞—Å–Ω—ã —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ó–∞–∫–æ–Ω–æ–º –†–ö ¬´–û –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö¬ª.</li>
                                </ul>

                                <div className="mt-6 p-4 rounded-xl border border-white/10" style={{background: 'rgba(142,169,154,0.08)'}}>
                                    <p className="text-xs text-gray-400">–î–∞–Ω–Ω–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è –ø—É–±–ª–∏—á–Ω–æ–π –æ—Ñ–µ—Ä—Ç–æ–π –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å–æ —Å—Ç. 395 –ì—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–≥–æ –∫–æ–¥–µ–∫—Å–∞ –†–µ—Å–ø—É–±–ª–∏–∫–∏ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω. –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: —Ñ–µ–≤—Ä–∞–ª—å 2026 –≥.</p>
                                </div>
                            </div>
                        </div>
                        <div className="p-6 border-t border-white/10">
                            <label className={`flex items-start gap-3 mb-4 cursor-pointer ${!scrolledToEnd ? 'opacity-40 pointer-events-none' : ''}`}>
                                <input type="checkbox" checked={accepted} onChange={(e) => setAccepted(e.target.checked)} className="mt-1 w-4 h-4 accent-emerald-500" />
                                <span className="text-sm text-gray-300">–Ø –ø—Ä–∏–Ω–∏–º–∞—é —É—Å–ª–æ–≤–∏—è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è –∏ –ü–æ–ª–∏—Ç–∏–∫—É –æ—Ç–∫–∞–∑–∞ –æ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</span>
                            </label>
                            <button
                                onClick={onAccept}
                                disabled={!accepted}
                                className={`w-full py-3 rounded-xl font-bold text-sm transition-all ${accepted ? 'btn-gradient text-gray-900' : 'bg-gray-800 text-gray-600 cursor-not-allowed'}`}
                            >
                                –ü—Ä–∏–Ω—è—Ç—å –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        // –°–ø–∏—Å–æ–∫ –≥–æ—Ä–æ–¥–æ–≤ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞
        const KZ_CITIES = [
            '–ê–ª–º–∞—Ç—ã','–ê—Å—Ç–∞–Ω–∞','–®—ã–º–∫–µ–Ω—Ç','–ê–∫—Ç–æ–±–µ','–ö–∞—Ä–∞–≥–∞–Ω–¥–∞','–¢–∞—Ä–∞–∑','–ü–∞–≤–ª–æ–¥–∞—Ä',
            '–£—Å—Ç—å-–ö–∞–º–µ–Ω–æ–≥–æ—Ä—Å–∫','–°–µ–º–µ–π','–ê—Ç—ã—Ä–∞—É','–ö–æ—Å—Ç–∞–Ω–∞–π','–ö—ã–∑—ã–ª–æ—Ä–¥–∞',
            '–û—Ä–∞–ª (–£—Ä–∞–ª—å—Å–∫)','–ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫','–ê–∫—Ç–∞—É','–¢–µ–º–∏—Ä—Ç–∞—É','–¢—É—Ä–∫–µ—Å—Ç–∞–Ω',
            '–¢–∞–ª–¥—ã–∫–æ—Ä–≥–∞–Ω','–≠–∫–∏–±–∞—Å—Ç—É–∑','–†—É–¥–Ω—ã–π','–ñ–µ–∑–∫–∞–∑–≥–∞–Ω','–ö–æ–∫—à–µ—Ç–∞—É',
            '–°–∞—Ç–ø–∞–µ–≤','–ö–∞—Å–∫–µ–ª–µ–Ω','–°—Ç–µ–ø–Ω–æ–≥–æ—Ä—Å–∫','–ë–∞–ª—Ö–∞—à','–ö–µ–Ω—Ç–∞—É',
            '–ñ–∞–Ω–∞–æ–∑–µ–Ω','–ö–∞–ø—á–∞–≥–∞–π','–°–∞—Ä–∞–Ω—å','–®–∞—Ö—Ç–∏–Ω—Å–∫','–ó—ã—Ä—è–Ω–æ–≤—Å–∫ (–ê–ª—Ç–∞–π)',
            '–ë–∞–π–∫–æ–Ω—É—Ä','–õ–∏—Å–∞–∫–æ–≤—Å–∫','–•—Ä–æ–º—Ç–∞—É','–ê—Ä–∫–∞–ª—ã–∫','–ö—É–ª—Å–∞—Ä—ã'
        ];

        // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–∫—É–ø–∞—Ç–µ–ª—è
        function BuyerRegister({ navigate, loginWithGoogle, user }) {
            const [form, setForm] = useState({ surname: '', name: '', patronymic: '', phone: '', email: '', city: '' });
            const [showTerms, setShowTerms] = useState(false);
            const [termsAccepted, setTermsAccepted] = useState(false);
            const [registered, setRegistered] = useState(false);
            const [toast, setToast] = useState(null);
            const [googleLoading, setGoogleLoading] = useState(false);

            // –ï—Å–ª–∏ —É–∂–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω ‚Äî —Å—Ä–∞–∑—É –Ω–∞ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å
            useEffect(() => {
                if (user) navigate('marketplace');
            }, [user]);

            const isValid = termsAccepted && form.surname && form.name && form.phone && form.email && form.city;

            const handleGoogleLogin = async () => {
                setGoogleLoading(true);
                try {
                    await loginWithGoogle();
                } catch (e) {
                    setGoogleLoading(false);
                }
            };

            const handleSubmit = (e) => {
                e.preventDefault();
                if (!termsAccepted) { setShowTerms(true); return; }
                sendToTelegram('buyer', form);
                setRegistered(true);
                setToast('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞!');
            };

            const inputCls = "w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-600 focus:outline-none focus:border-emerald-500/50 transition";

            if (registered) {
                return (
                    <div className="min-h-screen relative overflow-hidden flex items-center justify-center">
                        <ParticlesBackground />
                        {toast && <Toast message={toast} onClose={() => setToast(null)} />}
                        <div className="relative z-10 max-w-md mx-auto px-4 text-center">
                            <div className="p-10 rounded-2xl border border-white/10" style={{background: 'rgba(255,255,255,0.02)'}}>
                                <div className="w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6" style={{background: 'rgba(142,169,154,0.15)'}}>
                                    <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#8EA99A" strokeWidth="2"><polyline points="20 6 9 17 4 12"/></svg>
                                </div>
                                <h2 className="text-2xl font-bold text-white mb-3">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞!</h2>
                                <p className="text-gray-400 text-sm mb-8">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {form.name}! –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–∫—É–ø–∞—Ç—å –ª–æ—Ç—ã.</p>
                                <button onClick={(e) => { addRipple(e); navigate('marketplace'); }} className="btn-gradient ripple-effect text-gray-900 px-8 py-3 rounded-xl font-bold text-sm w-full">–û—Ç–∫—Ä—ã—Ç—å –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å</button>
                                <button onClick={() => navigate('landing')} className="mt-3 block mx-auto text-sm text-gray-500 hover:text-gray-300 transition">–ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
                            </div>
                        </div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen relative overflow-hidden">
                    <ParticlesBackground />
                    {toast && <Toast message={toast} onClose={() => setToast(null)} />}
                    <div className="relative z-10 max-w-lg mx-auto px-4 py-14">
                        <div className="text-center mb-8">
                            <button onClick={() => navigate('landing')} className="text-sm text-gray-500 hover:text-gray-300 transition mb-6 inline-block">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
                            <h1 className="text-3xl font-black text-white mb-2">–í—Ö–æ–¥ / –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h1>
                            <p className="text-gray-500 text-sm">–ü–æ–ª—É—á–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å—É —Å–æ —Å–∫–∏–¥–∫–∞–º–∏ –¥–æ 70%</p>
                        </div>

                        <div className="mb-6 p-6 rounded-2xl border border-white/10" style={{background: 'rgba(255,255,255,0.02)'}}>
                            <button onClick={handleGoogleLogin} disabled={googleLoading} className="w-full flex items-center justify-center gap-3 py-3.5 bg-white hover:bg-gray-100 text-gray-800 rounded-xl font-semibold transition disabled:opacity-50">
                                <svg width="20" height="20" viewBox="0 0 48 48"><path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"/><path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"/><path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"/><path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"/></svg>
                                {googleLoading ? '–í—Ö–æ–¥–∏–º...' : '–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google'}
                            </button>
                            <p className="text-center text-gray-600 text-xs mt-3">–ë—ã—Å—Ç—Ä—ã–π –≤—Ö–æ–¥ ‚Äî 1 –∫–ª–∏–∫. –î–∞–Ω–Ω—ã–µ –∑–∞—â–∏—â–µ–Ω—ã.</p>
                        </div>

                        <div className="flex items-center gap-3 mb-6">
                            <div className="flex-1 h-px bg-white/10"></div>
                            <span className="text-gray-600 text-xs">–∏–ª–∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É</span>
                            <div className="flex-1 h-px bg-white/10"></div>
                        </div>

                        <form onSubmit={handleSubmit} className="space-y-4 p-8 rounded-2xl border border-white/10" style={{background: 'rgba(255,255,255,0.02)'}}>
                            <div className="grid grid-cols-1 sm:grid-cols-3 gap-3">
                                <div>
                                    <label className="block text-sm font-medium text-gray-300 mb-1.5">–§–∞–º–∏–ª–∏—è *</label>
                                    <input type="text" required value={form.surname} onChange={(e) => setForm({...form, surname: e.target.value})} placeholder="–ò–≤–∞–Ω–æ–≤" className={inputCls} />
                                </div>
                                <div>
                                    <label className="block text-sm font-medium text-gray-300 mb-1.5">–ò–º—è *</label>
                                    <input type="text" required value={form.name} onChange={(e) => setForm({...form, name: e.target.value})} placeholder="–ò–≤–∞–Ω" className={inputCls} />
                                </div>
                                <div>
                                    <label className="block text-sm font-medium text-gray-300 mb-1.5">–û—Ç—á–µ—Å—Ç–≤–æ</label>
                                    <input type="text" value={form.patronymic} onChange={(e) => setForm({...form, patronymic: e.target.value})} placeholder="–ò–≤–∞–Ω–æ–≤–∏—á" className={inputCls} />
                                </div>
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-gray-300 mb-1.5">–¢–µ–ª–µ—Ñ–æ–Ω *</label>
                                <input type="tel" required value={form.phone} onChange={(e) => setForm({...form, phone: e.target.value})} placeholder="+7 (777) 123-45-67" className={inputCls} />
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-gray-300 mb-1.5">Email *</label>
                                <input type="email" required value={form.email} onChange={(e) => setForm({...form, email: e.target.value})} placeholder="ivan@mail.com" className={inputCls} />
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-gray-300 mb-1.5">–ì–æ—Ä–æ–¥ *</label>
                                <select required value={form.city} onChange={(e) => setForm({...form, city: e.target.value})} className={inputCls} style={{background: '#141414'}}>
                                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥</option>
                                    {KZ_CITIES.map(c => <option key={c} value={c}>{c}</option>)}
                                </select>
                            </div>

                            <div className="pt-2">
                                <label className="flex items-start gap-3 cursor-pointer">
                                    <input type="checkbox" checked={termsAccepted} onChange={() => { if (!termsAccepted) setShowTerms(true); else setTermsAccepted(false); }} className="mt-1 w-4 h-4 accent-emerald-500" />
                                    <span className="text-xs text-gray-400">–Ø –ø—Ä–∏–Ω–∏–º–∞—é <button type="button" onClick={() => setShowTerms(true)} className="text-emerald-400 underline">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ</button> –∏ –ü–æ–ª–∏—Ç–∏–∫—É –æ—Ç–∫–∞–∑–∞ –æ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</span>
                                </label>
                            </div>

                            <button type="submit" onClick={(e) => isValid && addRipple(e)} disabled={!isValid} className={`w-full py-3.5 rounded-xl font-bold text-sm transition-all ripple-effect ${isValid ? 'btn-gradient text-gray-900' : 'bg-gray-800 text-gray-600 cursor-not-allowed'}`}>
                                –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
                            </button>
                        </form>
                    </div>

                    {showTerms && <TermsModal onAccept={() => { setTermsAccepted(true); setShowTerms(false); }} onClose={() => setShowTerms(false)} />}
                </div>
            );
        }

        // –í—ã–±–æ—Ä —Ä–æ–ª–∏
        function RoleSelect({ selectRole, navigate }) {
            const [selected, setSelected] = useState(null);

            return (
                <div className="min-h-screen relative overflow-hidden">
                    <ParticlesBackground />

                    <div className="relative z-10 max-w-6xl mx-auto px-4 py-16">
                        <button onClick={() => navigate('landing')} className="text-sm text-gray-500 hover:text-gray-300 transition mb-8 inline-block">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</button>

                        <div className="text-center mb-16 fade-in">
                            <h1 className="text-4xl font-bold mb-4 text-white">
                                –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ <span className="gradient-text">EcoLoop</span>
                            </h1>
                            <p className="text-lg text-gray-400">
                                –í—ã–±–µ—Ä–∏—Ç–µ, –∫–∞–∫ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–ª–∞—Ç—Ñ–æ—Ä–º—É
                            </p>
                        </div>

                        <div className="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto">
                            <button
                                onClick={() => setSelected('buyer')}
                                className={`p-8 rounded-2xl border text-left transition-all duration-300 ${selected === 'buyer' ? 'border-emerald-500/40 bg-emerald-500/5' : 'border-white/8 hover:border-white/20'}`}
                                style={{background: selected === 'buyer' ? undefined : 'rgba(255,255,255,0.02)'}}
                            >
                                <div className="w-14 h-14 rounded-xl flex items-center justify-center mb-5" style={{background: 'rgba(91,130,145,0.12)'}}>
                                    <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="#5B8291" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"><circle cx="8" cy="21" r="1"/><circle cx="19" cy="21" r="1"/><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"/></svg>
                                </div>
                                <h3 className="text-xl font-bold mb-2 text-white">–Ø –ø–æ–∫—É–ø–∞—Ç–µ–ª—å</h3>
                                <p className="text-gray-400 text-sm mb-4 leading-relaxed">–ü–æ–∫—É–ø–∞–π—Ç–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—É—é –µ–¥—É —Å–æ —Å–∫–∏–¥–∫–æ–π –¥–æ 70%</p>
                                <div className="space-y-1.5 text-xs text-gray-500">
                                    <div className="flex items-center gap-2"><span className="text-emerald-400">‚úì</span> –î–æ—Å—Ç—É–ø –∫ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å—É</div>
                                    <div className="flex items-center gap-2"><span className="text-emerald-400">‚úì</span> –°–∫–∏–¥–∫–∏ –¥–æ 70%</div>
                                    <div className="flex items-center gap-2"><span className="text-emerald-400">‚úì</span> –ë—ã—Å—Ç—Ä–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</div>
                                </div>
                            </button>

                            <button
                                onClick={() => setSelected('hotel')}
                                className={`p-8 rounded-2xl border text-left transition-all duration-300 ${selected === 'hotel' ? 'border-emerald-500/40 bg-emerald-500/5' : 'border-white/8 hover:border-white/20'}`}
                                style={{background: selected === 'hotel' ? undefined : 'rgba(255,255,255,0.02)'}}
                            >
                                <div className="w-14 h-14 rounded-xl flex items-center justify-center mb-5" style={{background: 'rgba(142,169,154,0.12)'}}>
                                    <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="#8EA99A" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"><path d="M3 21h18"/><path d="M5 21V7l8-4v18"/><path d="M19 21V11l-6-4"/><path d="M9 9h1"/><path d="M9 13h1"/><path d="M9 17h1"/></svg>
                                </div>
                                <h3 className="text-xl font-bold mb-2 text-white">–Ø –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—å –æ—Ç–µ–ª—è</h3>
                                <p className="text-gray-400 text-sm mb-4 leading-relaxed">–ú–æ–Ω–µ—Ç–∏–∑–∏—Ä—É–π—Ç–µ –æ—Ç—Ö–æ–¥—ã, –ø–æ–ª—É—á–∞–π—Ç–µ ESG-–æ—Ç—á—ë—Ç—ã</p>
                                <div className="space-y-1.5 text-xs text-gray-500">
                                    <div className="flex items-center gap-2"><span className="text-emerald-400">‚úì</span> –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –≤—ã—Ä—É—á–∫–∞</div>
                                    <div className="flex items-center gap-2"><span className="text-emerald-400">‚úì</span> ESG-–æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å</div>
                                    <div className="flex items-center gap-2"><span className="text-emerald-400">‚úì</span> –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</div>
                                </div>
                            </button>
                        </div>

                        {selected && (
                            <div className="text-center mt-10 fade-in">
                                <button
                                    onClick={() => selectRole(selected)}
                                    className="btn-gradient text-gray-900 px-10 py-3.5 rounded-xl font-bold text-sm"
                                >
                                    –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
                                </button>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        // –§–æ—Ä–º–∞ –∑–∞—è–≤–∫–∏ –¥–ª—è –æ—Ç–µ–ª—è
        function HotelRequestForm({ navigate, user, loginWithGoogle }) {
            const [formData, setFormData] = useState({
                hotelName: '',
                ipName: '',
                bin: '',
                contactName: user?.displayName || '',
                position: '',
                email: '',
                phone: ''
            });
            const [submitted, setSubmitted] = useState(false);
            const [emailError, setEmailError] = useState('');
            const [termsAccepted, setTermsAccepted] = useState(false);
            const [showTerms, setShowTerms] = useState(false);

            const validateEmail = (email) => {
                if (!email || !email.includes('@')) {
                    setEmailError('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email');
                    return false;
                }
                const publicDomains = ['gmail.com', 'mail.ru', 'yandex.ru', 'inbox.ru'];
                const domain = email.split('@')[1];
                if (publicDomains.includes(domain)) {
                    setEmailError('–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π email (–Ω–æ –º–æ–∂–Ω–æ –∏ –æ–±—ã—á–Ω—ã–π)');
                }
                return true;
            };

            const handleSubmit = async (e) => {
                e.preventDefault();
                if (!validateEmail(formData.email)) return;
                if (!termsAccepted) return;
                
                const submitData = {
                    ...formData,
                    googleUid: user?.uid || null,
                    googleEmail: user?.email || null,
                    googleName: user?.displayName || null
                };
                await sendToTelegram('hotel', submitData);
                setSubmitted(true);
            };

            if (submitted) {
                return (
                    <div className="min-h-screen relative overflow-hidden flex items-center justify-center">
                        <ParticlesBackground />
                        <div className="relative z-10 max-w-md mx-auto px-4 text-center">
                            <div className="p-10 rounded-2xl border border-white/10" style={{background: 'rgba(255,255,255,0.02)'}}>
                                <div className="w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6" style={{background: 'rgba(142,169,154,0.15)'}}>
                                    <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#8EA99A" strokeWidth="2"><polyline points="20 6 9 17 4 12"/></svg>
                                </div>
                                <h2 className="text-2xl font-bold mb-3 text-white">–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!</h2>
                                <p className="text-gray-400 text-sm mb-6 leading-relaxed">
                                    –ù–∞—à –º–µ–Ω–µ–¥–∂–µ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤.
                                </p>
                                <div className="rounded-xl p-5 mb-6 text-left border border-white/10" style={{background: 'rgba(142,169,154,0.06)'}}>
                                    <h3 className="font-bold mb-3 text-sm text-emerald-400">–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:</h3>
                                    <ol className="space-y-2 text-sm text-gray-400">
                                        <li>1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–ò–ù –≤ –±–∞–∑–µ –ö–ì–î</li>
                                        <li>2. –ó–∞–ø—Ä–æ—Å –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</li>
                                        <li>3. –ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ –¥–æ–≥–æ–≤–æ—Ä–∞ —á–µ—Ä–µ–∑ –≠–¶–ü</li>
                                        <li>4. –õ–∏—á–Ω—ã–π –æ–Ω–±–æ—Ä–¥–∏–Ω–≥</li>
                                    </ol>
                                </div>
                                <button onClick={() => navigate('landing')} className="text-sm text-gray-500 hover:text-gray-300 transition">
                                    –ù–∞ –≥–ª–∞–≤–Ω—É—é
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen relative overflow-hidden">
                    <ParticlesBackground />

                    <div className="relative z-10 max-w-3xl mx-auto px-4 py-12">
                        <button onClick={() => navigate('landing')} className="text-sm text-gray-500 hover:text-gray-300 transition mb-6 inline-block">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
                        <div className="text-center mb-10 fade-in">
                            <h1 className="text-3xl font-bold mb-3 text-white">
                                –ü–æ–¥–∫–ª—é—á–∏—Ç—å –æ—Ç–µ–ª—å –∫ <span className="gradient-text">EcoLoop</span>
                            </h1>
                            <p className="text-gray-400 text-sm">
                                –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–∞—è–≤–∫—É, –∏ –º—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏
                            </p>
                        </div>

                        <form onSubmit={handleSubmit} className="p-8 rounded-2xl border border-white/10" style={{background: 'rgba(255,255,255,0.02)'}}>
                            <div className="space-y-6">
                                <div>
                                    <label className="block text-sm font-medium text-gray-300 mb-1.5">–ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ç–µ–ª—è *</label>
                                    <input type="text" required value={formData.hotelName} onChange={(e) => setFormData({...formData, hotelName: e.target.value})} placeholder="Rixos Almaty" className="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-600 focus:outline-none focus:border-emerald-500/50 transition" />
                                </div>

                                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-300 mb-1.5">–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ò–ü / –¢–û–û *</label>
                                        <input type="text" required value={formData.ipName} onChange={(e) => setFormData({...formData, ipName: e.target.value})} placeholder='–ò–ü "–ò–≤–∞–Ω–æ–≤" –∏–ª–∏ –¢–û–û "Hotel Group"' className="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-600 focus:outline-none focus:border-emerald-500/50 transition" />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium text-gray-300 mb-1.5">–ë–ò–ù *</label>
                                        <input type="text" required value={formData.bin} onChange={(e) => setFormData({...formData, bin: e.target.value.replace(/\D/g, '').slice(0, 12)})} placeholder="123456789012" maxLength="12" minLength="12" pattern="[0-9]{12}" title="–ë–ò–ù –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å 12 —Ü–∏—Ñ—Ä" className="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-600 focus:outline-none focus:border-emerald-500/50 transition" />
                                        <p className="text-gray-600 text-xs mt-1.5">12 —Ü–∏—Ñ—Ä. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤ –±–∞–∑–µ –ö–ì–î</p>
                                    </div>
                                </div>

                                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-300 mb-1.5">–í–∞—à–µ –∏–º—è *</label>
                                        <input type="text" required value={formData.contactName} onChange={(e) => setFormData({...formData, contactName: e.target.value})} placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤" className="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-600 focus:outline-none focus:border-emerald-500/50 transition" />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium text-gray-300 mb-1.5">–î–æ–ª–∂–Ω–æ—Å—Ç—å *</label>
                                        <select required value={formData.position} onChange={(e) => setFormData({...formData, position: e.target.value, customPosition: ''})} className="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white focus:outline-none focus:border-emerald-500/50 transition" style={{background: '#141414'}}>
                                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ</option>
                                            <option value="manager">–£–ø—Ä–∞–≤–ª—è—é—â–∏–π</option>
                                            <option value="chef">–®–µ—Ñ-–ø–æ–≤–∞—Ä</option>
                                            <option value="director">–î–∏—Ä–µ–∫—Ç–æ—Ä</option>
                                            <option value="procurement">–ó–∞–∫—É–ø—â–∏–∫</option>
                                            <option value="owner">–í–ª–∞–¥–µ–ª–µ—Ü</option>
                                            <option value="other">–î—Ä—É–≥–æ–µ</option>
                                        </select>
                                        {formData.position === 'other' && (
                                            <input type="text" required value={formData.customPosition || ''} onChange={(e) => setFormData({...formData, customPosition: e.target.value})} placeholder="–£–∫–∞–∂–∏—Ç–µ –≤–∞—à—É –¥–æ–ª–∂–Ω–æ—Å—Ç—å" className="w-full mt-2 px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-600 focus:outline-none focus:border-emerald-500/50 transition" />
                                        )}
                                    </div>
                                </div>

                                <div>
                                    <label className="block text-sm font-medium text-gray-300 mb-1.5">–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π email *</label>
                                    <input
                                        type="email"
                                        required
                                        value={formData.email}
                                        onChange={(e) => {
                                            setFormData({...formData, email: e.target.value});
                                            if (e.target.value.includes('@')) {
                                                validateEmail(e.target.value);
                                            }
                                        }}
                                        placeholder="m.ivanov@hilton.com"
                                        className={`w-full px-4 py-3 bg-white/5 border rounded-xl text-white placeholder-gray-600 focus:outline-none transition ${
                                            emailError ? 'border-red-500' : 'border-white/10'
                                        }`}
                                    />
                                    {emailError && (
                                        <p className="text-red-500 text-sm mt-2">‚ö† {emailError}</p>
                                    )}
                                    <p className="text-gray-600 text-xs mt-1.5">–ù–µ –ø—Ä–∏–Ω–∏–º–∞–µ–º gmail.com, mail.ru –∏ –¥—Ä—É–≥–∏–µ –ø—É–±–ª–∏—á–Ω—ã–µ –¥–æ–º–µ–Ω—ã</p>
                                </div>

                                <div>
                                    <label className="block text-sm font-medium text-gray-300 mb-1.5">–¢–µ–ª–µ—Ñ–æ–Ω *</label>
                                    <input type="tel" required value={formData.phone} onChange={(e) => setFormData({...formData, phone: e.target.value})} placeholder="+7 (777) 123-45-67" className="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-600 focus:outline-none focus:border-emerald-500/50 transition" />
                                </div>

                                <div className="rounded-xl p-4 border border-white/10" style={{background: 'rgba(91,130,145,0.06)'}}>
                                    <h4 className="font-medium mb-2 text-sm text-gray-300">–ß—Ç–æ –±—É–¥–µ—Ç –¥–∞–ª—å—à–µ:</h4>
                                    <ul className="text-sm text-gray-500 space-y-1">
                                        <li>‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–ò–ù –≤ –±–∞–∑–µ –ö–ì–î (kgd.gov.kz)</li>
                                        <li>‚Ä¢ –ó–∞–ø—Ä–æ—Å —Å–ø—Ä–∞–≤–∫–∏ –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —é—Ä–ª–∏—Ü–∞</li>
                                        <li>‚Ä¢ –ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ –¥–æ–≥–æ–≤–æ—Ä–∞ —á–µ—Ä–µ–∑ –≠–¶–ü</li>
                                        <li>‚Ä¢ –õ–∏—á–Ω—ã–π –≤–∏–∑–∏—Ç –¥–ª—è –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞</li>
                                    </ul>
                                </div>

                                {/* –ü—Ä–∏–Ω—è—Ç–∏–µ –ø–æ–ª–∏—Ç–∏–∫–∏ */}
                                <div className="flex items-start gap-3">
                                    <input type="checkbox" id="hotel-terms" checked={termsAccepted} onChange={(e) => setTermsAccepted(e.target.checked)} className="mt-1 w-4 h-4 rounded accent-emerald-500 cursor-pointer" />
                                    <label htmlFor="hotel-terms" className="text-sm text-gray-400 leading-relaxed cursor-pointer">
                                        –Ø –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω(–∞) –∏ –ø—Ä–∏–Ω–∏–º–∞—é{' '}
                                        <button type="button" onClick={() => setShowTerms(true)} className="text-emerald-400 underline hover:text-emerald-300 transition">–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</button>{' '}
                                        –∏{' '}
                                        <button type="button" onClick={() => setShowTerms(true)} className="text-emerald-400 underline hover:text-emerald-300 transition">–ü–æ–ª–∏—Ç–∏–∫—É –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</button>,{' '}
                                        –∞ —Ç–∞–∫–∂–µ –¥–∞—é —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
                                    </label>
                                </div>

                                <button type="submit" disabled={!termsAccepted} className={`w-full px-8 py-3.5 rounded-xl font-bold text-sm transition-all ${termsAccepted ? 'btn-gradient text-gray-900' : 'bg-gray-800 text-gray-600 cursor-not-allowed'}`}>
                                    –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É
                                </button>

                                {/* –ú–æ–¥–∞–ª–∫–∞ —Å —É—Å–ª–æ–≤–∏—è–º–∏ */}
                                {showTerms && (
                                    <div className="modal-overlay" onClick={() => setShowTerms(false)}>
                                        <div className="relative z-10 max-w-2xl mx-auto mx-4" onClick={(e) => e.stopPropagation()}>
                                            <div className="rounded-2xl border border-white/10 p-8 max-h-[80vh] overflow-y-auto" style={{background: '#141414'}}>
                                                <div className="flex justify-between items-center mb-6">
                                                    <h3 className="text-xl font-bold text-white">–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</h3>
                                                    <button onClick={() => setShowTerms(false)} className="text-gray-500 hover:text-white transition">
                                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
                                                    </button>
                                                </div>
                                                <div className="space-y-4 text-sm text-gray-400 leading-relaxed">
                                                    <h4 className="text-white font-semibold text-base">1. –û–±—â–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è</h4>
                                                    <p>–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ EcoLoop (–¥–∞–ª–µ–µ ‚Äî ¬´–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞¬ª) –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É—Å–ª—É–≥–∏ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞ –¥–ª—è –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–∑–ª–∏—à–∫–æ–≤ –ø—Ä–æ–¥—É–∫—Ç–æ–≤, —Ç–µ–∫—Å—Ç–∏–ª—è –∏ –≤—Ç–æ—Ä—Å—ã—Ä—å—è –æ—Ç –≥–æ—Å—Ç–∏–Ω–∏—Ü –∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤ (–¥–∞–ª–µ–µ ‚Äî ¬´–ü—Ä–æ–¥–∞–≤—Ü—ã¬ª) –ø–æ–∫—É–ø–∞—Ç–µ–ª—è–º (–¥–∞–ª–µ–µ ‚Äî ¬´–ü–æ–∫—É–ø–∞—Ç–µ–ª–∏¬ª). –ù–∞—Å—Ç–æ—è—â–∏–µ –£—Å–ª–æ–≤–∏—è —Ä–µ–≥—É–ª–∏—Ä—É—é—Ç –æ—Ç–Ω–æ—à–µ–Ω–∏—è –º–µ–∂–¥—É –ü–ª–∞—Ç—Ñ–æ—Ä–º–æ–π –∏ –ü—Ä–æ–¥–∞–≤—Ü–æ–º.</p>
                                                    <h4 className="text-white font-semibold text-base">2. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è</h4>
                                                    <p>–î–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞ –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ –ü—Ä–æ–¥–∞–≤–µ—Ü –æ–±—è–∑–∞–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è: –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞, –ë–ò–ù, –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ª–∏—Ü–∞, –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π email. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞ —Å–æ–±–æ–π –ø—Ä–∞–≤–æ –∑–∞–ø—Ä–æ—Å–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏.</p>
                                                    <h4 className="text-white font-semibold text-base">3. –û–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –ü—Ä–æ–¥–∞–≤—Ü–∞</h4>
                                                    <p>–ü—Ä–æ–¥–∞–≤–µ—Ü –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ä–∞–∑–º–µ—â–∞–µ–º—ã—Ö –ª–æ—Ç–æ–≤. –ü—Ä–æ–¥—É–∫—Ç—ã –ø–∏—Ç–∞–Ω–∏—è –¥–æ–ª–∂–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Å–∞–Ω–∏—Ç–∞—Ä–Ω—ã–º –Ω–æ—Ä–º–∞–º –†–ö. –ü—Ä–æ–¥–∞–≤–µ—Ü –æ–±—è–∑—É–µ—Ç—Å—è –æ–±–µ—Å–ø–µ—á–∏—Ç—å —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–∞–º–æ–≤—ã–≤–æ–∑ –ª–æ—Ç–æ–≤ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è–º–∏ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è.</p>
                                                    <h4 className="text-white font-semibold text-base">4. –û–ø–ª–∞—Ç–∞ –∏ –∫–æ–º–∏—Å—Å–∏—è</h4>
                                                    <p>–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –≤–∑–∏–º–∞–µ—Ç —Å–µ—Ä–≤–∏—Å–Ω—ã–π —Å–±–æ—Ä –≤ —Ä–∞–∑–º–µ—Ä–µ 10% –æ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∫–∞–∂–¥–æ–π —Å–¥–µ–ª–∫–∏. –í—ã–ø–ª–∞—Ç—ã –ü—Ä–æ–¥–∞–≤—Ü—É –ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç—Å—è –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –±–∞–Ω–∫–æ–≤—Å–∫–∏–π —Å—á—ë—Ç. –í–æ–∑–≤—Ä–∞—Ç—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ 3 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π.</p>
                                                    <h4 className="text-white font-semibold text-base">5. –ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</h4>
                                                    <p>–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Å–æ–±–∏—Ä–∞–µ—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ó–∞–∫–æ–Ω–æ–º –†–ö ¬´–û –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –∏—Ö –∑–∞—â–∏—Ç–µ¬ª. –î–∞–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —É—Å–ª—É–≥ –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã –∏ –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º –±–µ–∑ —Å–æ–≥–ª–∞—Å–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Å–ª—É—á–∞–µ–≤, –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã—Ö –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ–º.</p>
                                                    <h4 className="text-white font-semibold text-base">6. –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</h4>
                                                    <p>–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –Ω–µ –Ω–µ—Å—ë—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –∫–∞—á–µ—Å—Ç–≤–æ –ª–æ—Ç–æ–≤, —Ä–∞–∑–º–µ—â—ë–Ω–Ω—ã—Ö –ü—Ä–æ–¥–∞–≤—Ü–∞–º–∏. –°–ø–æ—Ä—ã –º–µ–∂–¥—É –ü—Ä–æ–¥–∞–≤—Ü–æ–º –∏ –ü–æ–∫—É–ø–∞—Ç–µ–ª–µ–º —Ä–µ—à–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –∂–∞–ª–æ–± –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã. –ü—Ä–∏ —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –Ω–∞—Ä—É—à–µ–Ω–∏—è—Ö –∞–∫–∫–∞—É–Ω—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω.</p>
                                                    <h4 className="text-white font-semibold text-base">7. –ó–∞–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è</h4>
                                                    <p>–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞ —Å–æ–±–æ–π –ø—Ä–∞–≤–æ –∏–∑–º–µ–Ω—è—Ç—å –Ω–∞—Å—Ç–æ—è—â–∏–µ –£—Å–ª–æ–≤–∏—è —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∑–∞ 14 –¥–Ω–µ–π. –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –£—Å–ª–æ–≤–∏–π –æ–∑–Ω–∞—á–∞–µ—Ç —Å–æ–≥–ª–∞—Å–∏–µ —Å –Ω–∏–º–∏.</p>
                                                </div>
                                                <button onClick={() => { setTermsAccepted(true); setShowTerms(false); }} className="w-full mt-6 btn-gradient text-gray-900 px-8 py-3 rounded-xl font-bold text-sm">
                                                    –ü—Ä–∏–Ω–∏–º–∞—é —É—Å–ª–æ–≤–∏—è
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                )}
                            </div>
                        </form>
                    </div>
                </div>
            );
        }

        // –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
        function Landing({ navigate }) {
            const [mobileMenu, setMobileMenu] = useState(false);
            const [openFaq, setOpenFaq] = useState(null);
            const [callbackPhone, setCallbackPhone] = useState('');
            const [callbackName, setCallbackName] = useState('');
            const [callbackSent, setCallbackSent] = useState(false);
            const [toastMsg, setToastMsg] = useState(null);
            const headerRef = useRef(null);

            useEffect(() => {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) entry.target.classList.add('visible');
                    });
                }, { threshold: 0.15 });
                document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

                const onScroll = () => {
                    if (headerRef.current) {
                        headerRef.current.classList.toggle('scrolled', window.scrollY > 50);
                    }
                };
                window.addEventListener('scroll', onScroll);
                return () => { observer.disconnect(); window.removeEventListener('scroll', onScroll); };
            }, []);

            const faqs = [
                { q: '–ö–∞–∫–∏–µ –æ—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è?', a: '–õ—é–±–æ–π –æ—Ç–µ–ª—å, —Ä–µ—Å—Ç–æ—Ä–∞–Ω –∏–ª–∏ —Ö–æ—Å—Ç–µ–ª —Å –ë–ò–ù –∏ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–º email. –ú—ã –ø—Ä–æ–≤–µ—Ä–∏–º –¥–æ–∫—É–º–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ –±–∞–∑—ã –ö–ì–î.' },
                { q: '–ö–∞–∫–æ–≤–∞ –∫–æ–º–∏—Å—Å–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã?', a: '–ö–æ–º–∏—Å—Å–∏—è —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 6% –æ—Ç –∫–∞–∂–¥–æ–π —Å–¥–µ–ª–∫–∏. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–µ, –∞–±–æ–Ω–µ–Ω—Ç—Å–∫–æ–π –ø–ª–∞—Ç—ã –Ω–µ—Ç.' },
                { q: '–ë–µ–∑–æ–ø–∞—Å–Ω–æ –ª–∏ –ø–æ–∫—É–ø–∞—Ç—å –µ–¥—É?', a: '–ö–∞–∂–¥—ã–π –æ—Ç–µ–ª—å –ø—Ä–æ—Ö–æ–¥–∏—Ç –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é. –ü—Ä–æ–¥—É–∫—Ç—ã –≤—ã—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —Å—Ç—Ä–æ–≥–æ –≤ —Ä–∞–º–∫–∞—Ö —Å—Ä–æ–∫–∞ –≥–æ–¥–Ω–æ—Å—Ç–∏. –ï—Å—Ç—å –≤–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤ –≤ —Ç–µ—á–µ–Ω–∏–µ 24—á.' },
                { q: '–ö–∞–∫ –±—ã—Å—Ç—Ä–æ –ø—Ä–∏—Ö–æ–¥—è—Ç –≤—ã–ø–ª–∞—Ç—ã?', a: '–í—ã–ø–ª–∞—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç—Å—è –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ –Ω–∞ —Ä–∞—Å—á—ë—Ç–Ω—ã–π —Å—á—ë—Ç –æ—Ç–µ–ª—è. –î–µ–Ω—å–≥–∏ —É–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –Ω–∞ escrow –¥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø—Ä–∏—ë–º–∫–∏.' },
            ];

            const navLinks = [
                { href: '#about', label: '–û –ø—Ä–æ–µ–∫—Ç–µ' },
                { href: '#what-we-do', label: '–ß—Ç–æ –º—ã –¥–µ–ª–∞–µ–º' },
                { href: '#how-it-works', label: '–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç' },
                { href: '#goals', label: '–¶–µ–ª–∏' },
                { href: '#faq', label: 'FAQ' },
            ];

            return (
                <div className="min-h-screen relative overflow-hidden">
                    <ParticlesBackground />
                    <ScrollToTop />
                    {toastMsg && <Toast message={toastMsg} onClose={() => setToastMsg(null)} />}

                    {/* Sticky —à–∞–ø–∫–∞ */}
                    <header ref={headerRef} className="header-sticky border-b border-white/5" style={{background: 'rgba(10,10,10,0.6)', backdropFilter: 'blur(12px)'}}>
                        <div className="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
                            <div className="flex items-center space-x-3">
                                <div className="w-10 h-10 rounded-xl flex items-center justify-center" style={{background: 'linear-gradient(135deg, #8EA99A, #5B8291)'}}>
                                    <LogoIcon size={20} color="white" />
                                </div>
                                <span className="text-xl font-extrabold text-white tracking-tight">EcoLoop</span>
                            </div>
                            <nav className="hidden md:flex items-center gap-6">
                                {navLinks.map(l => (
                                    <a key={l.href} href={l.href} className="text-gray-400 hover:text-white transition-all duration-300 text-sm font-medium nav-link">{l.label}</a>
                                ))}
                                <button onClick={(e) => { addRipple(e); navigate('role-select'); }} className="btn-outline ripple-effect px-5 py-2 rounded-lg font-medium text-sm">
                                    –í–æ–π—Ç–∏
                                </button>
                            </nav>
                            {/* –ú–æ–±–∏–ª—å–Ω—ã–π –±—É—Ä–≥–µ—Ä */}
                            <button className="md:hidden text-gray-400 hover:text-white transition" onClick={() => setMobileMenu(!mobileMenu)}>
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
                            </button>
                        </div>
                    </header>

                    {/* –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é */}
                    {mobileMenu && (
                        <div className="mobile-menu">
                            <button className="absolute top-6 right-6 text-gray-400 hover:text-white" onClick={() => setMobileMenu(false)}>
                                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
                            </button>
                            {navLinks.map(l => (
                                <a key={l.href} href={l.href} onClick={() => setMobileMenu(false)} className="text-2xl font-bold text-white hover:text-emerald-400 transition">{l.label}</a>
                            ))}
                            <button onClick={() => { setMobileMenu(false); navigate('role-select'); }} className="btn-gradient text-gray-900 px-10 py-3 rounded-xl font-bold text-base">–í–æ–π—Ç–∏</button>
                        </div>
                    )}

                    {/* Hero */}
                    <section className="relative z-10 max-w-6xl mx-auto px-4 pt-28 pb-20 text-center">
                        <div className="fade-in">
                            <div className="inline-flex items-center gap-2 mb-8 px-4 py-2 rounded-full border border-white/10" style={{background: 'rgba(142,169,154,0.08)'}}>
                                <div className="w-2 h-2 rounded-full bg-emerald-400 animate-pulse"></div>
                                <span className="text-gray-300 text-sm font-medium">B2B Circular Economy Platform</span>
                            </div>
                            <h1 className="text-5xl md:text-7xl font-black mb-8 leading-[1.08] tracking-tight text-white">
                                –ü—Ä–µ–≤—Ä–∞—â–∞–µ–º –æ—Ç—Ö–æ–¥—ã –æ—Ç–µ–ª–µ–π<br />
                                <span className="hero-accent">–≤ –¥–æ—Ö–æ–¥ –∏ —Ä–µ–ø—É—Ç–∞—Ü–∏—é</span>
                            </h1>
                            <p className="text-lg md:text-xl text-gray-400 mb-12 max-w-3xl mx-auto leading-relaxed">
                                –ü–µ—Ä–≤–∞—è —Ü–∏—Ñ—Ä–æ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏ –æ—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∏—Ö –æ—Ç—Ö–æ–¥–æ–≤ –≥–æ—Å—Ç–∏–Ω–∏—á–Ω–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞. –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, ESG-–∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ —Ñ–∏–Ω–∞–Ω—Å—ã.
                            </p>
                            <div className="flex flex-col sm:flex-row gap-4 justify-center">
                                <button onClick={(e) => { addRipple(e); navigate('role-select'); }} className="btn-gradient ripple-effect text-gray-900 px-10 py-4 rounded-xl font-bold text-base">
                                    –ü–æ–¥–∫–ª—é—á–∏—Ç—å –æ—Ç–µ–ª—å
                                </button>
                                <button onClick={(e) => { addRipple(e); navigate('buyer-register'); }} className="btn-outline ripple-effect px-10 py-4 rounded-xl font-bold text-base">
                                    –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ –ø–æ–∫—É–ø–∞—Ç–µ–ª—å
                                </button>
                            </div>
                        </div>
                    </section>

                    {/* –ú–µ—Ç—Ä–∏–∫–∏ */}
                    <section className="relative z-10 max-w-5xl mx-auto px-4 py-16">
                        <div className="grid grid-cols-3 gap-6 reveal">
                            <div className="text-center p-8 rounded-2xl border border-white/5" style={{background: 'rgba(255,255,255,0.02)'}}>
                                <div className="text-4xl md:text-5xl font-black text-white mb-2 counter-value">50K+</div>
                                <div className="text-sm text-gray-500 font-medium">–∫–≥ –µ–¥—ã —Å–ø–∞—Å–µ–Ω–æ</div>
                            </div>
                            <div className="text-center p-8 rounded-2xl border border-white/5" style={{background: 'rgba(255,255,255,0.02)'}}>
                                <div className="text-4xl md:text-5xl font-black text-white mb-2 counter-value">100+</div>
                                <div className="text-sm text-gray-500 font-medium">–æ—Ç–µ–ª–µ–π –ø–æ–¥–∫–ª—é—á–µ–Ω–æ</div>
                            </div>
                            <div className="text-center p-8 rounded-2xl border border-white/5" style={{background: 'rgba(255,255,255,0.02)'}}>
                                <div className="text-4xl md:text-5xl font-black text-white mb-2 counter-value">140—Ç</div>
                                <div className="text-sm text-gray-500 font-medium">CO‚ÇÇ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–æ</div>
                            </div>
                        </div>
                    </section>

                    {/* –ù–∞–º –¥–æ–≤–µ—Ä—è—é—Ç */}
                    <section className="relative z-10 max-w-5xl mx-auto px-4 py-12">
                        <div className="text-center mb-8 reveal">
                            <div className="text-xs text-gray-600 uppercase tracking-widest mb-6">–ù–∞–º –¥–æ–≤–µ—Ä—è—é—Ç</div>
                            <div className="flex flex-wrap justify-center gap-4">
                                {['Rixos Hotels','Hilton','Marriott','Ritz-Carlton','Holiday Inn','Novotel'].map(p => (
                                    <div key={p} className="partner-badge">{p}</div>
                                ))}
                            </div>
                        </div>
                    </section>

                    {/* –û –ø—Ä–æ–µ–∫—Ç–µ */}
                    <section id="about" className="relative z-10 max-w-6xl mx-auto px-4 py-24">
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-16 items-center">
                            <div className="reveal">
                                <div className="section-label">–û –ø—Ä–æ–µ–∫—Ç–µ</div>
                                <h2 className="text-4xl md:text-5xl font-black text-white mb-6 leading-tight section-title">
                                    –≠–∫–æ–Ω–æ–º–∏–∫–∞ –∑–∞–º–∫–Ω—É—Ç–æ–≥–æ —Ü–∏–∫–ª–∞ –¥–ª—è –æ—Ç–µ–ª–µ–π
                                </h2>
                                <p className="text-gray-400 text-lg leading-relaxed mb-6">
                                    –ï–∂–µ–≥–æ–¥–Ω–æ –æ—Ç–µ–ª–∏ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç —Ç—ã—Å—è—á–∏ —Ç–æ–Ω–Ω –ø–∏—â–µ–≤—ã—Ö –æ—Ç—Ö–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ —Å–≤–∞–ª–∫—É. EcoLoop —Å–æ–∑–¥–∞—ë—Ç –º–æ—Å—Ç –º–µ–∂–¥—É –≥–æ—Å—Ç–∏–Ω–∏—á–Ω—ã–º –±–∏–∑–Ω–µ—Å–æ–º –∏ –∞–≥—Ä–∞—Ä–Ω—ã–º —Å–µ–∫—Ç–æ—Ä–æ–º, –ø—Ä–µ–≤—Ä–∞—â–∞—è –æ—Ç—Ö–æ–¥—ã –≤ —Ü–µ–Ω–Ω—ã–π —Ä–µ—Å—É—Ä—Å.
                                </p>
                                <p className="text-gray-400 text-lg leading-relaxed">
                                    –ú—ã —Å–æ–µ–¥–∏–Ω—è–µ–º –æ—Ç–µ–ª–∏ —Å —Ñ–µ—Ä–º–µ—Ä—Å–∫–∏–º–∏ —Ö–æ–∑—è–π—Å—Ç–≤–∞–º–∏ –∏ –ø—Ä–∏—é—Ç–∞–º–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —é—Ä–∏–¥–∏—á–µ—Å–∫—É—é —á–∏—Å—Ç–æ—Ç—É –∫–∞–∂–¥–æ–π —Å–¥–µ–ª–∫–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫—É –ë–ò–ù, –¥–æ–≥–æ–≤–æ—Ä—ã —Å –≠–¶–ü –∏ –ø–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º—É –∫–æ–¥–µ–∫—Å—É –†–ö.
                                </p>
                            </div>
                            <div className="reveal reveal-delay-2 grid grid-cols-2 gap-4">
                                <div className="p-6 rounded-2xl border border-white/8" style={{background: 'rgba(142,169,154,0.06)'}}>
                                    <div className="w-10 h-10 rounded-lg flex items-center justify-center mb-4" style={{background: 'rgba(142,169,154,0.15)'}}>
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#8EA99A" strokeWidth="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                                    </div>
                                    <div className="text-white font-bold text-sm mb-1">–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ë–ò–ù</div>
                                    <div className="text-gray-500 text-xs">–ß–µ—Ä–µ–∑ –±–∞–∑—ã –ö–ì–î –ú–§ –†–ö</div>
                                </div>
                                <div className="p-6 rounded-2xl border border-white/8" style={{background: 'rgba(91,130,145,0.06)'}}>
                                    <div className="w-10 h-10 rounded-lg flex items-center justify-center mb-4" style={{background: 'rgba(91,130,145,0.15)'}}>
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#5B8291" strokeWidth="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/></svg>
                                    </div>
                                    <div className="text-white font-bold text-sm mb-1">–î–æ–≥–æ–≤–æ—Ä –≠–¶–ü</div>
                                    <div className="text-gray-500 text-xs">–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è —Å–∏–ª–∞</div>
                                </div>
                                <div className="p-6 rounded-2xl border border-white/8" style={{background: 'rgba(242,201,76,0.04)'}}>
                                    <div className="w-10 h-10 rounded-lg flex items-center justify-center mb-4" style={{background: 'rgba(242,201,76,0.12)'}}>
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#F2C94C" strokeWidth="2"><path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
                                    </div>
                                    <div className="text-white font-bold text-sm mb-1">Escrow-–ø–ª–∞—Ç–µ–∂–∏</div>
                                    <div className="text-gray-500 text-xs">–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Å–¥–µ–ª–∫–∏</div>
                                </div>
                                <div className="p-6 rounded-2xl border border-white/8" style={{background: 'rgba(142,169,154,0.06)'}}>
                                    <div className="w-10 h-10 rounded-lg flex items-center justify-center mb-4" style={{background: 'rgba(142,169,154,0.15)'}}>
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#8EA99A" strokeWidth="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
                                    </div>
                                    <div className="text-white font-bold text-sm mb-1">ESG-–∞–Ω–∞–ª–∏—Ç–∏–∫–∞</div>
                                    <div className="text-gray-500 text-xs">CO‚ÇÇ, –≤–æ–¥–∞, –æ—Ç—Ö–æ–¥—ã</div>
                                </div>
                            </div>
                        </div>
                    </section>

                    {/* –ß—Ç–æ –º—ã –¥–µ–ª–∞–µ–º */}
                    <section id="what-we-do" className="relative z-10 max-w-6xl mx-auto px-4 py-24">
                        <div className="text-center mb-16 reveal">
                            <div className="section-label">–ß—Ç–æ –º—ã –¥–µ–ª–∞–µ–º</div>
                            <h2 className="text-4xl md:text-5xl font-black text-white mb-6 tracking-tight section-title">
                                –¢—Ä–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã
                            </h2>
                            <p className="text-lg text-gray-400 max-w-2xl mx-auto">
                                –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –Ω–∞ —Ç—Ä—ë—Ö —É—Ä–æ–≤–Ω—è—Ö: —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–º, —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–º –∏ —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º
                            </p>
                        </div>

                        <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div className="reveal reveal-delay-1 p-8 rounded-2xl border border-white/8 transition-all duration-500 hover:border-emerald-500/30" style={{background: 'rgba(255,255,255,0.02)'}}>
                                <div className="w-12 h-12 rounded-xl flex items-center justify-center mb-6" style={{background: 'rgba(142,169,154,0.12)'}}>
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#8EA99A" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><polyline points="9 12 11 14 15 10"/></svg>
                                </div>
                                <h3 className="text-xl font-bold text-white mb-3">–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h3>
                                <p className="text-gray-400 leading-relaxed text-sm">
                                    –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–ò–ù —á–µ—Ä–µ–∑ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–µ –±–∞–∑—ã –ö–ì–î. –ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ –¥–æ–≥–æ–≤–æ—Ä–æ–≤ —á–µ—Ä–µ–∑ –≠–¶–ü. –ü–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º—É –∫–æ–¥–µ–∫—Å—É –†–ö —Å—Ç. 351 –∏ –°–∞–Ω–∏—Ç–∞—Ä–Ω—ã–º –ø—Ä–∞–≤–∏–ª–∞–º 2022 –≥–æ–¥–∞.
                                </p>
                            </div>

                            <div className="reveal reveal-delay-2 p-8 rounded-2xl border border-white/8 transition-all duration-500 hover:border-blue-500/30" style={{background: 'rgba(255,255,255,0.02)'}}>
                                <div className="w-12 h-12 rounded-xl flex items-center justify-center mb-6" style={{background: 'rgba(91,130,145,0.12)'}}>
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#5B8291" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
                                </div>
                                <h3 className="text-xl font-bold text-white mb-3">–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å</h3>
                                <p className="text-gray-400 leading-relaxed text-sm">
                                    Escrow-—Å–∏—Å—Ç–µ–º–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–π —Å–¥–µ–ª–∫–∏. –°—Ä–µ–¥—Å—Ç–≤–∞ —É–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –¥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø—Ä–∏—ë–º–∫–∏. –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –≤—ã–ø–ª–∞—Ç—ã –Ω–∞ —Å—á—ë—Ç –æ—Ç–µ–ª—è —Å –∫–æ–º–∏—Å—Å–∏–µ–π 6%.
                                </p>
                            </div>

                            <div className="reveal reveal-delay-3 p-8 rounded-2xl border border-white/8 transition-all duration-500 hover:border-yellow-500/30" style={{background: 'rgba(255,255,255,0.02)'}}>
                                <div className="w-12 h-12 rounded-xl flex items-center justify-center mb-6" style={{background: 'rgba(242,201,76,0.10)'}}>
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#F2C94C" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
                                </div>
                                <h3 className="text-xl font-bold text-white mb-3">ESG-–æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å</h3>
                                <p className="text-gray-400 leading-relaxed text-sm">
                                    –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â—ë–Ω–Ω—ã—Ö –≤—ã–±—Ä–æ—Å–æ–≤ CO‚ÇÇ –ø–æ —Ñ–æ—Ä–º—É–ª–µ WRAP (2.8 –∫–≥ CO‚ÇÇe / –∫–≥). –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –¥–ª—è –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö –æ—Ç–µ–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π –∏ –∏–Ω–≤–µ—Å—Ç–æ—Ä–æ–≤.
                                </p>
                            </div>
                        </div>
                    </section>

                    {/* –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç */}
                    <section id="how-it-works" className="relative z-10 max-w-5xl mx-auto px-4 py-24">
                        <div className="text-center mb-16 reveal">
                            <div className="section-label">–ü—Ä–æ—Ü–µ—Å—Å</div>
                            <h2 className="text-4xl md:text-5xl font-black text-white mb-6 tracking-tight section-title">
                                –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
                            </h2>
                        </div>

                        <div className="space-y-4">
                            <div className="reveal reveal-delay-1 p-8 rounded-2xl border border-white/8 flex items-start gap-6 transition-all duration-500 hover:border-white/15" style={{background: 'rgba(255,255,255,0.02)'}}>
                                <div className="flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center font-black text-lg" style={{background: 'rgba(142,169,154,0.12)', color: '#8EA99A'}}>01</div>
                                <div>
                                    <h3 className="text-xl font-bold text-white mb-2">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è</h3>
                                    <p className="text-gray-400 text-sm leading-relaxed">
                                        –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–∞—è–≤–∫—É —Å –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–º email –∏ –ë–ò–ù. –ú—ã –ø—Ä–æ–≤–µ—Ä–∏–º –¥–æ–∫—É–º–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ –±–∞–∑—É –ö–ì–î, –ø–æ–¥–ø–∏—à–µ–º –¥–æ–≥–æ–≤–æ—Ä —á–µ—Ä–µ–∑ –≠–¶–ü –∏ –ø—Ä–æ–≤–µ–¥—ë–º –ª–∏—á–Ω—ã–π –æ–Ω–±–æ—Ä–¥–∏–Ω–≥.
                                    </p>
                                </div>
                            </div>

                            <div className="reveal reveal-delay-2 p-8 rounded-2xl border border-white/8 flex items-start gap-6 transition-all duration-500 hover:border-white/15" style={{background: 'rgba(255,255,255,0.02)'}}>
                                <div className="flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center font-black text-lg" style={{background: 'rgba(91,130,145,0.12)', color: '#5B8291'}}>02</div>
                                <div>
                                    <h3 className="text-xl font-bold text-white mb-2">–ü—É–±–ª–∏–∫–∞—Ü–∏—è –ª–æ—Ç–æ–≤</h3>
                                    <p className="text-gray-400 text-sm leading-relaxed">
                                        –ó–∞–≥—Ä—É–∂–∞–π—Ç–µ —Ñ–æ—Ç–æ, —É–∫–∞–∂–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –æ—Ç—Ö–æ–¥–æ–≤, –≤–µ—Å, —Ü–µ–Ω—É –∏ –≤—Ä–µ–º—è —Å–∞–º–æ–≤—ã–≤–æ–∑–∞. –õ–æ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∞ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–µ –¥–ª—è –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π.
                                    </p>
                                </div>
                            </div>

                            <div className="reveal reveal-delay-3 p-8 rounded-2xl border border-white/8 flex items-start gap-6 transition-all duration-500 hover:border-white/15" style={{background: 'rgba(255,255,255,0.02)'}}>
                                <div className="flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center font-black text-lg" style={{background: 'rgba(242,201,76,0.10)', color: '#F2C94C'}}>03</div>
                                <div>
                                    <h3 className="text-xl font-bold text-white mb-2">–°–¥–µ–ª–∫–∞ –∏ –≤—ã–ø–ª–∞—Ç—ã</h3>
                                    <p className="text-gray-400 text-sm leading-relaxed">
                                        –ü–æ–∫—É–ø–∞—Ç–µ–ª—å –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç —á–µ—Ä–µ–∑ escrow. –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø—Ä–∏—ë–º–∫–∏ –¥–µ–Ω—å–≥–∏ –ø–æ—Å—Ç—É–ø–∞—é—Ç –Ω–∞ –≤–∞—à —Å—á—ë—Ç. –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –≤—ã–ø–ª–∞—Ç—ã, –∫–æ–º–∏—Å—Å–∏—è ‚Äî 6%.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </section>

                    {/* –ù–∞—à–∏ —Ü–µ–ª–∏ */}
                    <section id="goals" className="relative z-10 max-w-6xl mx-auto px-4 py-24">
                        <div className="text-center mb-16 reveal">
                            <div className="section-label">–ê–º–±–∏—Ü–∏–∏</div>
                            <h2 className="text-4xl md:text-5xl font-black text-white mb-6 tracking-tight section-title">
                                –ù–∞—à–∏ —Ü–µ–ª–∏
                            </h2>
                            <p className="text-lg text-gray-400 max-w-2xl mx-auto">
                                –°—Ç—Ä–æ–∏–º –ø–µ—Ä–≤—É—é —Ü–∏—Ä–∫—É–ª—è—Ä–Ω—É—é —ç–∫–æ—Å–∏—Å—Ç–µ–º—É –¥–ª—è –≥–æ—Å—Ç–∏–Ω–∏—á–Ω–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞
                            </p>
                        </div>

                        <div className="grid grid-cols-1 md:grid-cols-2 gap-5">
                            <div className="reveal reveal-delay-1 p-8 rounded-2xl border border-white/8 transition-all duration-500 hover:border-emerald-500/20" style={{background: 'rgba(255,255,255,0.02)'}}>
                                <div className="flex items-center gap-4 mb-4">
                                    <div className="w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0" style={{background: 'rgba(142,169,154,0.12)'}}>
                                        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#8EA99A" strokeWidth="2"><path d="M3 21h18"/><path d="M5 21V7l8-4v18"/><path d="M19 21V11l-6-4"/></svg>
                                    </div>
                                    <div>
                                        <div className="text-3xl font-black text-white">500</div>
                                        <div className="text-xs text-gray-500 uppercase tracking-wider">–æ—Ç–µ–ª–µ–π –∫ 2026</div>
                                    </div>
                                </div>
                                <p className="text-gray-400 text-sm leading-relaxed">
                                    –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫—Ä—É–ø–Ω—ã–µ —Å–µ—Ç–∏: Rixos, Hilton, Marriott, Ritz-Carlton –∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ –±—Ä–µ–Ω–¥—ã –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞.
                                </p>
                            </div>

                            <div className="reveal reveal-delay-2 p-8 rounded-2xl border border-white/8 transition-all duration-500 hover:border-blue-500/20" style={{background: 'rgba(255,255,255,0.02)'}}>
                                <div className="flex items-center gap-4 mb-4">
                                    <div className="w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0" style={{background: 'rgba(91,130,145,0.12)'}}>
                                        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#5B8291" strokeWidth="2"><circle cx="12" cy="12" r="10"/><path d="M2 12h20"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
                                    </div>
                                    <div>
                                        <div className="text-3xl font-black text-white">1 000 —Ç</div>
                                        <div className="text-xs text-gray-500 uppercase tracking-wider">CO‚ÇÇ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–æ / –≥–æ–¥</div>
                                    </div>
                                </div>
                                <p className="text-gray-400 text-sm leading-relaxed">
                                    –°–æ–∫—Ä–∞—Ç–∏—Ç—å —É–≥–ª–µ—Ä–æ–¥–Ω—ã–π —Å–ª–µ–¥ –∏–Ω–¥—É—Å—Ç—Ä–∏–∏ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫—É –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤.
                                </p>
                            </div>

                            <div className="reveal reveal-delay-3 p-8 rounded-2xl border border-white/8 transition-all duration-500 hover:border-yellow-500/20" style={{background: 'rgba(255,255,255,0.02)'}}>
                                <div className="flex items-center gap-4 mb-4">
                                    <div className="w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0" style={{background: 'rgba(242,201,76,0.10)'}}>
                                        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#F2C94C" strokeWidth="2"><path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
                                    </div>
                                    <div>
                                        <div className="text-3xl font-black text-white">‚Ç∏50M</div>
                                        <div className="text-xs text-gray-500 uppercase tracking-wider">–≤—ã—Ä—É—á–∫–∞ –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤</div>
                                    </div>
                                </div>
                                <p className="text-gray-400 text-sm leading-relaxed">
                                    –ü–æ–º–æ—á—å –æ—Ç–µ–ª—è–º –º–æ–Ω–µ—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—Ö–æ–¥—ã –∏ —Å–Ω–∏–∑–∏—Ç—å —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ —É—Ç–∏–ª–∏–∑–∞—Ü–∏—é –Ω–∞ 40-60%.
                                </p>
                            </div>

                            <div className="reveal reveal-delay-4 p-8 rounded-2xl border border-white/8 transition-all duration-500 hover:border-emerald-500/20" style={{background: 'rgba(255,255,255,0.02)'}}>
                                <div className="flex items-center gap-4 mb-4">
                                    <div className="w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0" style={{background: 'rgba(142,169,154,0.12)'}}>
                                        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#8EA99A" strokeWidth="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
                                    </div>
                                    <div>
                                        <div className="text-3xl font-black text-white">ESG</div>
                                        <div className="text-xs text-gray-500 uppercase tracking-wider">—Å—Ç–∞–Ω–¥–∞—Ä—Ç –∏–Ω–¥—É—Å—Ç—Ä–∏–∏</div>
                                    </div>
                                </div>
                                <p className="text-gray-400 text-sm leading-relaxed">
                                    –°—Ç–∞—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º ESG-–æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏ –¥–ª—è –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö –æ—Ç–µ–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π –≤ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–µ.
                                </p>
                            </div>
                        </div>
                    </section>

                    {/* –ú–µ–Ω–µ–¥–∂–µ—Ä —Å–≤—è–∂–µ—Ç—Å—è */}
                    <section className="relative z-10 max-w-4xl mx-auto px-4 py-24">
                        <div className="reveal callback-card">
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-12 items-center relative z-10">
                                <div>
                                    <div className="section-label">–û–±—Ä–∞—Ç–Ω—ã–π –∑–≤–æ–Ω–æ–∫</div>
                                    <h2 className="text-3xl md:text-4xl font-black text-white mb-4 section-title">–ù–∞—à –º–µ–Ω–µ–¥–∂–µ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏</h2>
                                    <p className="text-gray-400 leading-relaxed">–û—Å—Ç–∞–≤—å—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ ‚Äî –º—ã –ø–µ—Ä–µ–∑–≤–æ–Ω–∏–º –≤ —Ç–µ—á–µ–Ω–∏–µ 30 –º–∏–Ω—É—Ç –≤ —Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è. –û—Ç–≤–µ—Ç–∏–º –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏, –∫–æ–º–∏—Å—Å–∏—è—Ö –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.</p>
                                    <div className="mt-6 space-y-2">
                                        <div className="flex items-center gap-3 text-sm text-gray-400"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#8EA99A" strokeWidth="2"><polyline points="20 6 9 17 4 12"/></svg> –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è</div>
                                        <div className="flex items-center gap-3 text-sm text-gray-400"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#8EA99A" strokeWidth="2"><polyline points="20 6 9 17 4 12"/></svg> –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä</div>
                                        <div className="flex items-center gap-3 text-sm text-gray-400"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#8EA99A" strokeWidth="2"><polyline points="20 6 9 17 4 12"/></svg> –ü–æ–º–æ—â—å —Å –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–æ–º</div>
                                    </div>
                                </div>
                                <div>
                                    {callbackSent ? (
                                        <div className="text-center p-8 rounded-2xl border border-emerald-500/20" style={{background: 'rgba(142,169,154,0.06)'}}>
                                            <div className="w-14 h-14 rounded-full flex items-center justify-center mx-auto mb-4" style={{background: 'rgba(142,169,154,0.15)'}}>
                                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#8EA99A" strokeWidth="2"><polyline points="20 6 9 17 4 12"/></svg>
                                            </div>
                                            <h3 className="text-xl font-bold text-white mb-2">–ó–∞—è–≤–∫–∞ –ø—Ä–∏–Ω—è—Ç–∞!</h3>
                                            <p className="text-gray-400 text-sm">–ú–µ–Ω–µ–¥–∂–µ—Ä –ø–µ—Ä–µ–∑–≤–æ–Ω–∏—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ 30 –º–∏–Ω—É—Ç</p>
                                        </div>
                                    ) : (
                                        <div className="space-y-4">
                                            <div>
                                                <label className="block text-sm font-medium text-gray-300 mb-1.5">–í–∞—à–µ –∏–º—è</label>
                                                <input type="text" value={callbackName} onChange={(e) => setCallbackName(e.target.value)} placeholder="–ò–≤–∞–Ω" className="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-600 focus:outline-none focus:border-emerald-500/50 transition" />
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-gray-300 mb-1.5">–¢–µ–ª–µ—Ñ–æ–Ω *</label>
                                                <input type="tel" value={callbackPhone} onChange={(e) => setCallbackPhone(e.target.value)} placeholder="+7 (777) 123-45-67" className="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-600 focus:outline-none focus:border-emerald-500/50 transition" />
                                            </div>
                                            <button onClick={(e) => { if (!callbackPhone) return; addRipple(e); sendToTelegram('callback', {name: callbackName, phone: callbackPhone}); setCallbackSent(true); setToastMsg('–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞! –ú–µ–Ω–µ–¥–∂–µ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏.'); }} disabled={!callbackPhone} className={`w-full py-3.5 rounded-xl font-bold text-sm ripple-effect transition-all ${callbackPhone ? 'btn-gradient text-gray-900' : 'bg-gray-800 text-gray-600 cursor-not-allowed'}`}>
                                                –ü–µ—Ä–µ–∑–≤–æ–Ω–∏—Ç–µ –º–Ω–µ
                                            </button>
                                            <p className="text-xs text-gray-600 text-center">–ù–∞–∂–∏–º–∞—è –∫–Ω–æ–ø–∫—É, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</p>
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>
                    </section>

                    {/* CTA */}
                    <section className="relative z-10 max-w-4xl mx-auto px-4 py-24">
                        <div className="reveal p-14 rounded-3xl text-center border border-white/10" style={{background: 'linear-gradient(135deg, rgba(142,169,154,0.08), rgba(91,130,145,0.06))'}}>
                            <h2 className="text-4xl md:text-5xl font-black text-white mb-5 tracking-tight section-title">
                                –ì–æ—Ç–æ–≤—ã –Ω–∞—á–∞—Ç—å?
                            </h2>
                            <p className="text-lg text-gray-400 mb-10 max-w-2xl mx-auto leading-relaxed">
                                –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ —Ü–∏—Ä–∫—É–ª—è—Ä–Ω–æ–π —ç–∫–æ–Ω–æ–º–∏–∫–µ. –≠–∫–æ–Ω–æ–º—å—Ç–µ –¥–µ–Ω—å–≥–∏, –ø–æ–º–æ–≥–∞–π—Ç–µ —ç–∫–æ–ª–æ–≥–∏–∏, –ø–æ–≤—ã—à–∞–π—Ç–µ ESG-—Ä–µ–π—Ç–∏–Ω–≥.
                            </p>
                            <div className="flex flex-col sm:flex-row gap-4 justify-center">
                                <button onClick={(e) => { addRipple(e); navigate('role-select'); }} className="btn-gradient ripple-effect text-gray-900 px-10 py-4 rounded-xl font-bold text-base">
                                    –ü–æ–¥–∫–ª—é—á–∏—Ç—å –æ—Ç–µ–ª—å
                                </button>
                                <button onClick={(e) => { addRipple(e); navigate('buyer-register'); }} className="btn-outline ripple-effect px-10 py-4 rounded-xl font-bold text-base">
                                    –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ –ø–æ–∫—É–ø–∞—Ç–µ–ª—å
                                </button>
                            </div>
                            <div className="mt-8 flex flex-wrap justify-center gap-6 text-xs text-gray-500">
                                <span>–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ</span>
                                <span className="text-gray-600">|</span>
                                <span>–ö–æ–º–∏—Å—Å–∏—è 6%</span>
                                <span className="text-gray-600">|</span>
                                <span>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7</span>
                                <span className="text-gray-600">|</span>
                                <span>ESG-–æ—Ç—á—ë—Ç—ã</span>
                            </div>
                        </div>
                    </section>

                    {/* FAQ */}
                    <section id="faq" className="relative z-10 max-w-3xl mx-auto px-4 py-24">
                        <div className="text-center mb-12 reveal">
                            <div className="section-label">–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã</div>
                            <h2 className="text-4xl font-black text-white tracking-tight section-title">FAQ</h2>
                        </div>
                        <div className="space-y-3 reveal reveal-delay-1">
                            {faqs.map((f, i) => (
                                <div key={i} className={`faq-item ${openFaq === i ? 'open' : ''}`}>
                                    <button className="w-full flex justify-between items-center p-5 text-left" onClick={() => setOpenFaq(openFaq === i ? null : i)}>
                                        <span className="text-white font-semibold text-sm pr-4">{f.q}</span>
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#8EA99A" strokeWidth="2" style={{transform: openFaq === i ? 'rotate(180deg)' : 'rotate(0)', transition: 'transform 0.3s ease', flexShrink: 0}}>
                                            <polyline points="6 9 12 15 18 9"/>
                                        </svg>
                                    </button>
                                    <div className="faq-answer">
                                        <div className="px-5 pb-5 text-sm text-gray-400 leading-relaxed">{f.a}</div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </section>

                    {/* Footer */}
                    <footer className="relative z-10 border-t border-white/5">
                        <div className="max-w-7xl mx-auto px-4 py-10">
                            <div className="flex flex-col md:flex-row justify-between items-center gap-4">
                                <div className="flex items-center gap-2">
                                    <div className="w-8 h-8 rounded-lg flex items-center justify-center" style={{background: 'linear-gradient(135deg, #8EA99A, #5B8291)'}}>
                                        <LogoIcon size={14} color="white" />
                                    </div>
                                    <span className="text-sm font-bold text-white">EcoLoop</span>
                                </div>
                                <div className="text-xs text-gray-600">
                                    2026 EcoLoop. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.
                                </div>
                                <div className="flex gap-6 text-xs text-gray-500">
                                    <a href="#" className="hover:text-gray-300 transition-all duration-300">–£—Å–ª–æ–≤–∏—è</a>
                                    <a href="#" className="hover:text-gray-300 transition-all duration-300">–ü–æ–ª–∏—Ç–∏–∫–∞</a>
                                    <a href="#" className="hover:text-gray-300 transition-all duration-300">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
                                </div>
                            </div>
                        </div>
                    </footer>
                </div>
            );
        }

        // –¢–∞–π–º–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á—ë—Ç–∞
        function CountdownTimer({ minutes }) {
            const [timeLeft, setTimeLeft] = useState(minutes * 60);
            useEffect(() => {
                if (timeLeft <= 0) return;
                const t = setInterval(() => setTimeLeft(prev => Math.max(0, prev - 1)), 1000);
                return () => clearInterval(t);
            }, [timeLeft]);
            const h = Math.floor(timeLeft / 3600);
            const m = Math.floor((timeLeft % 3600) / 60);
            const s = timeLeft % 60;
            const pad = (n) => n.toString().padStart(2, '0');
            const isUrgent = timeLeft < 1800;
            return (
                <div className={`flex items-center gap-1.5 text-xs font-mono font-bold ${isUrgent ? 'text-red-400' : 'text-amber-400'}`}>
                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                    {h > 0 && `${pad(h)}:`}{pad(m)}:{pad(s)}
                </div>
            );
        }

        // –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å
        function Marketplace({ navigate }) {
            const [searchTerm, setSearchTerm] = useState('');
            
            const listings = [
                {
                    id: 1,
                    title: 'Magic Box –æ—Ç 4‚òÖ –æ—Ç–µ–ª—è',
                    category: '–ï–¥–∞',
                    description: '–°–≤–µ–∂–∞—è –≤—ã–ø–µ—á–∫–∞ –∏ –∫–æ–Ω–¥–∏—Ç–µ—Ä—Å–∫–∏–µ –∏–∑–¥–µ–ª–∏—è',
                    price: 500,
                    originalPrice: 1500,
                    quantity: '5 –∫–≥',
                    location: '–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–∞–π–æ–Ω',
                    time: '21:30',
                    discount: 67,
                    minutesLeft: 45
                },
                {
                    id: 2,
                    title: '–ü–ª–∞—Å—Ç–∏–∫–æ–≤–∞—è —Ç–∞—Ä–∞',
                    category: '–ü–ª–∞—Å—Ç–∏–∫',
                    description: '–ß–∏—Å—Ç—ã–µ –ø–ª–∞—Å—Ç–∏–∫–æ–≤—ã–µ –±—É—Ç—ã–ª–∫–∏ –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã',
                    price: 200,
                    originalPrice: 600,
                    quantity: '50 –∫–≥',
                    location: '–ú–µ–¥–µ—É—Å–∫–∏–π —Ä–∞–π–æ–Ω',
                    time: '18:00',
                    discount: 67,
                    minutesLeft: 180
                },
                {
                    id: 3,
                    title: '–ü–æ—Å—Ç–µ–ª—å–Ω–æ–µ –±–µ–ª—å—ë',
                    category: '–¢–µ–∫—Å—Ç–∏–ª—å',
                    description: '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–æ–µ, –Ω–æ —á–∏—Å—Ç–æ–µ –ø–æ—Å—Ç–µ–ª—å–Ω–æ–µ –±–µ–ª—å—ë',
                    price: 150,
                    originalPrice: 450,
                    quantity: '20 –∫–æ–º–ø–ª–µ–∫—Ç–æ–≤',
                    location: '–ê–ª–º–∞–ª–∏–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω',
                    time: '20:00',
                    discount: 67,
                    minutesLeft: 90
                }
            ];

            const filteredListings = listings.filter(listing => 
                listing.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
                listing.description.toLowerCase().includes(searchTerm.toLowerCase())
            );

            return (
                <div className="min-h-screen relative overflow-hidden">
                    <ParticlesBackground />

                    {/* –®–∞–ø–∫–∞ */}
                    <header className="relative z-10 glass-effect border-b border-white/10 sticky top-0 fade-in">
                        <div className="max-w-7xl mx-auto px-4 py-4">
                            <div className="flex justify-between items-center mb-4">
                                <button onClick={() => navigate('landing')} className="flex items-center space-x-3">
                                    <div className="w-10 h-10 rounded-xl flex items-center justify-center" style={{background: 'linear-gradient(135deg, #8EA99A, #5B8291)'}}>
                                        <LogoIcon size={20} color="white" />
                                    </div>
                                    <span className="text-xl font-bold text-white">EcoLoop</span>
                                </button>
                                <div className="flex items-center gap-4">
                                    <button onClick={() => navigate('support')} className="text-gray-400 hover:text-white text-sm nav-link transition hidden sm:block">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</button>
                                    <button onClick={() => navigate('buyer-profile')} className="text-gray-400 hover:text-white text-sm nav-link transition hidden sm:block">–ü—Ä–æ—Ñ–∏–ª—å</button>
                                    <button onClick={() => navigate('dashboard')} className="text-gray-400 hover:text-white text-sm nav-link transition">–ö–∞–±–∏–Ω–µ—Ç</button>
                                    <button onClick={() => navigate('landing')} className="text-gray-500 hover:text-gray-300 text-sm transition">–ì–ª–∞–≤–Ω–∞—è</button>
                                </div>
                            </div>
                            
                            {/* –ü–æ–∏—Å–∫ */}
                            <div className="relative">
                                <input
                                    type="text"
                                    placeholder="–ü–æ–∏—Å–∫ –µ–¥—ã, –≤—Ç–æ—Ä—Å—ã—Ä—å—è, —Ç–µ–∫—Å—Ç–∏–ª—è..."
                                    value={searchTerm}
                                    onChange={(e) => setSearchTerm(e.target.value)}
                                    className="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-emerald-500"
                                />
                            </div>
                        </div>
                    </header>

                    {/* –õ–æ—Ç—ã */}
                    <div className="relative z-10 max-w-7xl mx-auto px-4 py-8">
                        <h1 className="text-4xl font-bold gradient-text mb-8">–î–æ—Å—Ç—É–ø–Ω—ã–µ –ª–æ—Ç—ã</h1>
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                            {filteredListings.map((listing, index) => (
                                <button key={listing.id} onClick={() => navigate('lot-detail', listing)} className="block text-left">
                                    <div className="mirror-card overflow-hidden fade-in hover-glow" style={{animationDelay: `${index * 0.1}s`}}>
                                        <div className="h-56 bg-gradient-to-br from-emerald-500/20 via-teal-500/20 to-cyan-500/20 flex items-center justify-center relative">
                                            <div className="text-6xl float-element">
                                                {listing.category === '–ï–¥–∞' ? 'üçΩÔ∏è' : listing.category === '–ü–ª–∞—Å—Ç–∏–∫' ? '‚ôªÔ∏è' : 'üëï'}
                                            </div>
                                            {listing.discount && (
                                                <div className="absolute top-4 right-4 bg-gradient-to-r from-red-500 to-pink-500 text-white px-3 py-2 rounded-xl text-sm font-bold shadow-lg">
                                                    -{listing.discount}%
                                                </div>
                                            )}
                                            {listing.minutesLeft && (
                                                <div className="absolute top-4 left-4 px-3 py-1.5 rounded-lg" style={{background: 'rgba(0,0,0,0.6)', backdropFilter: 'blur(8px)'}}>
                                                    <CountdownTimer minutes={listing.minutesLeft} />
                                                </div>
                                            )}
                                        </div>
                                        <div className="p-6">
                                            <div className="flex justify-between items-start mb-4">
                                                <h3 className="text-xl font-bold text-white">{listing.title}</h3>
                                                <span className="bg-gradient-to-r from-emerald-500/20 to-teal-500/20 text-emerald-400 px-3 py-1 rounded-full text-xs font-semibold border border-emerald-500/30">
                                                    {listing.category}
                                                </span>
                                            </div>
                                            <p className="text-gray-300 mb-4 leading-relaxed">{listing.description}</p>
                                            <div className="flex justify-between items-center mb-4">
                                                <div>
                                                    <span className="text-3xl font-bold gradient-text">‚Ç∏{listing.price}</span>
                                                    {listing.originalPrice && (
                                                        <span className="text-sm text-gray-500 line-through ml-2">‚Ç∏{listing.originalPrice}</span>
                                                    )}
                                                </div>
                                                <span className="text-gray-400 font-semibold">{listing.quantity}</span>
                                            </div>
                                            <div className="pt-4 border-t border-white/10 flex justify-between text-sm text-gray-400">
                                                <span className="flex items-center gap-1">üìç {listing.location}</span>
                                                <span className="flex items-center gap-1">üïê {listing.time}</span>
                                            </div>
                                            <div className="mt-4 p-3 bg-gradient-to-r from-amber-500/10 to-orange-500/10 border border-amber-500/30 rounded-xl">
                                                <span className="text-xs text-amber-400 font-semibold">üîí –¢–æ—á–Ω—ã–π –∞–¥—Ä–µ—Å –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã</span>
                                            </div>
                                        </div>
                                    </div>
                                </button>
                            ))}
                        </div>
                    </div>
                </div>
            );
        }

        // –î–µ—Ç–∞–ª–∏ –ª–æ—Ç–∞
        function LotDetail({ navigate, lot }) {
            const [isPaid, setIsPaid] = useState(false);
            const [showPayment, setShowPayment] = useState(false);

            if (!lot) {
                return (
                    <div className="min-h-screen flex items-center justify-center">
                        <div className="text-center">
                            <h1 className="text-2xl text-white mb-4">–õ–æ—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω</h1>
                            <button onClick={() => navigate('marketplace')} className="btn-gradient text-gray-900 px-6 py-3 rounded-xl">
                                ‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å
                            </button>
                        </div>
                    </div>
                );
            }

            const handlePayment = () => {
                setIsPaid(true);
                setShowPayment(false);
            };

            return (
                <div className="min-h-screen relative overflow-hidden">
                    <div className="absolute inset-0 bg-gradient-to-br from-emerald-500/10 to-cyan-500/10"></div>

                    <header className="relative z-10 glass-effect border-b border-white/10">
                        <div className="max-w-7xl mx-auto px-4 py-4">
                            <button onClick={() => navigate('marketplace')} className="text-gray-300 hover:text-white">
                                ‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å
                            </button>
                        </div>
                    </header>

                    <div className="relative z-10 max-w-4xl mx-auto px-4 py-8">
                        <div className="glass-effect rounded-3xl p-8">
                            <div className="h-64 bg-gradient-to-br from-emerald-500/20 to-cyan-500/20 rounded-2xl flex items-center justify-center mb-6">
                                <span className="text-6xl">
                                    {lot.category === '–ï–¥–∞' ? 'üçΩÔ∏è' : lot.category === '–ü–ª–∞—Å—Ç–∏–∫' ? '‚ôªÔ∏è' : 'üëï'}
                                </span>
                            </div>

                            <h1 className="text-3xl font-bold text-white mb-4">{lot.title}</h1>
                            <p className="text-gray-300 mb-6">{lot.description}</p>

                            <div className="grid grid-cols-2 gap-4 mb-6">
                                <div className="glass-effect rounded-xl p-4">
                                    <div className="text-sm text-gray-400 mb-1">–¶–µ–Ω–∞</div>
                                    <div className="text-2xl font-bold gradient-text">‚Ç∏{lot.price}</div>
                                    {lot.originalPrice && (
                                        <div className="text-sm text-gray-500 line-through">‚Ç∏{lot.originalPrice}</div>
                                    )}
                                </div>
                                <div className="glass-effect rounded-xl p-4">
                                    <div className="text-sm text-gray-400 mb-1">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</div>
                                    <div className="text-xl font-bold text-white">{lot.quantity}</div>
                                </div>
                                <div className="glass-effect rounded-xl p-4">
                                    <div className="text-sm text-gray-400 mb-1">–õ–æ–∫–∞—Ü–∏—è</div>
                                    <div className="text-white font-semibold">
                                        {isPaid ? 'Rixos Almaty, —É–ª. –ê–ª—å-–§–∞—Ä–∞–±–∏ 48' : lot.location}
                                    </div>
                                    {!isPaid && (
                                        <div className="text-xs text-amber-400 mt-1">üîí –°–∫—Ä—ã—Ç–æ –¥–æ –æ–ø–ª–∞—Ç—ã</div>
                                    )}
                                </div>
                                <div className="glass-effect rounded-xl p-4">
                                    <div className="text-sm text-gray-400 mb-1">–í—Ä–µ–º—è –∑–∞–±–æ—Ä–∞</div>
                                    <div className="text-white font-semibold">{lot.time}</div>
                                </div>
                            </div>

                            {!isPaid && !showPayment && (
                                <button onClick={() => setShowPayment(true)} className="w-full btn-gradient ripple-effect text-gray-900 py-4 rounded-xl font-bold text-lg">
                                    üí≥ –û–ø–ª–∞—Ç–∏—Ç—å ‚Ç∏{lot.price}
                                </button>
                            )}

                            {showPayment && !isPaid && (
                                <div className="glass-effect rounded-2xl p-6 mb-6">
                                    <h3 className="text-xl font-bold text-white mb-4">–û–ø–ª–∞—Ç–∞ –∫–∞—Ä—Ç–æ–π</h3>
                                    <div className="space-y-4">
                                        <input type="text" placeholder="–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã" className="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white" />
                                        <div className="grid grid-cols-2 gap-4">
                                            <input type="text" placeholder="MM/YY" className="px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white" />
                                            <input type="text" placeholder="CVV" className="px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white" />
                                        </div>
                                        <input type="text" placeholder="–ò–º—è –≤–ª–∞–¥–µ–ª—å—Ü–∞" className="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white" />
                                        <div className="text-sm text-gray-400 text-center">
                                            –ö–æ–º–∏—Å—Å–∏—è 6% ‚Ä¢ –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–ø–ª–∞—Ç–∞
                                        </div>
                                        <button onClick={(e) => { addRipple(e); handlePayment(); }} className="w-full btn-gradient ripple-effect text-gray-900 py-3 rounded-xl font-bold">
                                            –û–ø–ª–∞—Ç–∏—Ç—å ‚Ç∏{Math.round(lot.price * 1.06)}
                                        </button>
                                    </div>
                                </div>
                            )}

                            {isPaid && (
                                <div className="glass-effect rounded-2xl p-6 text-center">
                                    <div className="text-6xl mb-4">‚úÖ</div>
                                    <h3 className="text-2xl font-bold text-white mb-4">–û–ø–ª–∞—Ç–∞ —É—Å–ø–µ—à–Ω–∞!</h3>
                                    <div className="bg-white rounded-xl p-8 mb-6">
                                        <div className="text-8xl">üì±</div>
                                        <div className="text-gray-600 mt-4">QR-–∫–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è</div>
                                        <div className="text-sm text-gray-500 mt-2">–ü–æ–∫–∞–∂–∏—Ç–µ –Ω–∞ —Ä–µ—Å–µ–ø—à–µ–Ω–µ</div>
                                    </div>
                                    <div className="glass-effect rounded-xl p-4 text-left">
                                        <div className="text-sm text-gray-400 mb-2">–ê–¥—Ä–µ—Å –æ—Ç–µ–ª—è:</div>
                                        <div className="text-white font-bold">Rixos Almaty</div>
                                        <div className="text-gray-300">—É–ª. –ê–ª—å-–§–∞—Ä–∞–±–∏ 48, –ê–ª–º–∞—Ç—ã</div>
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        }

        // –ó–∞–ø—Ä–æ—Å—ã
        function Requests({ navigate }) {
            const requests = [
                {
                    id: 1,
                    type: '–ò—â—É',
                    title: '–ò—â—É —Å–≤–µ–∂–∏–µ –æ–≤–æ—â–∏ –¥–ª—è —Å—Ç–æ–ª–æ–≤–æ–π',
                    description: '–ù—É–∂–Ω—ã –æ–≤–æ—â–∏ –¥–ª—è –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç–æ–ª–æ–≤–æ–π –Ω–∞ 50 —á–µ–ª–æ–≤–µ–∫',
                    category: '–ï–¥–∞',
                    urgency: '–°—Ä–æ—á–Ω–æ'
                },
                {
                    id: 2,
                    type: '–ü—Ä–µ–¥–ª–∞–≥–∞—é',
                    title: '–ò–∑–ª–∏—à–∫–∏ –ø–ª–∞—Å—Ç–∏–∫–æ–≤—ã—Ö –±—É—Ç—ã–ª–æ–∫',
                    description: '–ß–∏—Å—Ç—ã–µ –ø–ª–∞—Å—Ç–∏–∫–æ–≤—ã–µ –±—É—Ç—ã–ª–∫–∏, 50–∫–≥ –≤ –Ω–µ–¥–µ–ª—é',
                    category: '–ü–ª–∞—Å—Ç–∏–∫',
                    urgency: '–û–±—ã—á–Ω–æ'
                }
            ];

            return (
                <div className="min-h-screen relative overflow-hidden">
                    <div className="absolute inset-0 bg-gradient-to-br from-emerald-500/10 to-cyan-500/10"></div>

                    <header className="relative z-10 glass-effect border-b border-white/10">
                        <div className="max-w-7xl mx-auto px-4 py-4">
                            <div className="flex justify-between items-center">
                                <button onClick={() => navigate('landing')} className="flex items-center space-x-3">
                                    <div className="w-10 h-10 rounded-xl flex items-center justify-center" style={{background: 'linear-gradient(135deg, #8EA99A, #5B8291)'}}>
                                        <LogoIcon size={20} color="white" />
                                    </div>
                                    <span className="text-xl font-bold text-white">EcoLoop</span>
                                </button>
                                <div className="flex items-center gap-4">
                                    <button onClick={() => navigate('landing')} className="text-gray-500 hover:text-gray-300 text-sm transition">–ì–ª–∞–≤–Ω–∞—è</button>
                                    <button onClick={() => navigate('marketplace')} className="text-gray-300 hover:text-white text-sm transition">–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å</button>
                                    <button onClick={() => navigate('dashboard')} className="text-gray-300 hover:text-white text-sm transition">–ö–∞–±–∏–Ω–µ—Ç</button>
                                </div>
                            </div>
                        </div>
                    </header>

                    <div className="relative z-10 max-w-7xl mx-auto px-4 py-8">
                        <div className="flex justify-between items-center mb-8">
                            <h1 className="text-4xl font-bold gradient-text">–ó–∞–ø—Ä–æ—Å—ã</h1>
                            <button onClick={(e) => { addRipple(e); navigate('create-request'); }} className="btn-gradient ripple-effect text-gray-900 px-6 py-3 rounded-xl font-semibold">
                                –°–æ–∑–¥–∞—Ç—å –∑–∞–ø—Ä–æ—Å
                            </button>
                        </div>

                        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                            {requests.map(request => (
                                <div key={request.id} className="glass-effect rounded-2xl p-6 card-hover">
                                    <div className="flex justify-between items-start mb-4">
                                        <span className={`px-3 py-1 rounded-full text-xs font-semibold ${
                                            request.type === '–ò—â—É' 
                                                ? 'bg-emerald-500/20 text-emerald-400' 
                                                : 'bg-teal-500/20 text-teal-400'
                                        }`}>
                                            {request.type === '–ò—â—É' ? 'üîç –ò—â—É' : 'üì§ –ü—Ä–µ–¥–ª–∞–≥–∞—é'}
                                        </span>
                                        <span className={`px-2 py-1 rounded-full text-xs ${
                                            request.urgency === '–°—Ä–æ—á–Ω–æ' 
                                                ? 'bg-red-500/20 text-red-400' 
                                                : 'bg-emerald-500/20 text-emerald-400'
                                        }`}>
                                            {request.urgency}
                                        </span>
                                    </div>
                                    <h3 className="text-xl font-bold text-white mb-2">{request.title}</h3>
                                    <p className="text-gray-300 mb-4">{request.description}</p>
                                    <div className="flex justify-between items-center">
                                        <span className="text-gray-400">
                                            {request.category === '–ï–¥–∞' ? 'üçΩÔ∏è' : '‚ôªÔ∏è'} {request.category}
                                        </span>
                                        <button className="text-emerald-400 hover:text-emerald-300 font-semibold">
                                            –û—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è ‚Üí
                                        </button>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞
        function CreateRequest({ navigate }) {
            const [step, setStep] = useState(1);
            const [formData, setFormData] = useState({
                type: '', category: '', title: '', description: '',
                volume: '', budget: '', district: '', urgency: 'normal', regularity: 'once', contactPhone: ''
            });

            const [toast, setToast] = useState(null);
            const inputCls = "w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-600 focus:outline-none focus:border-emerald-500/50 transition";
            const handleSubmit = () => {
                sendToTelegram('request', formData);
                setToast('–ó–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!');
                setTimeout(() => navigate('requests'), 1500);
            };

            return (
                <div className="min-h-screen relative overflow-hidden">
                    <ParticlesBackground />
                    {toast && <Toast message={toast} onClose={() => setToast(null)} />}

                    <header className="relative z-10 glass-effect border-b border-white/10">
                        <div className="max-w-7xl mx-auto px-4 py-4">
                            <button onClick={() => navigate('requests')} className="text-gray-300 hover:text-white">‚Üê –ù–∞–∑–∞–¥ –∫ –∑–∞–ø—Ä–æ—Å–∞–º</button>
                        </div>
                    </header>

                    <div className="relative z-10 max-w-2xl mx-auto px-4 py-12">
                        {/* –ü—Ä–æ–≥—Ä–µ—Å—Å */}
                        <div className="flex items-center justify-center gap-3 mb-8">
                            {[1,2,3].map(s => (
                                <div key={s} className="flex items-center gap-3">
                                    <div className={`w-9 h-9 rounded-full flex items-center justify-center text-sm font-bold transition-all ${step >= s ? 'bg-emerald-500/20 text-emerald-400 border border-emerald-500/30' : 'bg-white/5 text-gray-600 border border-white/10'}`}>{s}</div>
                                    {s < 3 && <div className={`w-12 h-px ${step > s ? 'bg-emerald-500/30' : 'bg-white/10'}`}></div>}
                                </div>
                            ))}
                        </div>

                        <div className="p-8 rounded-2xl border border-white/10" style={{background: 'rgba(255,255,255,0.02)'}}>
                            {step === 1 && (
                                <div className="space-y-6">
                                    <h2 className="text-2xl font-bold text-white section-title">–¢–∏–ø –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è</h2>
                                    <div>
                                        <label className="block text-sm font-medium text-gray-300 mb-3">–¢–∏–ø –∑–∞–ø—Ä–æ—Å–∞</label>
                                        <div className="grid grid-cols-2 gap-4">
                                            {[{v:'–ò—â—É',icon:'üîç',c:'emerald'},{v:'–ü—Ä–µ–¥–ª–∞–≥–∞—é',icon:'üì§',c:'teal'}].map(t => (
                                                <button key={t.v} onClick={() => setFormData({...formData, type: t.v})}
                                                    className={`p-6 rounded-xl border transition ${formData.type === t.v ? `border-${t.c}-500 bg-${t.c}-500/10` : 'border-white/8 hover:border-white/20'}`}
                                                    style={{background: formData.type === t.v ? undefined : 'rgba(255,255,255,0.02)'}}>
                                                    <div className="text-3xl mb-2">{t.icon}</div>
                                                    <div className="text-white font-semibold text-sm">{t.v}</div>
                                                </button>
                                            ))}
                                        </div>
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium text-gray-300 mb-3">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                                        <div className="grid grid-cols-3 gap-4">
                                            {[{v:'–ï–¥–∞',i:'üçΩÔ∏è'},{v:'–ü–ª–∞—Å—Ç–∏–∫',i:'‚ôªÔ∏è'},{v:'–¢–µ–∫—Å—Ç–∏–ª—å',i:'üëï'},{v:'–°—Ç–µ–∫–ª–æ',i:'ü´ô'},{v:'–ú–µ—Ç–∞–ª–ª',i:'üî©'},{v:'–û—Ä–≥–∞–Ω–∏–∫–∞',i:'üå±'}].map(c => (
                                                <button key={c.v} onClick={() => setFormData({...formData, category: c.v})}
                                                    className={`p-4 rounded-xl border transition text-center ${formData.category === c.v ? 'border-emerald-500/40 bg-emerald-500/5' : 'border-white/8 hover:border-white/20'}`}
                                                    style={{background: formData.category === c.v ? undefined : 'rgba(255,255,255,0.02)'}}>
                                                    <div className="text-xl mb-1">{c.i}</div>
                                                    <div className="text-white text-xs">{c.v}</div>
                                                </button>
                                            ))}
                                        </div>
                                    </div>
                                    {formData.type && formData.category && (
                                        <button onClick={(e) => { addRipple(e); setStep(2); }} className="w-full btn-gradient ripple-effect text-gray-900 py-3 rounded-xl font-bold">–î–∞–ª–µ–µ</button>
                                    )}
                                </div>
                            )}

                            {step === 2 && (
                                <div className="space-y-5">
                                    <h2 className="text-2xl font-bold text-white section-title">–î–µ—Ç–∞–ª–∏ –∑–∞–ø—Ä–æ—Å–∞</h2>
                                    <div>
                                        <label className="block text-sm font-medium text-gray-300 mb-1.5">–ó–∞–≥–æ–ª–æ–≤–æ–∫ *</label>
                                        <input type="text" value={formData.title} onChange={(e) => setFormData({...formData, title: e.target.value})} className={inputCls} placeholder="–ò—â—É —Å–≤–µ–∂–∏–µ –æ–≤–æ—â–∏ –¥–ª—è —Å—Ç–æ–ª–æ–≤–æ–π" />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium text-gray-300 mb-1.5">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                                        <textarea value={formData.description} onChange={(e) => setFormData({...formData, description: e.target.value})} rows={3} className={inputCls} placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—à–∏—Ç–µ –∑–∞–ø—Ä–æ—Å..." />
                                    </div>
                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-300 mb-1.5">–û–±—ä—ë–º / –∫–æ–ª-–≤–æ</label>
                                            <input type="text" value={formData.volume} onChange={(e) => setFormData({...formData, volume: e.target.value})} className={inputCls} placeholder="50 –∫–≥ / 100 —à—Ç" />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-300 mb-1.5">–ë—é–¥–∂–µ—Ç (‚Ç∏)</label>
                                            <input type="text" value={formData.budget} onChange={(e) => setFormData({...formData, budget: e.target.value})} className={inputCls} placeholder="–¥–æ 50 000" />
                                        </div>
                                    </div>
                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-300 mb-1.5">–†–∞–π–æ–Ω / –≥–æ—Ä–æ–¥</label>
                                            <input type="text" value={formData.district} onChange={(e) => setFormData({...formData, district: e.target.value})} className={inputCls} placeholder="–ê–ª–º–∞—Ç—ã, –ú–µ–¥–µ—É—Å–∫–∏–π" />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-300 mb-1.5">–°—Ä–æ—á–Ω–æ—Å—Ç—å</label>
                                            <select value={formData.urgency} onChange={(e) => setFormData({...formData, urgency: e.target.value})} className={inputCls} style={{background: '#141414'}}>
                                                <option value="normal">–û–±—ã—á–Ω–∞—è</option>
                                                <option value="urgent">–°—Ä–æ—á–Ω–æ (24—á)</option>
                                                <option value="week">–í —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-300 mb-1.5">–†–µ–≥—É–ª—è—Ä–Ω–æ—Å—Ç—å</label>
                                            <select value={formData.regularity} onChange={(e) => setFormData({...formData, regularity: e.target.value})} className={inputCls} style={{background: '#141414'}}>
                                                <option value="once">–†–∞–∑–æ–≤—ã–π</option>
                                                <option value="weekly">–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ</option>
                                                <option value="monthly">–ï–∂–µ–º–µ—Å—è—á–Ω–æ</option>
                                                <option value="permanent">–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-300 mb-1.5">–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω</label>
                                            <input type="tel" value={formData.contactPhone} onChange={(e) => setFormData({...formData, contactPhone: e.target.value})} className={inputCls} placeholder="+7 (777) ..." />
                                        </div>
                                    </div>
                                    <div className="flex gap-4 pt-2">
                                        <button onClick={() => setStep(1)} className="flex-1 py-3 rounded-xl font-bold text-white border border-white/10 hover:border-white/20 transition">‚Üê –ù–∞–∑–∞–¥</button>
                                        <button onClick={(e) => { if (formData.title) { addRipple(e); setStep(3); } }} disabled={!formData.title} className={`flex-1 py-3 rounded-xl font-bold ripple-effect transition-all ${formData.title ? 'btn-gradient text-gray-900' : 'bg-gray-800 text-gray-600 cursor-not-allowed'}`}>–î–∞–ª–µ–µ</button>
                                    </div>
                                </div>
                            )}

                            {step === 3 && (
                                <div className="space-y-6">
                                    <h2 className="text-2xl font-bold text-white section-title">–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</h2>
                                    <div className="p-6 rounded-xl border border-white/10" style={{background: 'rgba(255,255,255,0.03)'}}>
                                        <div className="flex items-center gap-3 mb-4">
                                            <span className={`px-3 py-1 rounded-full text-xs font-semibold ${formData.type === '–ò—â—É' ? 'bg-emerald-500/20 text-emerald-400' : 'bg-teal-500/20 text-teal-400'}`}>{formData.type}</span>
                                            <span className="px-3 py-1 rounded-full text-xs font-semibold bg-white/5 text-gray-400">{formData.category}</span>
                                            {formData.urgency === 'urgent' && <span className="px-3 py-1 rounded-full text-xs font-semibold bg-red-500/20 text-red-400">–°—Ä–æ—á–Ω–æ</span>}
                                        </div>
                                        <h3 className="text-lg font-bold text-white mb-2">{formData.title}</h3>
                                        {formData.description && <p className="text-gray-400 text-sm mb-4">{formData.description}</p>}
                                        <div className="grid grid-cols-2 gap-3 text-sm">
                                            {formData.volume && <div className="p-3 rounded-lg bg-white/5"><span className="text-gray-500">–û–±—ä—ë–º:</span> <span className="text-white">{formData.volume}</span></div>}
                                            {formData.budget && <div className="p-3 rounded-lg bg-white/5"><span className="text-gray-500">–ë—é–¥–∂–µ—Ç:</span> <span className="text-white">‚Ç∏{formData.budget}</span></div>}
                                            {formData.district && <div className="p-3 rounded-lg bg-white/5"><span className="text-gray-500">–†–∞–π–æ–Ω:</span> <span className="text-white">{formData.district}</span></div>}
                                            <div className="p-3 rounded-lg bg-white/5"><span className="text-gray-500">–†–µ–≥—É–ª—è—Ä–Ω–æ—Å—Ç—å:</span> <span className="text-white">{{once:'–†–∞–∑–æ–≤—ã–π',weekly:'–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ',monthly:'–ï–∂–µ–º–µ—Å—è—á–Ω–æ',permanent:'–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π'}[formData.regularity]}</span></div>
                                        </div>
                                    </div>
                                    <div className="flex gap-4">
                                        <button onClick={() => setStep(2)} className="flex-1 py-3 rounded-xl font-bold text-white border border-white/10 hover:border-white/20 transition">‚Üê –ù–∞–∑–∞–¥</button>
                                        <button onClick={(e) => { addRipple(e); handleSubmit(); }} className="flex-1 btn-gradient ripple-effect text-gray-900 py-3 rounded-xl font-bold">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</button>
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        }

        // –ö–∞–±–∏–Ω–µ—Ç –æ—Ç–µ–ª—è
        function Dashboard({ navigate, isAdmin }) {
            return (
                <div className="min-h-screen relative overflow-hidden">
                    <ParticlesBackground />

                    <header className="relative z-10 glass-effect border-b border-white/10 fade-in">
                        <div className="max-w-7xl mx-auto px-4 py-6">
                            <div className="flex justify-between items-center">
                                <div>
                                    <h1 className="text-3xl font-bold gradient-text">–ö–∞–±–∏–Ω–µ—Ç –æ—Ç–µ–ª—è</h1>
                                    <p className="text-gray-400 mt-1">Rixos Almaty Hotel</p>
                                </div>
                                <div className="flex items-center gap-4">
                                    <button onClick={() => navigate('analytics')} className="text-gray-400 hover:text-white text-sm nav-link transition">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</button>
                                    <button onClick={() => navigate('marketplace')} className="text-gray-400 hover:text-white text-sm nav-link transition">–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å</button>
                                    <button onClick={() => navigate('requests')} className="text-gray-400 hover:text-white text-sm nav-link transition">–ó–∞–ø—Ä–æ—Å—ã</button>
                                    <button onClick={() => navigate('payouts')} className="text-gray-400 hover:text-white text-sm nav-link transition">–í—ã–ø–ª–∞—Ç—ã</button>
                                    {isAdmin && <button onClick={() => navigate('admin')} className="text-gray-400 hover:text-white text-sm nav-link transition">–ê–¥–º–∏–Ω</button>}
                                    <button onClick={() => navigate('landing')} className="text-gray-500 hover:text-gray-300 text-sm transition">–ì–ª–∞–≤–Ω–∞—è</button>
                                </div>
                            </div>
                        </div>
                    </header>

                    <div className="relative z-10 max-w-7xl mx-auto px-4 py-8">
                        {/* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */}
                        <div className="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                            <div className="stat-card text-center">
                                <div className="text-4xl font-bold gradient-text mb-2">‚Ç∏284,750</div>
                                <div className="text-gray-400 text-sm">–í—Å–µ–≥–æ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–æ</div>
                                <div className="mt-3 text-xs text-emerald-400">‚Üó +18% –∑–∞ –Ω–µ–¥–µ–ª—é</div>
                            </div>
                            <div className="stat-card text-center">
                                <div className="text-4xl font-bold gradient-text mb-2">47</div>
                                <div className="text-gray-400 text-sm">–õ–æ—Ç–æ–≤ –ø—Ä–æ–¥–∞–Ω–æ</div>
                                <div className="mt-3 text-xs text-emerald-400">‚Üó +12 –Ω–æ–≤—ã—Ö</div>
                            </div>
                            <div className="stat-card text-center">
                                <div className="text-4xl font-bold gradient-text mb-2">1,250–∫–≥</div>
                                <div className="text-gray-400 text-sm">–û—Ç—Ö–æ–¥–æ–≤ —Å–æ–∫—Ä–∞—â–µ–Ω–æ</div>
                                <div className="mt-3 text-xs text-emerald-400">‚Üó +340–∫–≥ –∑–∞ –º–µ—Å—è—Ü</div>
                            </div>
                            <div className="stat-card text-center">
                                <div className="text-4xl font-bold gradient-text mb-2">4.8‚òÖ</div>
                                <div className="text-gray-400 text-sm">–†–µ–π—Ç–∏–Ω–≥</div>
                                <div className="mt-3 text-xs text-emerald-400">‚Üó 127 –æ—Ç–∑—ã–≤–æ–≤</div>
                            </div>
                        </div>

                        {/* –î–µ–π—Å—Ç–≤–∏—è */}
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <button onClick={() => navigate('create-lot')} className="mirror-card p-10 text-left group">
                                <div className="w-16 h-16 bg-gradient-to-br from-emerald-500/30 to-teal-500/30 rounded-2xl flex items-center justify-center mb-6 pulse-glow">
                                    <span className="text-3xl">‚ûï</span>
                                </div>
                                <h3 className="text-2xl font-bold text-white mb-4">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ª–æ—Ç</h3>
                                <p className="text-gray-300 mb-6 leading-relaxed">–†–∞–∑–º–µ—Å—Ç–∏—Ç–µ –µ–¥—É, –≤—Ç–æ—Ä—Å—ã—Ä—å—ë –∏–ª–∏ —Ç–µ–∫—Å—Ç–∏–ª—å –Ω–∞ –ø—Ä–æ–¥–∞–∂—É</p>
                                <div className="flex items-center text-emerald-400 font-semibold">
                                    <span>–°–æ–∑–¥–∞—Ç—å –ª–æ—Ç</span>
                                    <span className="ml-2 group-hover:ml-4 transition-all">‚Üí</span>
                                </div>
                            </button>
                            
                            <button onClick={() => navigate('payouts')} className="mirror-card p-10 text-left group">
                                <div className="w-16 h-16 bg-gradient-to-br from-cyan-500/30 to-blue-500/30 rounded-2xl flex items-center justify-center mb-6 pulse-glow">
                                    <span className="text-3xl">üí∞</span>
                                </div>
                                <h3 className="text-2xl font-bold text-white mb-4">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—ã–ø–ª–∞—Ç—ã</h3>
                                <p className="text-gray-300 mb-6 leading-relaxed">–û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –¥–æ—Ö–æ–¥—ã –∏ –∏—Å—Ç–æ—Ä–∏—é –ø–ª–∞—Ç–µ–∂–µ–π</p>
                                <div className="flex items-center text-emerald-400 font-semibold">
                                    <span>–°–º–æ—Ç—Ä–µ—Ç—å –≤—ã–ø–ª–∞—Ç—ã</span>
                                    <span className="ml-2 group-hover:ml-4 transition-all">‚Üí</span>
                                </div>
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ –ª–æ—Ç–∞
        function CreateLot({ navigate }) {
            const [step, setStep] = useState(1);
            const [toast, setToast] = useState(null);
            const [lot, setLot] = useState({
                category: '', title: '', description: '', weight: '', price: '', originalPrice: '', pickupTime: '', photos: []
            });

            const categories = [
                { value: 'food', label: '–ï–¥–∞', icon: 'üçΩÔ∏è', color: 'emerald' },
                { value: 'plastic', label: '–ü–ª–∞—Å—Ç–∏–∫', icon: '‚ôªÔ∏è', color: 'blue' },
                { value: 'textile', label: '–¢–µ–∫—Å—Ç–∏–ª—å', icon: 'üëï', color: 'amber' }
            ];

            const handlePublish = () => {
                setToast('–õ–æ—Ç —É—Å–ø–µ—à–Ω–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω!');
                setTimeout(() => navigate('dashboard'), 1500);
            };

            const inputCls = "w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-600 focus:outline-none focus:border-emerald-500/50 transition";

            return (
                <div className="min-h-screen relative overflow-hidden">
                    <ParticlesBackground />
                    {toast && <Toast message={toast} onClose={() => setToast(null)} />}

                    <header className="relative z-10 glass-effect border-b border-white/10">
                        <div className="max-w-7xl mx-auto px-4 py-4">
                            <button onClick={() => navigate('dashboard')} className="text-gray-300 hover:text-white transition">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –∫–∞–±–∏–Ω–µ—Ç</button>
                        </div>
                    </header>

                    <div className="relative z-10 max-w-2xl mx-auto px-4 py-10">
                        {/* –ü—Ä–æ–≥—Ä–µ—Å—Å */}
                        <div className="flex items-center justify-center gap-3 mb-10">
                            {[1,2,3].map(s => (
                                <div key={s} className="flex items-center gap-3">
                                    <div className={`w-9 h-9 rounded-full flex items-center justify-center text-sm font-bold transition-all ${step >= s ? 'bg-emerald-500/20 text-emerald-400 border border-emerald-500/30' : 'bg-white/5 text-gray-600 border border-white/10'}`}>{s}</div>
                                    {s < 3 && <div className={`w-12 h-px ${step > s ? 'bg-emerald-500/30' : 'bg-white/10'}`}></div>}
                                </div>
                            ))}
                        </div>

                        <div className="p-8 rounded-2xl border border-white/10" style={{background: 'rgba(255,255,255,0.02)'}}>
                            {step === 1 && (
                                <div>
                                    <h2 className="text-2xl font-bold text-white mb-6 section-title">–ö–∞—Ç–µ–≥–æ—Ä–∏—è –ª–æ—Ç–∞</h2>
                                    <div className="grid grid-cols-3 gap-4 mb-6">
                                        {categories.map(c => (
                                            <button key={c.value} onClick={() => setLot({...lot, category: c.value})} className={`p-6 rounded-xl border text-center transition-all ${lot.category === c.value ? 'border-emerald-500/40 bg-emerald-500/5' : 'border-white/8 hover:border-white/20'}`} style={{background: lot.category === c.value ? undefined : 'rgba(255,255,255,0.02)'}}>
                                                <div className="text-3xl mb-2">{c.icon}</div>
                                                <div className="text-white text-sm font-semibold">{c.label}</div>
                                            </button>
                                        ))}
                                    </div>
                                    {lot.category && (
                                        <button onClick={(e) => { addRipple(e); setStep(2); }} className="w-full btn-gradient ripple-effect text-gray-900 py-3 rounded-xl font-bold">–î–∞–ª–µ–µ</button>
                                    )}
                                </div>
                            )}

                            {step === 2 && (
                                <div className="space-y-5">
                                    <h2 className="text-2xl font-bold text-white mb-2 section-title">–î–µ—Ç–∞–ª–∏ –ª–æ—Ç–∞</h2>
                                    <div>
                                        <label className="block text-sm font-medium text-gray-300 mb-1.5">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                                        <input type="text" value={lot.title} onChange={(e) => setLot({...lot, title: e.target.value})} placeholder="Magic Box –æ—Ç —à–≤–µ–¥—Å–∫–æ–≥–æ —Å—Ç–æ–ª–∞" className={inputCls} />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium text-gray-300 mb-1.5">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                                        <textarea value={lot.description} onChange={(e) => setLot({...lot, description: e.target.value})} rows={3} placeholder="–°–≤–µ–∂–∞—è –≤—ã–ø–µ—á–∫–∞, —Å–∞–ª–∞—Ç—ã, –Ω–∞—Ä–µ–∑–∫–∞..." className={inputCls} />
                                    </div>
                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-300 mb-1.5">–í–µ—Å / –∫–æ–ª-–≤–æ *</label>
                                            <input type="text" value={lot.weight} onChange={(e) => setLot({...lot, weight: e.target.value})} placeholder="5 –∫–≥" className={inputCls} />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-300 mb-1.5">–í—Ä–µ–º—è —Å–∞–º–æ–≤—ã–≤–æ–∑–∞ *</label>
                                            <input type="text" value={lot.pickupTime} onChange={(e) => setLot({...lot, pickupTime: e.target.value})} placeholder="21:00 ‚Äî 22:00" className={inputCls} />
                                        </div>
                                    </div>
                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-300 mb-1.5">–¶–µ–Ω–∞ (‚Ç∏) *</label>
                                            <input type="number" value={lot.price} onChange={(e) => setLot({...lot, price: e.target.value})} placeholder="500" className={inputCls} />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-300 mb-1.5">–†—ã–Ω–æ—á–Ω–∞—è —Ü–µ–Ω–∞ (‚Ç∏)</label>
                                            <input type="number" value={lot.originalPrice} onChange={(e) => setLot({...lot, originalPrice: e.target.value})} placeholder="1500" className={inputCls} />
                                        </div>
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium text-gray-300 mb-1.5">–§–æ—Ç–æ (–¥–æ 4 —à—Ç)</label>
                                        <div className="grid grid-cols-2 sm:grid-cols-4 gap-3 mb-3">
                                            {lot.photos.map((p, i) => (
                                                <div key={i} className="relative aspect-square rounded-xl overflow-hidden border border-white/10">
                                                    <img src={p} alt="" className="w-full h-full object-cover" />
                                                    <button onClick={() => setLot({...lot, photos: lot.photos.filter((_, j) => j !== i)})} className="absolute top-1 right-1 w-6 h-6 bg-red-500/80 rounded-full text-white text-xs flex items-center justify-center hover:bg-red-500">‚úï</button>
                                                </div>
                                            ))}
                                            {lot.photos.length < 4 && (
                                                <label className="aspect-square rounded-xl border-2 border-dashed border-white/10 hover:border-emerald-500/30 flex flex-col items-center justify-center cursor-pointer transition">
                                                    <input type="file" accept="image/*" className="hidden" onChange={(e) => {
                                                        const file = e.target.files[0];
                                                        if (!file) return;
                                                        if (file.size > 5 * 1024 * 1024) { alert('–ú–∞–∫—Å–∏–º—É–º 5MB'); return; }
                                                        const reader = new FileReader();
                                                        reader.onload = (ev) => setLot(prev => ({...prev, photos: [...prev.photos, ev.target.result]}));
                                                        reader.readAsDataURL(file);
                                                        e.target.value = '';
                                                    }} />
                                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#666" strokeWidth="1.5"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>
                                                    <span className="text-gray-600 text-xs mt-1">–î–æ–±–∞–≤–∏—Ç—å</span>
                                                </label>
                                            )}
                                        </div>
                                        <p className="text-xs text-gray-600">JPG, PNG –¥–æ 5MB –∫–∞–∂–¥–æ–µ</p>
                                    </div>
                                    <div className="flex gap-4 pt-2">
                                        <button onClick={() => setStep(1)} className="flex-1 py-3 rounded-xl font-bold text-white border border-white/10 hover:border-white/20 transition">‚Üê –ù–∞–∑–∞–¥</button>
                                        <button onClick={(e) => { if (lot.title && lot.weight && lot.price) { addRipple(e); setStep(3); } }} disabled={!lot.title || !lot.weight || !lot.price} className={`flex-1 py-3 rounded-xl font-bold ripple-effect transition-all ${lot.title && lot.weight && lot.price ? 'btn-gradient text-gray-900' : 'bg-gray-800 text-gray-600 cursor-not-allowed'}`}>–î–∞–ª–µ–µ</button>
                                    </div>
                                </div>
                            )}

                            {step === 3 && (
                                <div className="space-y-6">
                                    <h2 className="text-2xl font-bold text-white mb-2 section-title">–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</h2>
                                    <div className="p-6 rounded-xl border border-white/10" style={{background: 'rgba(255,255,255,0.03)'}}>
                                        <div className="flex justify-between items-start mb-4">
                                            <h3 className="text-lg font-bold text-white">{lot.title}</h3>
                                            <span className="text-xs px-3 py-1 rounded-full bg-emerald-500/20 text-emerald-400 border border-emerald-500/30">{categories.find(c => c.value === lot.category)?.label}</span>
                                        </div>
                                        {lot.description && <p className="text-gray-400 text-sm mb-4">{lot.description}</p>}
                                        {lot.photos.length > 0 && (
                                            <div className="grid grid-cols-4 gap-2 mb-4">
                                                {lot.photos.map((p, i) => (
                                                    <img key={i} src={p} alt="" className="w-full aspect-square object-cover rounded-lg" />
                                                ))}
                                            </div>
                                        )}
                                        <div className="grid grid-cols-2 gap-3 text-sm">
                                            <div className="p-3 rounded-lg bg-white/5"><span className="text-gray-500">–í–µ—Å:</span> <span className="text-white font-semibold">{lot.weight}</span></div>
                                            <div className="p-3 rounded-lg bg-white/5"><span className="text-gray-500">–°–∞–º–æ–≤—ã–≤–æ–∑:</span> <span className="text-white font-semibold">{lot.pickupTime || '‚Äî'}</span></div>
                                            <div className="p-3 rounded-lg bg-white/5"><span className="text-gray-500">–¶–µ–Ω–∞:</span> <span className="text-white font-bold">‚Ç∏{lot.price}</span></div>
                                            <div className="p-3 rounded-lg bg-white/5"><span className="text-gray-500">–†—ã–Ω–æ—á–Ω–∞—è:</span> <span className="text-gray-400 line-through">‚Ç∏{lot.originalPrice || '‚Äî'}</span></div>
                                        </div>
                                        {lot.originalPrice && lot.price && (
                                            <div className="mt-4 text-center">
                                                <span className="text-sm text-emerald-400 font-bold">–°–∫–∏–¥–∫–∞ {Math.round((1 - lot.price / lot.originalPrice) * 100)}%</span>
                                            </div>
                                        )}
                                    </div>
                                    <div className="flex gap-4">
                                        <button onClick={() => setStep(2)} className="flex-1 py-3 rounded-xl font-bold text-white border border-white/10 hover:border-white/20 transition">‚Üê –ù–∞–∑–∞–¥</button>
                                        <button onClick={(e) => { addRipple(e); handlePublish(); }} className="flex-1 btn-gradient ripple-effect text-gray-900 py-3 rounded-xl font-bold">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</button>
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        }

        // –í—ã–ø–ª–∞—Ç—ã
        function SellerPayouts({ navigate }) {
            return (
                <div className="min-h-screen relative overflow-hidden">
                    <ParticlesBackground />

                    <header className="relative z-10 glass-effect border-b border-white/10 fade-in">
                        <div className="max-w-7xl mx-auto px-4 py-4">
                            <button onClick={() => navigate('dashboard')} className="text-gray-300 hover:text-emerald-400 transition font-semibold flex items-center gap-2">
                                <span>‚Üê</span>
                                <span>–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –∫–∞–±–∏–Ω–µ—Ç</span>
                            </button>
                        </div>
                    </header>

                    <div className="relative z-10 max-w-7xl mx-auto px-4 py-8">
                        <h1 className="text-5xl font-bold gradient-text mb-12">–í—ã–ø–ª–∞—Ç—ã –ø—Ä–æ–¥–∞–≤—Ü—É</h1>

                        <div className="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
                            <div className="stat-card">
                                <div className="text-sm text-gray-400 mb-2">–í—Å–µ–≥–æ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–æ</div>
                                <div className="text-4xl font-bold gradient-text mb-2">‚Ç∏284,750</div>
                                <div className="text-xs text-emerald-400">‚Üó +34% –∑–∞ –º–µ—Å—è—Ü</div>
                            </div>
                            <div className="stat-card">
                                <div className="text-sm text-gray-400 mb-2">–û–∂–∏–¥–∞–µ—Ç –≤—ã–ø–ª–∞—Ç—ã</div>
                                <div className="text-4xl font-bold text-amber-400 mb-2">‚Ç∏12,500</div>
                                <div className="text-xs text-amber-400">‚è± –í—ã–ø–ª–∞—Ç–∞ –≤ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫</div>
                            </div>
                            <div className="stat-card">
                                <div className="text-sm text-gray-400 mb-2">–ü–æ—Å–ª–µ–¥–Ω—è—è –≤—ã–ø–ª–∞—Ç–∞</div>
                                <div className="text-4xl font-bold text-emerald-400 mb-2">‚Ç∏8,750</div>
                                <div className="text-xs text-gray-400">15 —Ñ–µ–≤—Ä–∞–ª—è 2026</div>
                            </div>
                        </div>

                        <div className="mirror-card p-8">
                            <div className="flex justify-between items-center mb-6">
                                <h3 className="text-2xl font-bold text-white">–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</h3>
                                <button className="text-emerald-400 hover:text-emerald-300 font-semibold text-sm">
                                    –≠–∫—Å–ø–æ—Ä—Ç ‚Üí
                                </button>
                            </div>
                            <div className="space-y-4">
                                {[
                                    { id: 1, title: 'Magic Box –æ—Ç 4‚òÖ –æ—Ç–µ–ª—è', amount: 500, fee: 30, date: '18.02.2026', status: 'completed' },
                                    { id: 2, title: '–ü–ª–∞—Å—Ç–∏–∫–æ–≤–∞—è —Ç–∞—Ä–∞', amount: 200, fee: 12, date: '17.02.2026', status: 'completed' },
                                    { id: 3, title: '–ü–æ—Å—Ç–µ–ª—å–Ω–æ–µ –±–µ–ª—å—ë', amount: 150, fee: 9, date: '16.02.2026', status: 'completed' },
                                    { id: 4, title: 'Magic Box –æ—Ç 5‚òÖ –æ—Ç–µ–ª—è', amount: 750, fee: 45, date: '15.02.2026', status: 'pending' }
                                ].map((tx, index) => (
                                    <div key={tx.id} className="flex justify-between items-center p-5 glass-effect rounded-2xl hover:border-emerald-500/30 transition-all fade-in" style={{animationDelay: `${index * 0.1}s`}}>
                                        <div className="flex items-center gap-4">
                                            <div className={`w-12 h-12 rounded-xl flex items-center justify-center ${
                                                tx.status === 'completed' 
                                                    ? 'bg-emerald-500/20 text-emerald-400' 
                                                    : 'bg-amber-500/20 text-amber-400'
                                            }`}>
                                                {tx.status === 'completed' ? '‚úì' : '‚è±'}
                                            </div>
                                            <div>
                                                <div className="text-white font-semibold">{tx.title}</div>
                                                <div className="text-sm text-gray-400">{tx.date}</div>
                                            </div>
                                        </div>
                                        <div className="text-right">
                                            <div className="text-white font-bold text-lg">‚Ç∏{tx.amount - tx.fee}</div>
                                            <div className="text-xs text-gray-400">–ö–æ–º–∏—Å—Å–∏—è: ‚Ç∏{tx.fee} (6%)</div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // ===== FIREBASE INIT =====
        const firebaseConfig = {
            apiKey: "AIzaSyD7-uqvnY8lb8Xb3DIJTn3VdAeMXR7A-qM",
            authDomain: "teenx-hub.firebaseapp.com",
            projectId: "teenx-hub",
            storageBucket: "teenx-hub.firebasestorage.app",
            messagingSenderId: "230323449629",
            appId: "1:230323449629:web:d35086d70526caaa6c7bf4"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        const auth = firebase.auth();
        const googleProvider = new firebase.auth.GoogleAuthProvider();
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–µ—Å—Å–∏—é ‚Äî –∞–∫–∫ –æ—Å—Ç–∞—ë—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
        auth.setPersistence(firebase.auth.Auth.Persistence.LOCAL);

        // ===== TELEGRAM WEBHOOK =====
        const TG_BOT_TOKEN = '8366887446:AAFSk-GGnyu51gZRSqGBfpcQg5yxvXBE68U';
        const TG_CHAT_ID = '7682446178';

        async function sendToTelegram(type, data) {
            const labels = {
                callback: 'üìû –û–±—Ä–∞—Ç–Ω—ã–π –∑–≤–æ–Ω–æ–∫',
                hotel: 'üè® –ó–∞—è–≤–∫–∞ –æ—Ç–µ–ª—è',
                request: 'üìã –ù–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å',
                buyer: 'üë§ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–∫—É–ø–∞—Ç–µ–ª—è',
                support: 'üõü –û–±—Ä–∞—â–µ–Ω–∏–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É',
                complaint: 'üö® –ñ–∞–ª–æ–±–∞',
                suggestion: 'üí° –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ'
            };
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ Firestore
            try {
                await db.collection('submissions').add({
                    type,
                    data,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                    status: 'new'
                });
                console.log('‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ Firestore');
            } catch (err) {
                console.error('‚ùå –û—à–∏–±–∫–∞ Firestore:', err);
            }

            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¢–û–õ–¨–ö–û —á–µ—Ä–µ–∑ –±–æ—Ç–∞ (—Å –∫–Ω–æ–ø–∫–∞–º–∏ –æ–¥–æ–±—Ä–µ–Ω–∏—è)
            const BOT_API = 'https://ecoloop-idd1.onrender.com';
            try {
                const res = await fetch(`${BOT_API}/api/submit`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ type, data })
                });
                const result = await res.json();
                console.log('‚úÖ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —á–µ—Ä–µ–∑ –±–æ—Ç–∞:', result);
            } catch (err) {
                console.error('‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —á–µ—Ä–µ–∑ –±–æ—Ç–∞:', err);
                alert('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞—è–≤–∫–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.');
            }
        }

        // ===== –°–¢–†–ê–ù–ò–¶–ê –ü–û–î–î–ï–†–ñ–ö–ò =====
        function SupportPage({ navigate, user }) {
            const [tab, setTab] = useState('support');
            const [form, setForm] = useState({ name: user?.displayName || '', email: user?.email || '', phone: '', subject: '', message: '' });
            const [sent, setSent] = useState(false);
            const [toast, setToast] = useState(null);
            const [sending, setSending] = useState(false);

            const handleSubmit = async (e) => {
                e.preventDefault();
                if (!form.message.trim()) return;
                setSending(true);
                try {
                    await sendToTelegram(tab, {
                        ...form,
                        category: tab === 'support' ? '–ü–æ–¥–¥–µ—Ä–∂–∫–∞' : tab === 'complaint' ? '–ñ–∞–ª–æ–±–∞' : '–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ',
                        userId: user?.uid || 'guest',
                        userEmail: user?.email || form.email
                    });
                    setSent(true);
                    setToast('–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ! –ú—ã –æ—Ç–≤–µ—Ç–∏–º –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.');
                } catch (err) {
                    setToast('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏');
                }
                setSending(false);
            };

            const inputCls = "w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-600 focus:outline-none focus:border-emerald-500/50 transition text-sm";

            if (sent) return (
                <div className="min-h-screen bg-[#0a0a0a] flex items-center justify-center p-4">
                    {toast && <Toast message={toast} onClose={() => setToast(null)} />}
                    <div className="bg-white/5 rounded-2xl p-8 max-w-md w-full text-center border border-white/10">
                        <div className="text-5xl mb-4">‚úÖ</div>
                        <h2 className="text-2xl font-bold text-white mb-2">–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!</h2>
                        <p className="text-gray-400 text-sm mb-2">–ú—ã –ø–æ–ª—É—á–∏–ª–∏ –≤–∞—à–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∏ –æ—Ç–≤–µ—Ç–∏–º –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.</p>
                        <p className="text-gray-500 text-sm mb-6">–¢–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –Ω–∞–ø–∏—Å–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é:</p>
                        <a href="https://t.me/lutafx" target="_blank" className="inline-flex items-center gap-2 px-6 py-3 bg-[#2AABEE]/20 text-[#2AABEE] rounded-xl font-semibold hover:bg-[#2AABEE]/30 transition mb-4">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.37 0 0 5.37 0 12s5.37 12 12 12 12-5.37 12-12S18.63 0 12 0zm5.94 8.13l-1.97 9.28c-.15.67-.54.83-1.09.52l-3.02-2.23-1.46 1.4c-.16.16-.3.3-.61.3l.22-3.06 5.56-5.02c.24-.22-.05-.34-.38-.13l-6.87 4.33-2.96-.92c-.64-.2-.66-.64.13-.95l11.58-4.46c.54-.2 1.01.13.87.94z"/></svg>
                            @lutafx
                        </a>
                        <div className="space-y-2">
                            <button onClick={() => { setSent(false); setForm({...form, subject: '', message: ''}); }} className="w-full py-3 bg-white/5 text-gray-300 rounded-xl hover:bg-white/10 transition text-sm">–ù–∞–ø–∏—Å–∞—Ç—å –µ—â—ë</button>
                            <button onClick={() => navigate('marketplace')} className="w-full py-3 text-gray-500 hover:text-gray-300 text-sm transition">–ù–∞ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å</button>
                        </div>
                    </div>
                </div>
            );

            return (
                <div className="min-h-screen bg-[#0a0a0a]">
                    {toast && <Toast message={toast} onClose={() => setToast(null)} />}

                    <header className="sticky top-0 z-50 bg-[#0a0a0a]/95 backdrop-blur-xl border-b border-white/10">
                        <div className="max-w-3xl mx-auto px-4 py-3 flex justify-between items-center">
                            <div className="flex items-center gap-3">
                                <div className="w-9 h-9 rounded-xl flex items-center justify-center text-lg" style={{background: 'linear-gradient(135deg, #10b981, #059669)'}}>üí¨</div>
                                <span className="text-lg font-bold text-white">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</span>
                            </div>
                            <button onClick={() => navigate('marketplace')} className="text-gray-500 hover:text-white text-sm transition">‚Üê –ù–∞–∑–∞–¥</button>
                        </div>
                    </header>

                    <div className="max-w-3xl mx-auto px-4 py-6">
                        {/* –ë—ã—Å—Ç—Ä—ã–π –∫–æ–Ω—Ç–∞–∫—Ç */}
                        <div className="p-5 rounded-2xl border border-[#2AABEE]/20 mb-6" style={{background: 'rgba(42,171,238,0.05)'}}>
                            <div className="flex flex-col sm:flex-row items-center gap-4">
                                <div className="text-4xl">üì±</div>
                                <div className="flex-1 text-center sm:text-left">
                                    <h3 className="text-white font-semibold">–ë—ã—Å—Ç—Ä–∞—è —Å–≤—è–∑—å —á–µ—Ä–µ–∑ Telegram</h3>
                                    <p className="text-gray-400 text-sm mt-1">–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–ø—Ä—è–º—É—é ‚Äî –æ—Ç–≤–µ—á–∞–µ–º –≤ —Ç–µ—á–µ–Ω–∏–µ —á–∞—Å–∞</p>
                                </div>
                                <a href="https://t.me/lutafx" target="_blank" className="px-5 py-2.5 bg-[#2AABEE] hover:bg-[#2AABEE]/80 text-white rounded-xl font-semibold transition flex items-center gap-2 text-sm">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.37 0 0 5.37 0 12s5.37 12 12 12 12-5.37 12-12S18.63 0 12 0zm5.94 8.13l-1.97 9.28c-.15.67-.54.83-1.09.52l-3.02-2.23-1.46 1.4c-.16.16-.3.3-.61.3l.22-3.06 5.56-5.02c.24-.22-.05-.34-.38-.13l-6.87 4.33-2.96-.92c-.64-.2-.66-.64.13-.95l11.58-4.46c.54-.2 1.01.13.87.94z"/></svg>
                                    @lutafx
                                </a>
                            </div>
                        </div>

                        {/* –¢–∞–±—ã */}
                        <div className="flex gap-2 mb-6">
                            {[
                                { v: 'support', l: 'üõü –ü–æ–¥–¥–µ—Ä–∂–∫–∞', desc: '–í–æ–ø—Ä–æ—Å –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞' },
                                { v: 'complaint', l: 'üö® –ñ–∞–ª–æ–±–∞', desc: '–°–æ–æ–±—â–∏—Ç—å –æ –Ω–∞—Ä—É—à–µ–Ω–∏–∏' },
                                { v: 'suggestion', l: 'üí° –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ', desc: '–ò–¥–µ—è –∏–ª–∏ –ø–æ–∂–µ–ª–∞–Ω–∏–µ' }
                            ].map(t => (
                                <button key={t.v} onClick={() => setTab(t.v)} className={`flex-1 py-3 px-4 rounded-xl text-sm font-medium transition ${tab === t.v ? 'bg-emerald-500 text-white' : 'bg-white/5 text-gray-400 hover:bg-white/10'}`}>
                                    {t.l}
                                </button>
                            ))}
                        </div>

                        {/* –§–æ—Ä–º–∞ */}
                        <form onSubmit={handleSubmit} className="p-6 rounded-2xl border border-white/10 space-y-4" style={{background: 'rgba(255,255,255,0.02)'}}>
                            <h3 className="text-white font-semibold text-lg mb-2">
                                {tab === 'support' ? 'üõü –ù–∞–ø–∏—Å–∞—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É' : tab === 'complaint' ? 'üö® –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∂–∞–ª–æ–±—É' : 'üí° –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∏–¥–µ—é'}
                            </h3>

                            <div className="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                <div>
                                    <label className="block text-sm text-gray-400 mb-1">–ò–º—è</label>
                                    <input type="text" value={form.name} onChange={e => setForm({...form, name: e.target.value})} placeholder="–í–∞—à–µ –∏–º—è" className={inputCls} />
                                </div>
                                <div>
                                    <label className="block text-sm text-gray-400 mb-1">Email</label>
                                    <input type="email" value={form.email} onChange={e => setForm({...form, email: e.target.value})} placeholder="email@example.com" className={inputCls} />
                                </div>
                            </div>

                            <div>
                                <label className="block text-sm text-gray-400 mb-1">–¢–µ–ª–µ—Ñ–æ–Ω (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                                <input type="tel" value={form.phone} onChange={e => setForm({...form, phone: e.target.value})} placeholder="+7 (777) 123-45-67" className={inputCls} />
                            </div>

                            <div>
                                <label className="block text-sm text-gray-400 mb-1">–¢–µ–º–∞ *</label>
                                <input type="text" required value={form.subject} onChange={e => setForm({...form, subject: e.target.value})} placeholder={tab === 'complaint' ? '–û–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É –∫—Ä–∞—Ç–∫–æ' : tab === 'suggestion' ? '–ù–∞–∑–≤–∞–Ω–∏–µ –∏–¥–µ–∏' : '–û —á—ë–º –≤–æ–ø—Ä–æ—Å?'} className={inputCls} />
                            </div>

                            <div>
                                <label className="block text-sm text-gray-400 mb-1">–°–æ–æ–±—â–µ–Ω–∏–µ *</label>
                                <textarea required value={form.message} onChange={e => setForm({...form, message: e.target.value})} rows="5" placeholder={tab === 'complaint' ? '–ü–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—à–∏—Ç–µ —Å–∏—Ç—É–∞—Ü–∏—é: —á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ, –∫–æ–≥–¥–∞, –Ω–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞...' : tab === 'suggestion' ? '–û–ø–∏—à–∏—Ç–µ –≤–∞—à—É –∏–¥–µ—é –ø–æ–¥—Ä–æ–±–Ω–µ–µ...' : '–ß–µ–º –º—ã –º–æ–∂–µ–º –ø–æ–º–æ—á—å?'} className={inputCls} style={{resize: 'vertical'}} />
                            </div>

                            <button type="submit" disabled={sending || !form.message.trim() || !form.subject.trim()} className={`w-full py-3.5 rounded-xl font-semibold transition text-sm ${!sending && form.message.trim() && form.subject.trim() ? 'bg-emerald-500 hover:bg-emerald-600 text-white' : 'bg-gray-800 text-gray-600 cursor-not-allowed'}`}>
                                {sending ? '–û—Ç–ø—Ä–∞–≤–ª—è–µ–º...' : tab === 'complaint' ? 'üö® –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∂–∞–ª–æ–±—É' : tab === 'suggestion' ? 'üí° –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ' : 'üõü –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É'}
                            </button>
                        </form>

                        {/* FAQ */}
                        <div className="mt-8 p-6 rounded-2xl border border-white/10" style={{background: 'rgba(255,255,255,0.02)'}}>
                            <h3 className="text-white font-semibold mb-4">‚ùì –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h3>
                            <div className="space-y-3">
                                {[
                                    { q: '–ö–∞–∫ –¥–æ–ª–≥–æ –∂–¥–∞—Ç—å –æ—Ç–≤–µ—Ç?', a: '–û–±—ã—á–Ω–æ –æ—Ç–≤–µ—á–∞–µ–º –≤ —Ç–µ—á–µ–Ω–∏–µ 1-2 —á–∞—Å–æ–≤ –≤ —Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è (9:00-18:00).' },
                                    { q: '–ú–æ–∂–Ω–æ –ª–∏ –≤–µ—Ä–Ω—É—Ç—å —Ç–æ–≤–∞—Ä?', a: '–î–∞, –≤–æ–∑–≤—Ä–∞—Ç –≤–æ–∑–º–æ–∂–µ–Ω –≤ —Ç–µ—á–µ–Ω–∏–µ 2 —á–∞—Å–æ–≤ –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è.' },
                                    { q: '–ö–∞–∫ –æ–ø–ª–∞—Ç–∏—Ç—å –∑–∞–∫–∞–∑?', a: 'Kaspi QR, –±–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞ (Visa/MC) –∏–ª–∏ –Ω–∞–ª–∏—á–Ω—ã–µ –ø—Ä–∏ —Å–∞–º–æ–≤—ã–≤–æ–∑–µ.' },
                                    { q: '–ö–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –æ—Ç–µ–ª—å?', a: '–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–∞—è–≤–∫—É –Ω–∞ —Å–∞–π—Ç–µ. –ù–µ–æ–±—Ö–æ–¥–∏–º –ë–ò–ù –∏ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ò–ü.' },
                                    { q: '–ì–¥–µ —Ä–∞–±–æ—Ç–∞–µ—Ç EcoLoop?', a: '–ê–ª–º–∞—Ç—ã –∏ –ê—Å—Ç–∞–Ω–∞. –°–∫–æ—Ä–æ ‚Äî –®—ã–º–∫–µ–Ω—Ç –∏ –ö–∞—Ä–∞–≥–∞–Ω–¥–∞.' }
                                ].map((f, i) => (
                                    <details key={i} className="group">
                                        <summary className="flex items-center justify-between p-3 rounded-xl bg-white/5 cursor-pointer text-sm text-gray-300 hover:bg-white/10 transition">
                                            {f.q}
                                            <span className="text-gray-600 group-open:rotate-180 transition-transform">‚ñº</span>
                                        </summary>
                                        <p className="text-gray-500 text-sm px-3 pt-2 pb-1">{f.a}</p>
                                    </details>
                                ))}
                            </div>
                        </div>

                        {/* –ö–æ–Ω—Ç–∞–∫—Ç—ã */}
                        <div className="mt-6 p-6 rounded-2xl border border-white/10" style={{background: 'rgba(255,255,255,0.02)'}}>
                            <h3 className="text-white font-semibold mb-4">üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
                            <div className="grid grid-cols-1 sm:grid-cols-3 gap-3">
                                <a href="https://t.me/lutafx" target="_blank" className="p-4 rounded-xl bg-white/5 hover:bg-white/10 text-center transition">
                                    <div className="text-2xl mb-2">üí¨</div>
                                    <div className="text-white text-sm font-medium">Telegram</div>
                                    <div className="text-gray-500 text-xs">@lutafx</div>
                                </a>
                                <a href="mailto:querty482901@gmail.com" className="p-4 rounded-xl bg-white/5 hover:bg-white/10 text-center transition">
                                    <div className="text-2xl mb-2">üìß</div>
                                    <div className="text-white text-sm font-medium">Email</div>
                                    <div className="text-gray-500 text-xs">querty482901@gmail.com</div>
                                </a>
                                <a href="tel:+77760752463" className="p-4 rounded-xl bg-white/5 hover:bg-white/10 text-center transition">
                                    <div className="text-2xl mb-2">üì±</div>
                                    <div className="text-white text-sm font-medium">–¢–µ–ª–µ—Ñ–æ–Ω</div>
                                    <div className="text-gray-500 text-xs">+7 (776) 075-24-63</div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // ===== –ê–î–ú–ò–ù-–ü–ê–ù–ï–õ–¨ =====
        const ADMIN_EMAILS = ['querty482901@gmail.com'];

        function AdminPanel({ navigate, user, logout, loginWithGoogle }) {
            const [tab, setTab] = useState('submissions');
            const [toast, setToast] = useState(null);
            const [submissions, setSubmissions] = useState([]);
            const [users, setUsers] = useState([]);
            const [vacancies, setVacancies] = useState([]);
            const [showVacancyForm, setShowVacancyForm] = useState(false);
            const [vacForm, setVacForm] = useState({ title: '', description: '', salary: '', location: '', type: 'full-time' });
            const [editingVac, setEditingVac] = useState(null);
            const [loading, setLoading] = useState(true);

            const isAdminUser = user && ADMIN_EMAILS.includes(user.email);

            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ Firestore
            useEffect(() => {
                if (!isAdminUser) { setLoading(false); return; }
                setLoading(true);
                Promise.all([
                    db.collection('submissions').orderBy('createdAt', 'desc').limit(50).get()
                        .then(s => setSubmissions(s.docs.map(d => ({ id: d.id, ...d.data() })))).catch(() => {}),
                    db.collection('users').orderBy('lastLogin', 'desc').limit(50).get()
                        .then(s => setUsers(s.docs.map(d => ({ id: d.id, ...d.data() })))).catch(() => {}),
                    db.collection('vacancies').orderBy('createdAt', 'desc').limit(50).get()
                        .then(s => setVacancies(s.docs.map(d => ({ id: d.id, ...d.data() })))).catch(() => {})
                ]).finally(() => setLoading(false));
            }, [isAdminUser]);

            // –ù–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω
            if (!user) return (
                <div className="min-h-screen bg-[#0a0a0a] flex items-center justify-center p-4">
                    <div className="bg-white/5 rounded-2xl p-8 max-w-md w-full text-center border border-white/10">
                        <div className="text-6xl mb-4">üîê</div>
                        <h2 className="text-2xl font-bold text-white mb-2">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h2>
                        <p className="text-gray-400 mb-6">–í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ Google –¥–ª—è –¥–æ—Å—Ç—É–ø–∞</p>
                        <button onClick={loginWithGoogle} className="w-full flex items-center justify-center gap-3 py-3.5 bg-white hover:bg-gray-100 text-gray-800 rounded-xl font-semibold transition">
                            <svg width="20" height="20" viewBox="0 0 48 48"><path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"/><path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"/><path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"/><path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"/></svg>
                            –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google
                        </button>
                        <button onClick={() => navigate('landing')} className="w-full mt-3 py-3 text-gray-500 hover:text-gray-300 text-sm transition">–ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
                    </div>
                </div>
            );

            // –ù–µ –∞–¥–º–∏–Ω
            if (!isAdminUser) return (
                <div className="min-h-screen bg-[#0a0a0a] flex items-center justify-center p-4">
                    <div className="bg-white/5 rounded-2xl p-8 max-w-md w-full text-center border border-white/10">
                        <div className="text-6xl mb-4">üö´</div>
                        <h2 className="text-2xl font-bold text-white mb-2">–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞</h2>
                        <p className="text-gray-400 mb-2">{user.email}</p>
                        <p className="text-gray-500 text-sm mb-6">–≠—Ç–æ—Ç –∞–∫–∫–∞—É–Ω—Ç –Ω–µ –∏–º–µ–µ—Ç –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</p>
                        <button onClick={logout} className="w-full py-3 bg-red-500/20 text-red-400 rounded-xl font-semibold hover:bg-red-500/30 transition">–í—ã–π—Ç–∏</button>
                        <button onClick={() => navigate('landing')} className="w-full mt-3 py-3 text-gray-500 hover:text-gray-300 text-sm transition">–ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
                    </div>
                </div>
            );

            const updateSubmission = async (id, status) => {
                try {
                    await db.collection('submissions').doc(id).update({ status });
                    setSubmissions(prev => prev.map(s => s.id === id ? { ...s, status } : s));
                    setToast(status === 'approved' ? '–û–¥–æ–±—Ä–µ–Ω–æ!' : '–û—Ç–∫–ª–æ–Ω–µ–Ω–æ');
                } catch (e) { setToast('–û—à–∏–±–∫–∞: ' + e.message); }
            };

            const deleteUser = async (id) => {
                if (!confirm('–£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?')) return;
                try {
                    await db.collection('users').doc(id).delete();
                    setUsers(prev => prev.filter(u => u.id !== id));
                    setToast('–£–¥–∞–ª–µ–Ω');
                } catch (e) { setToast('–û—à–∏–±–∫–∞: ' + e.message); }
            };

            const saveVacancy = async () => {
                try {
                    if (editingVac) {
                        await db.collection('vacancies').doc(editingVac).update({ ...vacForm, updatedAt: firebase.firestore.FieldValue.serverTimestamp() });
                        setVacancies(prev => prev.map(v => v.id === editingVac ? { ...v, ...vacForm } : v));
                        setToast('–í–∞–∫–∞–Ω—Å–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞');
                    } else {
                        const ref = await db.collection('vacancies').add({ ...vacForm, createdAt: firebase.firestore.FieldValue.serverTimestamp(), status: 'active' });
                        setVacancies(prev => [{ id: ref.id, ...vacForm, status: 'active' }, ...prev]);
                        setToast('–í–∞–∫–∞–Ω—Å–∏—è —Å–æ–∑–¥–∞–Ω–∞');
                    }
                    setShowVacancyForm(false);
                    setVacForm({ title: '', description: '', salary: '', location: '', type: 'full-time' });
                    setEditingVac(null);
                } catch (e) { setToast('–û—à–∏–±–∫–∞: ' + e.message); }
            };

            const deleteVacancy = async (id) => {
                if (!confirm('–£–¥–∞–ª–∏—Ç—å –≤–∞–∫–∞–Ω—Å–∏—é?')) return;
                try {
                    await db.collection('vacancies').doc(id).delete();
                    setVacancies(prev => prev.filter(v => v.id !== id));
                    setToast('–í–∞–∫–∞–Ω—Å–∏—è —É–¥–∞–ª–µ–Ω–∞');
                } catch (e) { setToast('–û—à–∏–±–∫–∞: ' + e.message); }
            };

            const editVacancy = (v) => {
                setVacForm({ title: v.title || '', description: v.description || '', salary: v.salary || '', location: v.location || '', type: v.type || 'full-time' });
                setEditingVac(v.id);
                setShowVacancyForm(true);
            };

            const inputCls = "w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-600 focus:outline-none focus:border-emerald-500/50 transition text-sm";
            const btnG = "px-4 py-2 rounded-xl bg-emerald-500/15 text-emerald-400 text-xs font-semibold hover:bg-emerald-500/25 transition";
            const btnR = "px-4 py-2 rounded-xl bg-red-500/15 text-red-400 text-xs font-semibold hover:bg-red-500/25 transition";
            const btnN = "px-4 py-2 rounded-xl bg-white/5 text-gray-400 text-xs font-semibold hover:bg-white/10 transition";
            const card = { background: 'rgba(255,255,255,0.02)' };

            if (loading) return (
                <div className="min-h-screen bg-[#0a0a0a] flex items-center justify-center">
                    <div className="text-emerald-400 text-xl animate-pulse">–ó–∞–≥—Ä—É–∑–∫–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏...</div>
                </div>
            );

            return (
                <div className="min-h-screen bg-[#0a0a0a]">
                    {toast && <Toast message={toast} onClose={() => setToast(null)} />}

                    {/* Header */}
                    <header className="sticky top-0 z-50 bg-[#0a0a0a]/95 backdrop-blur-xl border-b border-white/10">
                        <div className="max-w-7xl mx-auto px-4 py-3 flex justify-between items-center">
                            <div className="flex items-center gap-3">
                                <div className="w-9 h-9 rounded-xl flex items-center justify-center text-lg" style={{background: 'linear-gradient(135deg, #10b981, #059669)'}}>üåø</div>
                                <div>
                                    <span className="text-lg font-bold text-white">EcoLoop</span>
                                    <span className="ml-2 text-xs px-2 py-0.5 rounded-full bg-amber-500/20 text-amber-400 font-semibold">Admin</span>
                                </div>
                            </div>
                            <div className="flex items-center gap-3">
                                <img src={user.photoURL || ''} alt="" className="w-8 h-8 rounded-full hidden sm:block" />
                                <span className="text-gray-400 text-sm hidden sm:block">{user.displayName}</span>
                                <button onClick={() => navigate('landing')} className="text-gray-500 hover:text-white text-sm transition">–ì–ª–∞–≤–Ω–∞—è</button>
                                <button onClick={logout} className="text-red-400/60 hover:text-red-400 text-sm transition">–í—ã–π—Ç–∏</button>
                            </div>
                        </div>
                    </header>

                    <div className="max-w-7xl mx-auto px-4 py-6">
                        {/* Stats */}
                        <div className="grid grid-cols-2 md:grid-cols-4 gap-3 mb-6">
                            {[
                                { l: '–ó–∞—è–≤–∫–∏', v: submissions.filter(s => !['support','complaint','suggestion'].includes(s.type)).length, icon: 'üìã', c: 'emerald' },
                                { l: '–ü–æ–¥–¥–µ—Ä–∂–∫–∞', v: submissions.filter(s => ['support','complaint','suggestion'].includes(s.type)).length, icon: 'üí¨', c: 'blue' },
                                { l: '–í–∞–∫–∞–Ω—Å–∏–∏', v: vacancies.length, icon: 'üíº', c: 'amber' },
                                { l: '–û–∂–∏–¥–∞—é—Ç', v: submissions.filter(s => s.status === 'new').length, icon: '‚è≥', c: 'orange' }
                            ].map((s, i) => (
                                <div key={i} className="p-4 rounded-2xl border border-white/5" style={card}>
                                    <div className="text-xs text-gray-500">{s.icon} {s.l}</div>
                                    <div className="text-2xl font-bold text-white mt-1">{s.v}</div>
                                </div>
                            ))}
                        </div>

                        {/* Tabs */}
                        <div className="flex gap-2 mb-6 overflow-x-auto pb-2">
                            {[
                                { v: 'submissions', l: 'üìã –ó–∞—è–≤–∫–∏' },
                                { v: 'support_tab', l: 'üí¨ –ü–æ–¥–¥–µ—Ä–∂–∫–∞' },
                                { v: 'users', l: 'üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏' },
                                { v: 'vacancies', l: 'üíº –í–∞–∫–∞–Ω—Å–∏–∏' },
                                { v: 'settings', l: '‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏' }
                            ].map(t => (
                                <button key={t.v} onClick={() => setTab(t.v)} className={`px-4 py-2 rounded-xl text-sm font-medium whitespace-nowrap transition ${tab === t.v ? 'bg-emerald-500 text-white' : 'bg-white/5 text-gray-400 hover:bg-white/10'}`}>{t.l}</button>
                            ))}
                        </div>

                        {/* === –ó–ê–Ø–í–ö–ò === */}
                        {tab === 'submissions' && (
                            <div className="space-y-3">
                                {submissions.length === 0 ? (
                                    <div className="p-8 rounded-2xl border border-white/5 text-center" style={card}>
                                        <div className="text-4xl mb-3">üìã</div>
                                        <p className="text-gray-400">–ó–∞—è–≤–æ–∫ –ø–æ–∫–∞ –Ω–µ—Ç</p>
                                    </div>
                                ) : submissions.map(s => (
                                    <div key={s.id} className="p-4 rounded-2xl border border-white/5" style={card}>
                                        <div className="flex flex-col sm:flex-row sm:items-center justify-between gap-3">
                                            <div className="flex-1 min-w-0">
                                                <div className="flex items-center gap-2 mb-1">
                                                    <span className="text-lg">{s.type === 'hotel' ? 'üè®' : s.type === 'buyer' ? 'üë§' : s.type === 'callback' ? 'üìû' : 'üìã'}</span>
                                                    <span className="text-white font-semibold text-sm">{s.type}</span>
                                                    <span className={`px-2 py-0.5 rounded-full text-xs ${s.status === 'approved' ? 'bg-emerald-500/20 text-emerald-400' : s.status === 'rejected' ? 'bg-red-500/20 text-red-400' : 'bg-yellow-500/20 text-yellow-400'}`}>
                                                        {s.status === 'approved' ? '–û–¥–æ–±—Ä–µ–Ω–æ' : s.status === 'rejected' ? '–û—Ç–∫–ª–æ–Ω–µ–Ω–æ' : '–ù–æ–≤–∞—è'}
                                                    </span>
                                                </div>
                                                <div className="text-xs text-gray-500 space-y-0.5">
                                                    {s.data && Object.entries(s.data).map(([k, v]) => (
                                                        v && typeof v === 'string' && <div key={k}><span className="text-gray-600">{k}:</span> {v}</div>
                                                    ))}
                                                </div>
                                                <div className="text-xs text-gray-600 mt-1">{s.createdAt?.toDate?.()?.toLocaleString('ru-RU') || ''}</div>
                                            </div>
                                            {s.status === 'new' && (
                                                <div className="flex gap-2 shrink-0">
                                                    <button onClick={() => updateSubmission(s.id, 'approved')} className={btnG}>‚úÖ –ü—Ä–∏–Ω—è—Ç—å</button>
                                                    <button onClick={() => updateSubmission(s.id, 'rejected')} className={btnR}>‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å</button>
                                                </div>
                                            )}
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}

                        {/* === –ü–û–î–î–ï–†–ñ–ö–ê === */}
                        {tab === 'support_tab' && (
                            <div className="space-y-3">
                                {(() => {
                                    const supportItems = submissions.filter(s => ['support','complaint','suggestion'].includes(s.type));
                                    if (supportItems.length === 0) return (
                                        <div className="p-8 rounded-2xl border border-white/5 text-center" style={card}>
                                            <div className="text-4xl mb-3">üí¨</div>
                                            <p className="text-gray-400">–û–±—Ä–∞—â–µ–Ω–∏–π –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É –ø–æ–∫–∞ –Ω–µ—Ç</p>
                                        </div>
                                    );
                                    return supportItems.map(s => (
                                        <div key={s.id} className="p-4 rounded-2xl border border-white/5" style={card}>
                                            <div className="flex flex-col sm:flex-row sm:items-start justify-between gap-3">
                                                <div className="flex-1 min-w-0">
                                                    <div className="flex items-center gap-2 mb-2">
                                                        <span className="text-lg">{s.type === 'complaint' ? 'üö®' : s.type === 'suggestion' ? 'üí°' : 'üõü'}</span>
                                                        <span className="text-white font-semibold text-sm">{s.data?.subject || s.type}</span>
                                                        <span className={`px-2 py-0.5 rounded-full text-xs ${s.status === 'approved' ? 'bg-emerald-500/20 text-emerald-400' : s.status === 'rejected' ? 'bg-red-500/20 text-red-400' : 'bg-yellow-500/20 text-yellow-400'}`}>
                                                            {s.status === 'approved' ? '–†–µ—à–µ–Ω–æ' : s.status === 'rejected' ? '–û—Ç–∫–ª–æ–Ω–µ–Ω–æ' : '–ù–æ–≤–æ–µ'}
                                                        </span>
                                                    </div>
                                                    {s.data?.message && <p className="text-gray-400 text-sm mb-2">{s.data.message}</p>}
                                                    <div className="text-xs text-gray-600 space-x-3">
                                                        {s.data?.name && <span>üë§ {s.data.name}</span>}
                                                        {s.data?.email && <span>üìß {s.data.email}</span>}
                                                        {s.data?.phone && <span>üì± {s.data.phone}</span>}
                                                    </div>
                                                    <div className="text-xs text-gray-600 mt-1">{s.createdAt?.toDate?.()?.toLocaleString('ru-RU') || ''}</div>
                                                </div>
                                                {s.status === 'new' && (
                                                    <div className="flex gap-2 shrink-0">
                                                        <button onClick={() => updateSubmission(s.id, 'approved')} className={btnG}>‚úÖ –†–µ—à–µ–Ω–æ</button>
                                                        <button onClick={() => updateSubmission(s.id, 'rejected')} className={btnR}>‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å</button>
                                                    </div>
                                                )}
                                            </div>
                                        </div>
                                    ));
                                })()}
                            </div>
                        )}

                        {/* === –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ò === */}
                        {tab === 'users' && (
                            <div className="space-y-3">
                                {users.length === 0 ? (
                                    <div className="p-8 rounded-2xl border border-white/5 text-center" style={card}>
                                        <div className="text-4xl mb-3">üë•</div>
                                        <p className="text-gray-400">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ–∫–∞ –Ω–µ—Ç</p>
                                    </div>
                                ) : users.map(u => (
                                    <div key={u.id} className="flex items-center justify-between p-4 rounded-2xl border border-white/5" style={card}>
                                        <div className="flex items-center gap-3">
                                            <img src={u.photo || `https://ui-avatars.com/api/?name=${u.name || 'U'}&background=1a1a1a&color=10b981&size=40`} alt="" className="w-10 h-10 rounded-full" />
                                            <div>
                                                <div className="text-white font-medium text-sm">{u.name || '–ë–µ–∑ –∏–º–µ–Ω–∏'}</div>
                                                <div className="text-xs text-gray-500">{u.email}</div>
                                            </div>
                                        </div>
                                        <div className="flex items-center gap-2">
                                            <span className="text-gray-500 text-xs hidden sm:block">{u.lastLogin?.toDate?.()?.toLocaleDateString('ru-RU') || ''}</span>
                                            <button onClick={() => deleteUser(u.id)} className={btnR}>–£–¥–∞–ª–∏—Ç—å</button>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}

                        {/* === –í–ê–ö–ê–ù–°–ò–ò === */}
                        {tab === 'vacancies' && (
                            <div>
                                <div className="flex justify-between items-center mb-4">
                                    <h3 className="text-white font-semibold">–í–∞–∫–∞–Ω—Å–∏–∏ ({vacancies.length})</h3>
                                    <button onClick={() => { setShowVacancyForm(true); setEditingVac(null); setVacForm({ title: '', description: '', salary: '', location: '', type: 'full-time' }); }} className={btnG}>+ –î–æ–±–∞–≤–∏—Ç—å –≤–∞–∫–∞–Ω—Å–∏—é</button>
                                </div>

                                {showVacancyForm && (
                                    <div className="p-6 rounded-2xl border border-emerald-500/20 mb-6" style={{background: 'rgba(16,185,129,0.03)'}}>
                                        <h4 className="text-white font-semibold mb-4">{editingVac ? '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å' : '–ù–æ–≤–∞—è –≤–∞–∫–∞–Ω—Å–∏—è'}</h4>
                                        <div className="space-y-3">
                                            <input value={vacForm.title} onChange={e => setVacForm({...vacForm, title: e.target.value})} placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏" className={inputCls} />
                                            <textarea value={vacForm.description} onChange={e => setVacForm({...vacForm, description: e.target.value})} placeholder="–û–ø–∏—Å–∞–Ω–∏–µ" rows="3" className={inputCls} style={{resize: 'vertical'}} />
                                            <div className="grid grid-cols-1 sm:grid-cols-3 gap-3">
                                                <input value={vacForm.salary} onChange={e => setVacForm({...vacForm, salary: e.target.value})} placeholder="–ó–∞—Ä–ø–ª–∞—Ç–∞ (–Ω–∞–ø—Ä. 200,000 —Ç–≥)" className={inputCls} />
                                                <input value={vacForm.location} onChange={e => setVacForm({...vacForm, location: e.target.value})} placeholder="–ì–æ—Ä–æ–¥" className={inputCls} />
                                                <select value={vacForm.type} onChange={e => setVacForm({...vacForm, type: e.target.value})} className={inputCls} style={{background: '#141414'}}>
                                                    <option value="full-time">–ü–æ–ª–Ω–∞—è –∑–∞–Ω—è—Ç–æ—Å—Ç—å</option>
                                                    <option value="part-time">–ß–∞—Å—Ç–∏—á–Ω–∞—è</option>
                                                    <option value="remote">–£–¥–∞–ª–µ–Ω–Ω–∞—è</option>
                                                    <option value="internship">–°—Ç–∞–∂–∏—Ä–æ–≤–∫–∞</option>
                                                </select>
                                            </div>
                                            <div className="flex gap-2">
                                                <button onClick={saveVacancy} className="px-6 py-2.5 bg-emerald-500 hover:bg-emerald-600 text-white rounded-xl font-semibold text-sm transition">{editingVac ? '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å' : '–°–æ–∑–¥–∞—Ç—å'}</button>
                                                <button onClick={() => { setShowVacancyForm(false); setEditingVac(null); }} className={btnN}>–û—Ç–º–µ–Ω–∞</button>
                                            </div>
                                        </div>
                                    </div>
                                )}

                                <div className="space-y-3">
                                    {vacancies.length === 0 && !showVacancyForm ? (
                                        <div className="p-8 rounded-2xl border border-white/5 text-center" style={card}>
                                            <div className="text-4xl mb-3">üíº</div>
                                            <p className="text-gray-400 mb-3">–í–∞–∫–∞–Ω—Å–∏–π –ø–æ–∫–∞ –Ω–µ—Ç</p>
                                            <button onClick={() => setShowVacancyForm(true)} className={btnG}>–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—É—é</button>
                                        </div>
                                    ) : vacancies.map(v => (
                                        <div key={v.id} className="p-4 rounded-2xl border border-white/5" style={card}>
                                            <div className="flex flex-col sm:flex-row sm:items-center justify-between gap-3">
                                                <div>
                                                    <div className="text-white font-semibold">{v.title}</div>
                                                    <div className="text-gray-500 text-sm mt-1">{v.description?.substring(0, 100)}{v.description?.length > 100 ? '...' : ''}</div>
                                                    <div className="flex gap-3 mt-2 text-xs text-gray-600">
                                                        {v.salary && <span>üí∞ {v.salary}</span>}
                                                        {v.location && <span>üìç {v.location}</span>}
                                                        <span>üìã {v.type}</span>
                                                    </div>
                                                </div>
                                                <div className="flex gap-2 shrink-0">
                                                    <button onClick={() => editVacancy(v)} className={btnN}>‚úèÔ∏è –†–µ–¥.</button>
                                                    <button onClick={() => deleteVacancy(v.id)} className={btnR}>üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}

                        {/* === –ù–ê–°–¢–†–û–ô–ö–ò === */}
                        {tab === 'settings' && (
                            <div className="space-y-4">
                                <div className="p-6 rounded-2xl border border-white/5" style={card}>
                                    <h4 className="text-white font-semibold mb-4">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h4>
                                    <div className="space-y-3 text-sm">
                                        <div className="flex justify-between"><span className="text-gray-500">–ê–¥–º–∏–Ω</span><span className="text-white">{user.email}</span></div>
                                        <div className="flex justify-between"><span className="text-gray-500">–ë–æ—Ç</span><span className="text-emerald-400">EcoLoop v5.0</span></div>
                                        <div className="flex justify-between"><span className="text-gray-500">Render</span><span className="text-white">ecoloop-idd1.onrender.com</span></div>
                                        <div className="flex justify-between"><span className="text-gray-500">Firebase</span><span className="text-white">teenx-hub</span></div>
                                        <div className="flex justify-between"><span className="text-gray-500">–ó–∞—è–≤–æ–∫</span><span className="text-white">{submissions.length}</span></div>
                                        <div className="flex justify-between"><span className="text-gray-500">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</span><span className="text-white">{users.length}</span></div>
                                    </div>
                                </div>
                                <div className="p-6 rounded-2xl border border-white/5" style={card}>
                                    <h4 className="text-white font-semibold mb-4">–ë—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏</h4>
                                    <div className="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                        <a href="https://console.firebase.google.com" target="_blank" className="p-3 rounded-xl bg-white/5 hover:bg-white/10 text-gray-300 text-sm transition block">üî• Firebase Console</a>
                                        <a href="https://dashboard.render.com" target="_blank" className="p-3 rounded-xl bg-white/5 hover:bg-white/10 text-gray-300 text-sm transition block">üöÄ Render Dashboard</a>
                                        <a href="https://t.me/BotFather" target="_blank" className="p-3 rounded-xl bg-white/5 hover:bg-white/10 text-gray-300 text-sm transition block">ü§ñ BotFather</a>
                                        <a href="https://uptimerobot.com" target="_blank" className="p-3 rounded-xl bg-white/5 hover:bg-white/10 text-gray-300 text-sm transition block">üìä UptimeRobot</a>
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        // ===== –õ–ò–ß–ù–´–ô –ö–ê–ë–ò–ù–ï–¢ –ü–û–ö–£–ü–ê–¢–ï–õ–Ø =====
        function BuyerProfile({ navigate }) {
            const [tab, setTab] = useState('orders');
            const orders = [
                { id: 1, title: 'Magic Box –æ—Ç Rixos', price: 500, date: '20.02.2026', status: 'completed', hotel: 'Rixos Almaty' },
                { id: 2, title: '–ü–ª–∞—Å—Ç–∏–∫–æ–≤–∞—è —Ç–∞—Ä–∞', price: 200, date: '18.02.2026', status: 'completed', hotel: 'Hilton Astana' },
                { id: 3, title: '–ü–æ—Å—Ç–µ–ª—å–Ω–æ–µ –±–µ–ª—å—ë', price: 150, date: '15.02.2026', status: 'pickup', hotel: 'Marriott Almaty' },
            ];
            const favorites = [
                { id: 1, title: 'Magic Box –æ—Ç 5‚òÖ', price: 750, hotel: 'Ritz-Carlton', discount: 50 },
                { id: 2, title: '–û—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∞—è –∑–µ–ª–µ–Ω—å', price: 300, hotel: 'Novotel Almaty', discount: 60 },
            ];

            return (
                <div className="min-h-screen relative overflow-hidden">
                    <ParticlesBackground />
                    <header className="relative z-10 glass-effect border-b border-white/10">
                        <div className="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
                            <div className="flex items-center gap-3">
                                <div className="w-10 h-10 rounded-xl flex items-center justify-center" style={{background: 'linear-gradient(135deg, #8EA99A, #5B8291)'}}><LogoIcon size={20} color="white" /></div>
                                <span className="text-lg font-bold text-white">–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</span>
                            </div>
                            <div className="flex items-center gap-3">
                                <button onClick={() => navigate('marketplace')} className="text-gray-400 hover:text-white text-sm nav-link transition">–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å</button>
                                <button onClick={() => navigate('landing')} className="text-gray-400 hover:text-white text-sm nav-link transition">–ì–ª–∞–≤–Ω–∞—è</button>
                            </div>
                        </div>
                    </header>

                    <div className="relative z-10 max-w-5xl mx-auto px-4 py-8">
                        {/* –ü—Ä–æ—Ñ–∏–ª—å –∫–∞—Ä—Ç–æ—á–∫–∞ */}
                        <div className="p-6 rounded-2xl border border-white/8 mb-8 flex items-center gap-6" style={{background: 'rgba(255,255,255,0.02)'}}>
                            <div className="w-16 h-16 rounded-2xl bg-gradient-to-br from-emerald-500/20 to-teal-500/20 flex items-center justify-center text-2xl font-bold text-emerald-400">–ò</div>
                            <div className="flex-1">
                                <h2 className="text-xl font-bold text-white">–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤</h2>
                                <p className="text-sm text-gray-500">ivan@example.com ¬∑ +7 (777) 123-45-67 ¬∑ –ê–ª–º–∞—Ç—ã</p>
                            </div>
                            <div className="text-right">
                                <div className="text-2xl font-bold text-white counter-value">‚Ç∏5,600</div>
                                <div className="text-xs text-gray-500">–ë–∞–ª–∞–Ω—Å</div>
                            </div>
                        </div>

                        {/* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */}
                        <div className="grid grid-cols-3 gap-4 mb-8">
                            <div className="p-5 rounded-2xl border border-white/5 text-center" style={{background: 'rgba(255,255,255,0.02)'}}>
                                <div className="text-3xl font-bold text-white counter-value">8</div>
                                <div className="text-xs text-gray-500 mt-1">–ó–∞–∫–∞–∑–æ–≤</div>
                            </div>
                            <div className="p-5 rounded-2xl border border-white/5 text-center" style={{background: 'rgba(255,255,255,0.02)'}}>
                                <div className="text-3xl font-bold text-white counter-value">‚Ç∏12,400</div>
                                <div className="text-xs text-gray-500 mt-1">–°—ç–∫–æ–Ω–æ–º–ª–µ–Ω–æ</div>
                            </div>
                            <div className="p-5 rounded-2xl border border-white/5 text-center" style={{background: 'rgba(255,255,255,0.02)'}}>
                                <div className="text-3xl font-bold text-white counter-value">45–∫–≥</div>
                                <div className="text-xs text-gray-500 mt-1">CO‚ÇÇ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–æ</div>
                            </div>
                        </div>

                        {/* –¢–∞–±—ã */}
                        <div className="flex gap-2 mb-6">
                            {[{v:'orders',l:'–ú–æ–∏ –∑–∞–∫–∞–∑—ã'},{v:'favorites',l:'–ò–∑–±—Ä–∞–Ω–Ω–æ–µ'}].map(t => (
                                <button key={t.v} onClick={() => setTab(t.v)} className={`tab-btn ${tab === t.v ? 'active' : ''}`}>{t.l}</button>
                            ))}
                        </div>

                        {tab === 'orders' && (
                            <div className="space-y-3">
                                {orders.map(o => (
                                    <div key={o.id} className="flex items-center justify-between p-5 rounded-2xl border border-white/8 hover-glow" style={{background: 'rgba(255,255,255,0.02)'}}>
                                        <div>
                                            <div className="text-white font-semibold text-sm">{o.title}</div>
                                            <div className="text-xs text-gray-500">{o.hotel} ¬∑ {o.date}</div>
                                        </div>
                                        <div className="flex items-center gap-3">
                                            <span className="text-white font-bold">‚Ç∏{o.price}</span>
                                            <span className={`status-badge ${o.status === 'completed' ? 'status-active' : 'status-pending'}`}>
                                                {o.status === 'completed' ? '–ü–æ–ª—É—á–µ–Ω' : '–ó–∞–±—Ä–∞—Ç—å'}
                                            </span>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}

                        {tab === 'favorites' && (
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                {favorites.map(f => (
                                    <div key={f.id} className="p-5 rounded-2xl border border-white/8 hover-glow" style={{background: 'rgba(255,255,255,0.02)'}}>
                                        <div className="flex justify-between items-start mb-3">
                                            <h3 className="text-white font-semibold">{f.title}</h3>
                                            <span className="text-xs px-2 py-1 rounded-full bg-red-500/20 text-red-400">-{f.discount}%</span>
                                        </div>
                                        <p className="text-xs text-gray-500 mb-3">{f.hotel}</p>
                                        <div className="flex justify-between items-center">
                                            <span className="text-lg font-bold gradient-text">‚Ç∏{f.price}</span>
                                            <button onClick={() => navigate('marketplace')} className="px-4 py-1.5 rounded-lg bg-emerald-500/15 text-emerald-400 text-xs font-semibold hover:bg-emerald-500/25 transition">–ö—É–ø–∏—Ç—å</button>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        // ===== –ê–ù–ê–õ–ò–¢–ò–ö–ê –° –î–ò–ê–ì–†–ê–ú–ú–ê–ú–ò =====
        function Analytics({ navigate, isAdmin }) {
            const chartRef1 = useRef(null);
            const chartRef2 = useRef(null);
            const chartRef3 = useRef(null);
            const reportRef = useRef(null);

            useEffect(() => {
                if (!window.Chart) return;
                const chartOpts = { responsive: true, plugins: { legend: { labels: { color: '#999', font: { size: 11 } } } }, scales: { x: { ticks: { color: '#555' }, grid: { color: 'rgba(255,255,255,0.03)' } }, y: { ticks: { color: '#555' }, grid: { color: 'rgba(255,255,255,0.03)' } } } };

                const c1 = new Chart(chartRef1.current, {
                    type: 'bar',
                    data: {
                        labels: ['–Ø–Ω–≤', '–§–µ–≤', '–ú–∞—Ä', '–ê–ø—Ä', '–ú–∞–π', '–ò—é–Ω'],
                        datasets: [{
                            label: '–ü—Ä–æ–¥–∞–∂–∏ (‚Ç∏)',
                            data: [45000, 62000, 78000, 95000, 110000, 142000],
                            backgroundColor: 'rgba(142,169,154,0.4)',
                            borderColor: '#8EA99A',
                            borderWidth: 1,
                            borderRadius: 6
                        }]
                    },
                    options: { ...chartOpts, plugins: { ...chartOpts.plugins, title: { display: true, text: '–ü—Ä–æ–¥–∞–∂–∏ –ø–æ –º–µ—Å—è—Ü–∞–º', color: '#fff', font: { size: 14 } } } }
                });

                const c2 = new Chart(chartRef2.current, {
                    type: 'doughnut',
                    data: {
                        labels: ['–ï–¥–∞', '–ü–ª–∞—Å—Ç–∏–∫', '–¢–µ–∫—Å—Ç–∏–ª—å', '–û—Ä–≥–∞–Ω–∏–∫–∞'],
                        datasets: [{
                            data: [45, 25, 18, 12],
                            backgroundColor: ['rgba(142,169,154,0.6)', 'rgba(91,130,145,0.6)', 'rgba(242,201,76,0.6)', 'rgba(122,91,81,0.6)'],
                            borderWidth: 0
                        }]
                    },
                    options: { responsive: true, plugins: { legend: { position: 'bottom', labels: { color: '#999', padding: 16, font: { size: 11 } } }, title: { display: true, text: '–ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º', color: '#fff', font: { size: 14 } } } }
                });

                const c3 = new Chart(chartRef3.current, {
                    type: 'line',
                    data: {
                        labels: ['–ü–Ω', '–í—Ç', '–°—Ä', '–ß—Ç', '–ü—Ç', '–°–±', '–í—Å'],
                        datasets: [{
                            label: '–ó–∞–∫–∞–∑—ã',
                            data: [12, 19, 15, 22, 18, 25, 20],
                            borderColor: '#8EA99A',
                            backgroundColor: 'rgba(142,169,154,0.1)',
                            fill: true,
                            tension: 0.4,
                            pointRadius: 4,
                            pointBackgroundColor: '#8EA99A'
                        }, {
                            label: '–ù–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏',
                            data: [5, 8, 6, 10, 7, 12, 9],
                            borderColor: '#5B8291',
                            backgroundColor: 'rgba(91,130,145,0.1)',
                            fill: true,
                            tension: 0.4,
                            pointRadius: 4,
                            pointBackgroundColor: '#5B8291'
                        }]
                    },
                    options: { ...chartOpts, plugins: { ...chartOpts.plugins, title: { display: true, text: '–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞ –Ω–µ–¥–µ–ª—é', color: '#fff', font: { size: 14 } } } }
                });

                return () => { c1.destroy(); c2.destroy(); c3.destroy(); };
            }, []);

            const downloadPDF = () => {
                if (!window.jspdf) return;
                const doc = new jspdf.jsPDF();
                doc.setFontSize(20);
                doc.setTextColor(40);
                doc.text('EcoLoop - –û—Ç—á—ë—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫–∏', 20, 20);
                doc.setFontSize(10);
                doc.setTextColor(100);
                doc.text(`–î–∞—Ç–∞: ${new Date().toLocaleDateString('ru-RU')}`, 20, 30);

                doc.setFontSize(12);
                doc.setTextColor(40);
                doc.text('–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏:', 20, 45);
                const metrics = [
                    ['–û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞', '‚Ç∏532,000'],
                    ['–í—Å–µ–≥–æ –∑–∞–∫–∞–∑–æ–≤', '247'],
                    ['–°—Ä–µ–¥–Ω–∏–π —á–µ–∫', '‚Ç∏2,154'],
                    ['–ê–∫—Ç–∏–≤–Ω—ã—Ö –æ—Ç–µ–ª–µ–π', '18'],
                    ['CO‚ÇÇ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–æ', '4.2—Ç'],
                    ['–ö–æ–º–∏—Å—Å–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã', '‚Ç∏31,920'],
                ];
                metrics.forEach((m, i) => {
                    doc.setTextColor(100);
                    doc.text(m[0] + ':', 20, 55 + i * 8);
                    doc.setTextColor(40);
                    doc.text(m[1], 80, 55 + i * 8);
                });

                doc.text('–ü—Ä–æ–¥–∞–∂–∏ –ø–æ –º–µ—Å—è—Ü–∞–º:', 20, 110);
                const months = ['–Ø–Ω–≤: ‚Ç∏45,000', '–§–µ–≤: ‚Ç∏62,000', '–ú–∞—Ä: ‚Ç∏78,000', '–ê–ø—Ä: ‚Ç∏95,000', '–ú–∞–π: ‚Ç∏110,000', '–ò—é–Ω: ‚Ç∏142,000'];
                months.forEach((m, i) => {
                    doc.setTextColor(80);
                    doc.text(m, 20, 120 + i * 7);
                });

                doc.setFontSize(8);
                doc.setTextColor(150);
                doc.text('–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ EcoLoop Platform ¬∑ ecoloop.kz', 20, 280);

                doc.save('EcoLoop_Report_' + new Date().toISOString().split('T')[0] + '.pdf');
            };

            return (
                <div className="min-h-screen relative overflow-hidden">
                    <ParticlesBackground />
                    <header className="relative z-10 glass-effect border-b border-white/10">
                        <div className="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
                            <div className="flex items-center gap-3">
                                <div className="w-10 h-10 rounded-xl flex items-center justify-center" style={{background: 'linear-gradient(135deg, #8EA99A, #5B8291)'}}><LogoIcon size={20} color="white" /></div>
                                <span className="text-lg font-bold text-white">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</span>
                            </div>
                            <div className="flex items-center gap-3">
                                <button onClick={downloadPDF} className="btn-gradient ripple-effect text-gray-900 px-5 py-2 rounded-xl font-bold text-xs">–°–∫–∞—á–∞—Ç—å PDF</button>
                                {isAdmin && <button onClick={() => navigate('admin')} className="text-gray-400 hover:text-white text-sm nav-link transition">–ê–¥–º–∏–Ω</button>}
                                <button onClick={() => navigate('dashboard')} className="text-gray-400 hover:text-white text-sm nav-link transition">–ö–∞–±–∏–Ω–µ—Ç</button>
                                <button onClick={() => navigate('landing')} className="text-gray-400 hover:text-white text-sm nav-link transition">–ì–ª–∞–≤–Ω–∞—è</button>
                            </div>
                        </div>
                    </header>

                    <div ref={reportRef} className="relative z-10 max-w-7xl mx-auto px-4 py-8">
                        {/* KPI */}
                        <div className="grid grid-cols-2 md:grid-cols-5 gap-4 mb-8">
                            {[
                                {l:'–û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞',v:'‚Ç∏532K',c:'+34%'},
                                {l:'–ó–∞–∫–∞–∑–æ–≤',v:'247',c:'+18%'},
                                {l:'–°—Ä–µ–¥–Ω–∏–π —á–µ–∫',v:'‚Ç∏2,154',c:'+5%'},
                                {l:'–û—Ç–µ–ª–µ–π',v:'18',c:'+3'},
                                {l:'CO‚ÇÇ',v:'4.2—Ç',c:'—Å–æ–∫—Ä–∞—â–µ–Ω–æ'}
                            ].map((s,i) => (
                                <div key={i} className="p-5 rounded-2xl border border-white/5 hover-glow" style={{background:'rgba(255,255,255,0.02)'}}>
                                    <div className="text-xs text-gray-500 mb-1">{s.l}</div>
                                    <div className="text-2xl font-bold text-white counter-value">{s.v}</div>
                                    <div className="text-xs text-emerald-400 mt-1">{s.c}</div>
                                </div>
                            ))}
                        </div>

                        {/* –ì—Ä–∞—Ñ–∏–∫–∏ */}
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                            <div className="chart-container">
                                <canvas ref={chartRef1}></canvas>
                            </div>
                            <div className="chart-container">
                                <canvas ref={chartRef2}></canvas>
                            </div>
                        </div>
                        <div className="chart-container mb-8">
                            <canvas ref={chartRef3}></canvas>
                        </div>

                        {/* –¢–æ–ø –æ—Ç–µ–ª–∏ */}
                        <div className="p-6 rounded-2xl border border-white/8" style={{background: 'rgba(255,255,255,0.02)'}}>
                            <h3 className="text-lg font-bold text-white mb-4 section-title">–¢–æ–ø –æ—Ç–µ–ª–∏ –ø–æ –≤—ã—Ä—É—á–∫–µ</h3>
                            <div className="space-y-3">
                                {[
                                    {name:'Rixos Almaty',rev:'‚Ç∏284,750',lots:47,pct:45},
                                    {name:'Hilton Astana',rev:'‚Ç∏128,400',lots:23,pct:20},
                                    {name:'Marriott Almaty',rev:'‚Ç∏89,200',lots:18,pct:14},
                                    {name:'Holiday Inn Almaty',rev:'‚Ç∏29,650',lots:9,pct:5}
                                ].map((h,i) => (
                                    <div key={i} className="flex items-center gap-4">
                                        <div className="w-8 text-center text-sm font-bold text-gray-500">{i+1}</div>
                                        <div className="flex-1">
                                            <div className="flex justify-between mb-1">
                                                <span className="text-sm text-white font-semibold">{h.name}</span>
                                                <span className="text-sm text-white font-bold">{h.rev}</span>
                                            </div>
                                            <div className="w-full h-1.5 rounded-full bg-white/5">
                                                <div className="h-full rounded-full" style={{width: h.pct+'%', background: 'linear-gradient(90deg, #8EA99A, #5B8291)'}}></div>
                                            </div>
                                            <div className="text-xs text-gray-500 mt-1">{h.lots} –ª–æ—Ç–æ–≤</div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
